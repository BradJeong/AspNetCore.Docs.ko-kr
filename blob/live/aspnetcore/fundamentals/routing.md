---
title: "ASP.NET Core의 라우팅"
author: ardalis
description: "ASP.NET Core 라우팅 기능 경로 처리기에 들어오는 요청을 매핑하는 일을 담당 어떻게를 파악 합니다."
ms.author: riande
manager: wpickett
ms.date: 10/14/2016
ms.topic: article
ms.technology: aspnet
ms.prod: asp.net-core
uid: fundamentals/routing
ms.openlocfilehash: ffa3178dc4e3aac3ba51c29b7efa3f71eb56bcfe
ms.sourcegitcommit: 3e303620a125325bb9abd4b2d315c106fb8c47fd
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/19/2018
---
# <a name="routing-in-aspnet-core"></a><span data-ttu-id="9454c-103">ASP.NET Core의 라우팅</span><span class="sxs-lookup"><span data-stu-id="9454c-103">Routing in ASP.NET Core</span></span>

<span data-ttu-id="9454c-104">여 [사람인 Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), 및 [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="9454c-104">By [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="9454c-105">라우팅 기능은 경로 처리기에 들어오는 요청을 매핑하는 일을 담당 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-105">Routing functionality is responsible for mapping an incoming request to a route handler.</span></span> <span data-ttu-id="9454c-106">경로 ASP.NET 응용 프로그램에 정의 되 고 응용 프로그램 시작 될 때 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-106">Routes are defined in the ASP.NET app and configured when the app starts up.</span></span> <span data-ttu-id="9454c-107">경로 요청에 포함 된 URL에서 필요에 따라 값을 추출할 수 있습니다 및 이러한 값 요청 처리를 위해 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-107">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="9454c-108">ASP.NET 응용 프로그램에서 경로 정보를 사용 하 여 라우팅 기능은 또한 경로 처리기에 매핑되는 Url을 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-108">Using route information from the ASP.NET app, the routing functionality is also able to generate URLs that map to route handlers.</span></span> <span data-ttu-id="9454c-109">따라서 라우팅 URL 또는 경로 처리기 정보에 따라 지정 된 경로 처리기에 해당 하는 URL에 따라 경로 처리기를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-109">Therefore, routing can find a route handler based on a URL, or the URL corresponding to a given route handler based on route handler information.</span></span>

>[!IMPORTANT]
> <span data-ttu-id="9454c-110">이 문서에서는 라우팅 낮은 수준의 ASP.NET Core를 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-110">This document covers the low level ASP.NET Core routing.</span></span> <span data-ttu-id="9454c-111">ASP.NET Core MVC 라우팅에 대 한 참조 [컨트롤러 작업에 대 한 라우팅을](../mvc/controllers/routing.md)</span><span class="sxs-lookup"><span data-stu-id="9454c-111">For ASP.NET Core MVC routing, see [Routing to Controller Actions](../mvc/controllers/routing.md)</span></span>

<span data-ttu-id="9454c-112">[샘플 코드 보기 또는 다운로드](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/sample)([다운로드 방법](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="9454c-112">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="9454c-113">라우팅 기본 사항</span><span class="sxs-lookup"><span data-stu-id="9454c-113">Routing basics</span></span>

<span data-ttu-id="9454c-114">라우팅 사용 하 여 *경로* (구현의 [IRouter](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.routing.irouter)) 하려면:</span><span class="sxs-lookup"><span data-stu-id="9454c-114">Routing uses *routes* (implementations of [IRouter](https://docs.microsoft.com/aspnet/core/api/microsoft.aspnetcore.routing.irouter)) to:</span></span>

* <span data-ttu-id="9454c-115">들어오는 요청을 매핑할 *경로 처리기*</span><span class="sxs-lookup"><span data-stu-id="9454c-115">map incoming requests to *route handlers*</span></span>

* <span data-ttu-id="9454c-116">응답에 사용 되는 Url을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-116">generate URLs used in responses</span></span>

<span data-ttu-id="9454c-117">일반적으로 응용 프로그램에 단일 경로의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-117">Generally, an app has a single collection of routes.</span></span> <span data-ttu-id="9454c-118">요청이 도착 하면 경로 컬렉션 순서 대로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-118">When a request arrives, the route collection is processed in order.</span></span> <span data-ttu-id="9454c-119">들어오는 요청을 호출 하 여 요청 URL과 일치 하는 경로 찾습니다는 `RouteAsync` 메서드 경로 컬렉션에 사용 가능한 각 경로에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-119">The incoming request looks for a route that matches the request URL by calling the `RouteAsync` method on each available route in the route collection.</span></span> <span data-ttu-id="9454c-120">이와 반대로 응답 (예: 리디렉션 또는 링크) Url을 기반으로 경로 정보를 생성 하 라우팅를 사용할 수 있으며 따라서 필요가 하드 코딩 Url, 유지 관리에 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-120">By contrast, a response can use routing to generate URLs (for example, for redirection or links) based on route information, and thus avoid having to hard-code URLs, which helps maintainability.</span></span>

<span data-ttu-id="9454c-121">에 연결 되어 라우팅는 [미들웨어](middleware.md) 하 여 파이프라인의 `RouterMiddleware` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-121">Routing is connected to the [middleware](middleware.md) pipeline by the `RouterMiddleware` class.</span></span> <span data-ttu-id="9454c-122">[ASP.NET MVC](../mvc/overview.md) 해당 구성의 일부분으로 라우팅 미들웨어 파이프라인에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-122">[ASP.NET MVC](../mvc/overview.md) adds routing to the middleware pipeline as part of its configuration.</span></span> <span data-ttu-id="9454c-123">독립 실행형 구성 요소로 라우팅을 사용 하는 방법에 대 한 자세한 내용은 [를 사용 하 여 라우팅-미들웨어](#using-routing-middleware)합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-123">To learn about using routing as a standalone component, see [using-routing-middleware](#using-routing-middleware).</span></span>

<a name="url-matching-ref"></a>

### <a name="url-matching"></a><span data-ttu-id="9454c-124">일치 하는 URL</span><span class="sxs-lookup"><span data-stu-id="9454c-124">URL matching</span></span>

<span data-ttu-id="9454c-125">URL 일치 하는 라우팅 디스패치 하 여 들어오는 요청을 하는 프로세스는 한 *처리기*합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-125">URL matching is the process by which routing dispatches an incoming request to a *handler*.</span></span> <span data-ttu-id="9454c-126">이 프로세스는 일반적으로 데이터를 기반으로 URL 경로에 하지만 요청에 있는 모든 데이터를 고려해 야 할 확장할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-126">This process is generally based on data in the URL path, but can be extended to consider any data in the request.</span></span> <span data-ttu-id="9454c-127">처리기를 분리 하는 요청을 디스패치 하는 기능은 키 크기와 복잡 한 응용 프로그램을 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-127">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an application.</span></span>

<span data-ttu-id="9454c-128">들어오는 요청 입력는 `RouterMiddleware`, 호출 하는 `RouteAsync` 시퀀스의 각 경로에 메서드.</span><span class="sxs-lookup"><span data-stu-id="9454c-128">Incoming requests enter the `RouterMiddleware`, which calls the `RouteAsync` method on each route in sequence.</span></span> <span data-ttu-id="9454c-129">`IRouter` 인스턴스 선택 것인지 *처리* 설정 하 여 요청에서 `RouteContext.Handler` 에 null이 아닌 `RequestDelegate`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-129">The `IRouter` instance chooses whether to *handle* the request by setting the `RouteContext.Handler` to a non-null `RequestDelegate`.</span></span> <span data-ttu-id="9454c-130">경로 요청에 대 한 처리기를 설정한 경우 처리가 중지 되 고 처리기 경로 요청을 처리 하도록 호출 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-130">If a route sets a handler for the request, route processing stops and the handler will be invoked to process the request.</span></span> <span data-ttu-id="9454c-131">미들웨어를 호출 하는 모든 경로 시도 하는 경우 요청에 대 한 처리기를 찾을 수 *다음* 요청 파이프라인의 다음 미들웨어를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-131">If all routes are tried and no handler is found for the request, the middleware calls *next* and the next middleware in the request pipeline is invoked.</span></span>

<span data-ttu-id="9454c-132">에 대 한 기본 입력 `RouteAsync` 는 `RouteContext.HttpContext` 현재 요청과 연결 된입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-132">The primary input to `RouteAsync` is the `RouteContext.HttpContext` associated with the current request.</span></span> <span data-ttu-id="9454c-133">`RouteContext.Handler` 및 `RouteContext.RouteData` 경로가 일치 후 설정할 수 있는 출력 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-133">The `RouteContext.Handler` and `RouteContext.RouteData` are outputs that will be set after a route matches.</span></span>

<span data-ttu-id="9454c-134">일치 하는 동안 `RouteAsync` 또한의 속성을 설정 합니다는 `RouteContext.RouteData` 를 지금까지 완료 요청 처리에 따라 적절 한 값입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-134">A match during `RouteAsync` will also set the properties of the `RouteContext.RouteData` to appropriate values based on the request processing done so far.</span></span> <span data-ttu-id="9454c-135">경로 요청을 일치 하는 경우는 `RouteContext.RouteData` 에 대 한 중요 한 상태 정보가 포함 됩니다는 *결과*합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-135">If a route matches a request, the `RouteContext.RouteData` will contain important state information about the *result*.</span></span>

<span data-ttu-id="9454c-136">`RouteData.Values`사전 인 *경로 값* 경로에서 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-136">`RouteData.Values` is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="9454c-137">이러한 값은 일반적으로 URL을 토큰화 하 여 결정, 사용자 입력을 수락 하거나 응용 프로그램 내부 추가로 디스패치 내리는 데 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-137">These values are usually determined by tokenizing the URL, and can be used to accept user input, or to make further dispatching decisions inside the application.</span></span>

<span data-ttu-id="9454c-138">`RouteData.DataTokens`일치 하는 경로 관련 된 추가 데이터의 속성 모음이입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-138">`RouteData.DataTokens`  is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="9454c-139">`DataTokens`응용 프로그램 경로에 따라 나중에 결정을 내릴 수 있도록 각 경로 사용 하 여 데이터 일치 하는 연결 상태를 지원 하기 위해 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-139">`DataTokens` are provided to support associating state data with each route so the application can make decisions later based on which route matched.</span></span> <span data-ttu-id="9454c-140">이러한 값이 개발자 정의 하 고 수행 **하지** 어떤 방식으로든에서 라우팅의 동작에 영향을 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-140">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="9454c-141">또한 데이터 토큰에 보관 하는 값이 고 문자열을 쉽게 변환할 수 있어야 하는 경로 값을 달리 모든 형식의 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-141">Additionally, values stashed in data tokens can be of any type, in contrast to route values, which must be easily convertible to and from strings.</span></span>

<span data-ttu-id="9454c-142">`RouteData.Routers`요청을 성공적으로 일치에 참여 하는 경로가 목록이입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-142">`RouteData.Routers` is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="9454c-143">경로 서로 중첩 될 수 있습니다 및 `Routers` 속성은 일치 하는 발생 하는 경로가 논리 트리를 통해 경로 반영 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-143">Routes can be nested inside one another, and the `Routers` property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="9454c-144">일반적으로 첫 번째 항목 `Routers` 경로 컬렉션 이며 URL 생성을 위해 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-144">Generally the first item in `Routers` is the route collection, and should be used for URL generation.</span></span> <span data-ttu-id="9454c-145">마지막 항목 `Routers` 일치 하는 경로 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-145">The last item in `Routers` is the route handler that matched.</span></span>

### <a name="url-generation"></a><span data-ttu-id="9454c-146">URL 생성</span><span class="sxs-lookup"><span data-stu-id="9454c-146">URL generation</span></span>

<span data-ttu-id="9454c-147">URL 생성이 프로세스는 라우팅에 의해 경로 값의 집합을 기반으로 하는 URL 경로 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-147">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="9454c-148">따라서 처리기와 Url에 액세스 하는 논리 구분 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-148">This allows for a logical separation between your handlers and the URLs that access them.</span></span>

<span data-ttu-id="9454c-149">URL 생성 비슷한 반복적인 프로세스를 따르지만 사용자 또는 프레임 워크 코드 호출로 시작는 `GetVirtualPath` 메서드 경로 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-149">URL generation follows a similar iterative process, but starts with user or framework code calling into the `GetVirtualPath` method of the route collection.</span></span> <span data-ttu-id="9454c-150">각 *경로* 가 해당 `GetVirtualPath` null이 아닌 될 때까지 시퀀스에서 메서드를 호출 `VirtualPathData` 반환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-150">Each *route* will then have its `GetVirtualPath` method called in sequence until a non-null `VirtualPathData` is returned.</span></span>

<span data-ttu-id="9454c-151">입력 하는 주 `GetVirtualPath` 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-151">The primary inputs to `GetVirtualPath` are:</span></span>

* `VirtualPathContext.HttpContext`

* `VirtualPathContext.Values`

* `VirtualPathContext.AmbientValues`

<span data-ttu-id="9454c-152">제공 된 경로 값에 주로 사용 하 여 경로 `Values` 및 `AmbientValues` 는 URL을 생성할 수와 값 포함을 결정 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-152">Routes primarily use the route values provided by the `Values` and `AmbientValues` to decide where it is possible to generate a URL and what values to include.</span></span> <span data-ttu-id="9454c-153">`AmbientValues` 라우팅 시스템을 사용 하 여 현재 요청을 일치 하는에서 생성 된 경로 값의 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-153">The `AmbientValues` are the set of route values that were produced from matching the current request with the routing system.</span></span> <span data-ttu-id="9454c-154">반면, `Values` 은 현재 작업에 대 한 원하는 URL을 생성 하는 방법을 지정 하는 경로 값입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-154">In contrast, `Values` are the route values that specify how to generate the desired URL for the current operation.</span></span> <span data-ttu-id="9454c-155">`HttpContext` 경로 서비스 또는 현재 컨텍스트와 연결 된 추가 데이터를 가져와야 할 경우에 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-155">The `HttpContext` is provided in case a route needs to get services or additional data associated with the current context.</span></span>

<span data-ttu-id="9454c-156">팁: 생각할 `Values` 에 대 한 재정의 집합이 있는 것으로 `AmbientValues`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-156">Tip: Think of `Values` as being a set of overrides for the `AmbientValues`.</span></span> <span data-ttu-id="9454c-157">URL 생성을 쉽게 동일한 경로 또는 경로 값을 사용 하 여 링크에 대 한 Url을 생성 하는 현재 요청에서 경로 값을 다시 사용 하려고 시도 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-157">URL generation tries to reuse route values from the current request to make it easy to generate URLs for links using the same route or route values.</span></span>

<span data-ttu-id="9454c-158">출력 `GetVirtualPath` 는 `VirtualPathData`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-158">The output of `GetVirtualPath` is a `VirtualPathData`.</span></span> <span data-ttu-id="9454c-159">`VirtualPathData`병렬 처리는 `RouteData`; 포함 된 `VirtualPath` 출력 URL 경로 의해 설정 해야 하는 몇 가지 추가 속성에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-159">`VirtualPathData` is a parallel of `RouteData`; it contains the `VirtualPath` for the output URL as well as the some additional properties that should be set by the route.</span></span>

<span data-ttu-id="9454c-160">`VirtualPathData.VirtualPath` 속성에 포함 된 *가상 경로* 경로 의해 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-160">The `VirtualPathData.VirtualPath` property contains the *virtual path* produced by the route.</span></span> <span data-ttu-id="9454c-161">필요에 따라 추가 경로 처리 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-161">Depending on your needs you may need to process the path further.</span></span> <span data-ttu-id="9454c-162">예를 들어, HTML에서 생성 된 URL을 렌더링 하려는 경우 응용 프로그램의 기본 경로 앞에 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-162">For instance, if you want to render the generated URL in HTML you need to prepend the base path of the application.</span></span>

<span data-ttu-id="9454c-163">`VirtualPathData.Router` 성공적으로 URL을 생성 하는 경로에 대 한 참조입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-163">The `VirtualPathData.Router` is a reference to the route that successfully generated the URL.</span></span>

<span data-ttu-id="9454c-164">`VirtualPathData.DataTokens` 속성은 URL을 생성 하는 경로 관련 된 추가 데이터의 사전입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-164">The `VirtualPathData.DataTokens` properties is a dictionary of additional data related to the route that generated the URL.</span></span> <span data-ttu-id="9454c-165">이의 병렬 처리 `RouteData.DataTokens`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-165">This is the parallel of `RouteData.DataTokens`.</span></span>

### <a name="creating-routes"></a><span data-ttu-id="9454c-166">경로 만들기</span><span class="sxs-lookup"><span data-stu-id="9454c-166">Creating routes</span></span>

<span data-ttu-id="9454c-167">제공 된 `Route` 클래스의 표준 구현으로 `IRouter`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-167">Routing provides the `Route` class as the standard implementation of `IRouter`.</span></span> <span data-ttu-id="9454c-168">`Route`사용 하 여는 *경로 템플릿을* URL 경로 대해 일치 하는 패턴을 정의 하는 구문을 때 `RouteAsync` 라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-168">`Route` uses the *route template* syntax to define patterns that will match against the URL path when `RouteAsync` is called.</span></span> <span data-ttu-id="9454c-169">`Route`동일한 경로 템플릿을 URL 생성를 사용 하 여 때 `GetVirtualPath` 라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-169">`Route` will use the same route template to generate a URL when `GetVirtualPath` is called.</span></span>

<span data-ttu-id="9454c-170">대부분의 응용 프로그램 경로 호출 하 여 만듭니다 `MapRoute` 에 정의 된 유사한 확장 메서드 중 하나 또는 `IRouteBuilder`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-170">Most applications will create routes by calling `MapRoute` or one of the similar extension methods defined on `IRouteBuilder`.</span></span> <span data-ttu-id="9454c-171">인스턴스를 만들 것은 이러한 모든 메서드에 `Route` 경로 컬렉션에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-171">All of these methods will create an instance of `Route` and add it to the route collection.</span></span>

<span data-ttu-id="9454c-172">참고: `MapRoute` 경로 처리기 매개 변수-를 사용 하지 않습니다 추가에서 처리 되는 경로 `DefaultHandler`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-172">Note: `MapRoute` doesn't take a route handler parameter - it only adds routes that will be handled by the `DefaultHandler`.</span></span> <span data-ttu-id="9454c-173">기본 처리기는는 `IRouter`, 요청을 처리 하지 않도록 결정 것입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-173">Since the default handler is an `IRouter`, it may decide not to handle the request.</span></span> <span data-ttu-id="9454c-174">예를 들어 ASP.NET MVC만 처리 하는 기본 처리기는 사용 가능한 컨트롤러 및 작업와 일치 하는 요청으로 일반적으로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-174">For example, ASP.NET MVC is typically configured as a default handler that only handles requests that match an available controller and action.</span></span> <span data-ttu-id="9454c-175">Mvc 라우팅에 대 한 자세한 참조 [컨트롤러 작업에 대 한 라우팅을](../mvc/controllers/routing.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-175">To learn more about routing to MVC, see [Routing to Controller Actions](../mvc/controllers/routing.md).</span></span>

<span data-ttu-id="9454c-176">이의 예는 `MapRoute` 일반적인 ASP.NET MVC 경로 정의에서 사용 하는 호출:</span><span class="sxs-lookup"><span data-stu-id="9454c-176">This is an example of a `MapRoute` call used by a typical ASP.NET MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="9454c-177">이 서식 파일의 URL 경로 같은 일치시킬지 `/Products/Details/17` 경로 값을 추출 하 고 `{ controller = Products, action = Details, id = 17 }`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-177">This template will match a URL path like `/Products/Details/17` and extract the route values `{ controller = Products, action = Details, id = 17 }`.</span></span> <span data-ttu-id="9454c-178">URL 경로 세그먼트로 분할 하 고 각 세그먼트와 일치 하 여 경로 값을 결정는 *경로 매개 변수가* 경로 서식 파일의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-178">The route values are determined by splitting the URL path into segments, and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="9454c-179">경로 매개 변수 이름이 지정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-179">Route parameters are named.</span></span> <span data-ttu-id="9454c-180">중괄호에 매개 변수 이름을 포함 하 여 정의 된 `{ }`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-180">They are defined by enclosing the parameter name in braces `{ }`.</span></span>

<span data-ttu-id="9454c-181">위의 서식 파일의 URL 경로 일치 수 `/` 값 생성 및 `{ controller = Home, action = Index }`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-181">The template above could also match the URL path `/` and would produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="9454c-182">때문에 이런는 `{controller}` 및 `{action}` 경로 매개 변수에 기본값이 및 `id` 경로 매개 변수는 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-182">This happens because the `{controller}` and `{action}` route parameters have default values, and the `id` route parameter is optional.</span></span> <span data-ttu-id="9454c-183">본사 `=` 경로 매개 변수 이름에는 매개 변수에 대 한 기본값을 정의 하는 후 부호와 값입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-183">An equals `=` sign followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="9454c-184">물음표 `?` 후 선택적으로 매개 변수를 정의 하는 경로 매개 변수 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-184">A question mark `?` after the route parameter name defines the parameter as optional.</span></span> <span data-ttu-id="9454c-185">기본값은 매개 변수를 라우팅할 *항상* 경로가 일치-선택적 매개 변수는 해당 URL 경로 세그먼트가 있는 경우 경로 값을 생성 하지 때 경로 값을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-185">Route parameters with a default value *always* produce a route value when the route matches - optional parameters will not produce a route value if there was no corresponding URL path segment.</span></span>

<span data-ttu-id="9454c-186">참조 [경로-템플릿-참조](#route-template-reference) 에 대 한 철저 한 설명은 경로 템플릿 기능 및 구문입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-186">See [route-template-reference](#route-template-reference) for a thorough description of route template features and syntax.</span></span>

<span data-ttu-id="9454c-187">이 예제를 포함 한 *제약 조건 라우팅할*:</span><span class="sxs-lookup"><span data-stu-id="9454c-187">This example includes a *route constraint*:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="9454c-188">이 서식 파일의 URL 경로 같은 일치시킬지 `/Products/Details/17`, 아닌 `/Products/Details/Apples`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-188">This template will match a URL path like `/Products/Details/17`, but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="9454c-189">경로 매개 변수 정의 `{id:int}` 정의 *제약 조건 라우팅할* 에 대 한는 `id` 경로 매개 변수가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-189">The route parameter definition `{id:int}` defines a *route constraint* for the `id` route parameter.</span></span> <span data-ttu-id="9454c-190">경로 제약 조건을 구현 `IRouteConstraint` 하 고 확인 하는 경로 값을 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-190">Route constraints implement `IRouteConstraint` and inspect route values to verify them.</span></span> <span data-ttu-id="9454c-191">이 예제에서는 경로 값에 `id` 정수로 변환할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-191">In this example the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="9454c-192">참조 [경로 제약 조건 참조](#route-constraint-reference) 에 대 한 자세한 설명은 프레임 워크에서 제공 되는 경로 제약 조건이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-192">See [route-constraint-reference](#route-constraint-reference) for a more detailed explanation of route constraints that are provided by the framework.</span></span>

<span data-ttu-id="9454c-193">추가 오버 로드 `MapRoute` 에 값을 허용 `constraints`, `dataTokens`, 및 `defaults`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-193">Additional overloads of `MapRoute` accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="9454c-194">이러한 추가 매개 변수 `MapRoute` 형식으로 정의 된 `object`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-194">These additional parameters of `MapRoute` are defined as type `object`.</span></span> <span data-ttu-id="9454c-195">이러한 매개 변수의 일반적인 사용법은 익명 형식 일치 항목의 속성 이름을 경로 매개 변수 이름은 익명으로 형식화 된 개체를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-195">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="9454c-196">다음 두 예제는 해당 경로 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-196">The following two examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="9454c-197">팁: 제약 조건 및 기본값을 정의 하기 위한 인라인 구문을 단순 경로 대 한 더 편리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-197">Tip: The inline syntax for defining constraints and defaults can be more convenient for simple routes.</span></span> <span data-ttu-id="9454c-198">그러나 인라인 구문을 사용 하 여 지원 되지 않는 데이터 토큰 등의 기능 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-198">However, there are features such as data tokens which are not supported by inline syntax.</span></span>

<span data-ttu-id="9454c-199">이 예제에서는 몇 가지 기능을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-199">This example demonstrates a few more features:</span></span>

```csharp
routes.MapRoute(
  name: "blog",
  template: "Blog/{*article}",
  defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="9454c-200">이 서식 파일의 URL 경로 같은 일치시킬지 `/Blog/All-About-Routing/Introduction` 및 값을 추출 합니다 `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-200">This template will match a URL path like `/Blog/All-About-Routing/Introduction` and will extract the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="9454c-201">에 대 한 기본 경로 값 `controller` 및 `action` 서식 파일에 해당 경로 매개 변수가 없는 경우에 경로 의해 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-201">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="9454c-202">기본값은 경로 템플릿에 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-202">Default values can be specified in the route template.</span></span> <span data-ttu-id="9454c-203">`article` 경로 매개 변수를 이루어집니다는 *범용* 별표 모양으로 `*` 경로 매개 변수 이름 앞입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-203">The `article` route parameter is defined as a *catch-all* by the appearance of an asterisk `*` before the route parameter name.</span></span> <span data-ttu-id="9454c-204">범용 루트 매개 변수는 URL 경로의 나머지를 캡처하려고와 빈 문자열 일치 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-204">Catch-all route parameters capture the remainder of the URL path, and can also match the empty string.</span></span>

<span data-ttu-id="9454c-205">이 예제에서는 경로 제약 조건 및 데이터 토큰을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-205">This example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="9454c-206">이 서식 파일의 URL 경로 같은 일치시킬지 `/Products/5` 및 값을 추출 합니다 `{ controller = Products, action = Details, id = 5 }` 데이터 토큰 및 `{ locale = en-US }`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-206">This template will match a URL path like `/Products/5` and will extract the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![지역 Windows 토큰](routing/_static/tokens.png)

<a name="id1"></a>

### <a name="url-generation"></a><span data-ttu-id="9454c-208">URL 생성</span><span class="sxs-lookup"><span data-stu-id="9454c-208">URL generation</span></span>

<span data-ttu-id="9454c-209">`Route` 클래스는 경로 템플릿을 사용 하 여 경로 값의 집합을 결합 하 여 URL 생성을 수행할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-209">The `Route` class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="9454c-210">논리적으로 역방향 URL 경로 일치 시키는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-210">This is logically the reverse process of matching the URL path.</span></span>

<span data-ttu-id="9454c-211">팁: URL 생성을 보다 잘 이해 하려면 어떤 URL을 생성 하는 경로 템플릿을 해당 URL은 일치 하는 방법을 생각해 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-211">Tip: To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="9454c-212">값 조각이 생성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-212">What values would be produced?</span></span> <span data-ttu-id="9454c-213">이 동등에서 URL 생성의 작동 방식는 `Route` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-213">This is the rough equivalent of how URL generation works in the `Route` class.</span></span>

<span data-ttu-id="9454c-214">이 예제에서는 기본 ASP.NET MVC 스타일 경로 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-214">This example uses a basic ASP.NET MVC style route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="9454c-215">경로 값을 가진 `{ controller = Products, action = List }`,이 경로 URL을 생성 합니다 `/Products/List`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-215">With the route values `{ controller = Products, action = List }`, this route will generate the URL `/Products/List`.</span></span> <span data-ttu-id="9454c-216">경로 값에 대 한 URL 경로 구성 하기 위해 해당 경로 매개 변수 대신 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-216">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="9454c-217">이후 `id` 는 선택적 매개 변수를 경로, 값 없다는 문제가 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-217">Since `id` is an optional route parameter, it's no problem that it doesn't have a value.</span></span>

<span data-ttu-id="9454c-218">경로 값을 가진 `{ controller = Home, action = Index }`,이 경로 URL을 생성 합니다 `/`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-218">With the route values `{ controller = Home, action = Index }`, this route will generate the URL `/`.</span></span> <span data-ttu-id="9454c-219">제공 된 경로 값 해당 값에 해당 하는 세그먼트 안전 하 게 생략 될 수 있으므로 기본 값과 일치 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-219">The route values that were provided match the default values so the segments corresponding to those values can be safely omitted.</span></span> <span data-ttu-id="9454c-220">에 불과하며 생성 두 Url이 경로 정의로 왕복 합니다는 URL을 생성 하는 데 사용 된 동일한 경로 값을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-220">Note that both URLs generated would round-trip with this route definition and produce the same route values that were used to generate the URL.</span></span>

<span data-ttu-id="9454c-221">팁: ASP.NET MVC를 사용 하 여 앱 사용 `UrlHelper` 직접 라우팅에 호출 하는 대신 Url을 생성 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-221">Tip: An app using ASP.NET MVC should use `UrlHelper` to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="9454c-222">URL 생성 프로세스에 대 한 자세한 내용은 참조 하십시오. [url 생성 참조](#url-generation-reference)합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-222">For more details about the URL generation process, see [url-generation-reference](#url-generation-reference).</span></span>

## <a name="using-routing-middleware"></a><span data-ttu-id="9454c-223">라우팅 미들웨어를 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="9454c-223">Using Routing Middleware</span></span>

<span data-ttu-id="9454c-224">"Microsoft.AspNetCore.Routing" NuGet 패키지를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-224">Add the NuGet package "Microsoft.AspNetCore.Routing".</span></span>

<span data-ttu-id="9454c-225">서비스 컨테이너에 대 한 라우팅을 추가 *Startup.cs*:</span><span class="sxs-lookup"><span data-stu-id="9454c-225">Add routing to the service container in *Startup.cs*:</span></span>

[!code-csharp[Main](../fundamentals/routing/sample/RoutingSample/Startup.cs?highlight=3&start=11&end=14)]

<span data-ttu-id="9454c-226">경로에 구성 해야 합니다는 `Configure` 에서 메서드는 `Startup` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-226">Routes must be configured in the `Configure` method in the `Startup` class.</span></span> <span data-ttu-id="9454c-227">아래 예제에서는 이러한 Api를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-227">The sample below uses these APIs:</span></span>

* `RouteBuilder`
* `Build`
* <span data-ttu-id="9454c-228">`MapGet`HTTP GET 요청만 일치</span><span class="sxs-lookup"><span data-stu-id="9454c-228">`MapGet`  Matches only HTTP GET requests</span></span>
* `UseRouter`

```csharp
public void Configure(IApplicationBuilder app, ILoggerFactory loggerFactory)
{
    var trackPackageRouteHandler = new RouteHandler(context =>
    {
        var routeValues = context.GetRouteData().Values;
        return context.Response.WriteAsync(
            $"Hello! Route values: {string.Join(", ", routeValues)}");
    });

    var routeBuilder = new RouteBuilder(app, trackPackageRouteHandler);

    routeBuilder.MapRoute(
        "Track Package Route",
        "package/{operation:regex(^(track|create|detonate)$)}/{id:int}");

    routeBuilder.MapGet("hello/{name}", context =>
    {
        var name = context.GetRouteValue("name");
        // This is the route handler when HTTP GET "hello/<anything>"  matches
        // To match HTTP GET "hello/<anything>/<anything>,
        // use routeBuilder.MapGet("hello/{*name}"
        return context.Response.WriteAsync($"Hi, {name}!");
    });

    var routes = routeBuilder.Build();
    app.UseRouter(routes);
}
```

<span data-ttu-id="9454c-229">아래 표에 지정 된 Uri에 응답 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-229">The table below shows the responses with the given URIs.</span></span>

| <span data-ttu-id="9454c-230">URI</span><span class="sxs-lookup"><span data-stu-id="9454c-230">URI</span></span> | <span data-ttu-id="9454c-231">응답</span><span class="sxs-lookup"><span data-stu-id="9454c-231">Response</span></span>  |
| ------- | -------- |
| <span data-ttu-id="9454c-232">/package/create/3</span><span class="sxs-lookup"><span data-stu-id="9454c-232">/package/create/3</span></span>  | <span data-ttu-id="9454c-233">Hello!</span><span class="sxs-lookup"><span data-stu-id="9454c-233">Hello!</span></span> <span data-ttu-id="9454c-234">경로 값: [작업을 만듭니다], [3 id]</span><span class="sxs-lookup"><span data-stu-id="9454c-234">Route values: [operation, create], [id, 3]</span></span> |
| <span data-ttu-id="9454c-235">/package/track/-3</span><span class="sxs-lookup"><span data-stu-id="9454c-235">/package/track/-3</span></span>  | <span data-ttu-id="9454c-236">Hello!</span><span class="sxs-lookup"><span data-stu-id="9454c-236">Hello!</span></span> <span data-ttu-id="9454c-237">경로 값: [작업, 트랙] [-3 id]</span><span class="sxs-lookup"><span data-stu-id="9454c-237">Route values: [operation, track], [id, -3]</span></span> |
| <span data-ttu-id="9454c-238">/package/track/-3/</span><span class="sxs-lookup"><span data-stu-id="9454c-238">/package/track/-3/</span></span> | <span data-ttu-id="9454c-239">Hello!</span><span class="sxs-lookup"><span data-stu-id="9454c-239">Hello!</span></span> <span data-ttu-id="9454c-240">경로 값: [작업, 트랙] [-3 id]</span><span class="sxs-lookup"><span data-stu-id="9454c-240">Route values: [operation, track], [id, -3]</span></span>  |
| <span data-ttu-id="9454c-241">/package/track/</span><span class="sxs-lookup"><span data-stu-id="9454c-241">/package/track/</span></span> | <span data-ttu-id="9454c-242">\<진행 일치 없음 ></span><span class="sxs-lookup"><span data-stu-id="9454c-242">\<Fall through, no match></span></span> |
| <span data-ttu-id="9454c-243">/Hello/Joe 가져오기</span><span class="sxs-lookup"><span data-stu-id="9454c-243">GET /hello/Joe</span></span> | <span data-ttu-id="9454c-244">안녕하세요, Joe!</span><span class="sxs-lookup"><span data-stu-id="9454c-244">Hi, Joe!</span></span> |
| <span data-ttu-id="9454c-245">POST /hello/Joe</span><span class="sxs-lookup"><span data-stu-id="9454c-245">POST /hello/Joe</span></span> | <span data-ttu-id="9454c-246">\<진행, 일치 하는 HTTP GET 항목만 ></span><span class="sxs-lookup"><span data-stu-id="9454c-246">\<Fall through, matches HTTP GET only></span></span> |
| <span data-ttu-id="9454c-247">/Hello/Joe/Smith 가져오기</span><span class="sxs-lookup"><span data-stu-id="9454c-247">GET /hello/Joe/Smith</span></span> | <span data-ttu-id="9454c-248">\<진행 일치 없음 ></span><span class="sxs-lookup"><span data-stu-id="9454c-248">\<Fall through, no match></span></span> |

<span data-ttu-id="9454c-249">단일 경로 구성 하는 경우 호출 `app.UseRouter` 전달는 `IRouter` 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="9454c-249">If you are configuring a single route, call `app.UseRouter` passing in an `IRouter` instance.</span></span> <span data-ttu-id="9454c-250">호출할 필요 하지는 않습니다 `RouteBuilder`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-250">You won't need to call `RouteBuilder`.</span></span>

<span data-ttu-id="9454c-251">프레임 워크와 같은 경로 만들기 위한 확장 메서드 집합을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-251">The framework provides a set of extension methods for creating routes such as:</span></span>

* `MapRoute`
* `MapGet`
* `MapPost`
* `MapPut`
* `MapDelete`
* `MapVerb`

<span data-ttu-id="9454c-252">와 같은 이러한 메서드의 일부 `MapGet` 필요는 `RequestDelegate` 를 제공 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-252">Some of these methods such as `MapGet` require a `RequestDelegate` to be provided.</span></span> <span data-ttu-id="9454c-253">`RequestDelegate` 으로 사용할 수는 *경로 처리기* 경로 일치 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="9454c-253">The `RequestDelegate` will be used as the *route handler* when the route matches.</span></span> <span data-ttu-id="9454c-254">이 제품군의 다른 메서드에 경로 처리기로 사용 되는 미들웨어 파이프라인을 구성할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-254">Other methods in this family allow configuring a middleware pipeline which will be used as the route handler.</span></span> <span data-ttu-id="9454c-255">경우는 *지도* 메서드는 처리기를와 같은 허용 하지 않습니다 `MapRoute`를 사용 합니다는 `DefaultHandler`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-255">If the *Map* method doesn't accept a handler, such as `MapRoute`, then it will use the `DefaultHandler`.</span></span>

<span data-ttu-id="9454c-256">`Map[Verb]` 메서드 제약 조건을 사용 하 여 HTTP 동사 메서드 이름에 경로 제한 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-256">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="9454c-257">예를 들어 참조 [MapGet](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L85-L88) 및 [MapVerb](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L156-L180)합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-257">For example, see [MapGet](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L85-L88) and [MapVerb](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/RequestDelegateRouteBuilderExtensions.cs#L156-L180).</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="9454c-258">경로 템플릿 참조</span><span class="sxs-lookup"><span data-stu-id="9454c-258">Route Template Reference</span></span>

<span data-ttu-id="9454c-259">중괄호 안에 토큰 (`{ }`) 정의 *매개 변수를 라우팅할* 를 바인딩할 경로의 일치 하는 경우.</span><span class="sxs-lookup"><span data-stu-id="9454c-259">Tokens within curly braces (`{ }`) define *route parameters* which will be bound if the route is matched.</span></span> <span data-ttu-id="9454c-260">경로 세그먼트에 둘 이상의 경로 매개 변수를 정의할 수 있지만는 리터럴 값으로 구분 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-260">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="9454c-261">예를 들어 `{controller=Home}{action=Index}` 됩니다 유효한 경로 사이의 리터럴 값이 없는 이므로 `{controller}` 및 `{action}`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-261">For example `{controller=Home}{action=Index}` would not be a valid route, since there is no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="9454c-262">이러한 경로 매개 변수는 이름이 있어야 합니다. 및 추가 특성 지정한 경우 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-262">These route parameters must have a name, and may have additional attributes specified.</span></span>

<span data-ttu-id="9454c-263">경로 매개 변수 이외의 리터럴 텍스트 (예를 들어 `{id}`) 경로 구분 기호 및 `/` URL에 텍스트와 일치 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-263">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="9454c-264">텍스트 일치 이며 대/소문자 구분에 기반한 Url 경로의 디코딩된 표현 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-264">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="9454c-265">리터럴 경로 매개 변수 구분 기호에 맞게 `{` 또는 `}`, 문자를 반복 하 여 이스케이프 (`{{` 또는 `}}`).</span><span class="sxs-lookup"><span data-stu-id="9454c-265">To match the literal route parameter delimiter `{` or  `}`, escape it by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="9454c-266">선택적 파일 확장명을 가진 파일 이름을 캡처를 시도 하는 URL 패턴에는 추가 고려 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-266">URL patterns that attempt to capture a filename with an optional file extension have additional considerations.</span></span> <span data-ttu-id="9454c-267">예를 들어, 서식 파일을 사용 하 여 `files/{filename}.{ext?}` -둘 다 `filename` 및 `ext` 존재, 두 값이 채워집니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-267">For example, using the template `files/{filename}.{ext?}` - When both `filename` and `ext` exist, both values will be populated.</span></span> <span data-ttu-id="9454c-268">경우에 `filename` URL 경로 일치에에서 존재 하기 때문에 끝의 마침표 `.` 는 선택 사항입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-268">If only `filename` exists in the URL, the route matches because the trailing period `.` is  optional.</span></span> <span data-ttu-id="9454c-269">다음 Url이이 경로도 일치 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-269">The following URLs would match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile.`
* `/files/myFile`

<span data-ttu-id="9454c-270">사용할 수는 `*` 접두사로 문자 URI의 나머지 부분에 바인딩할 경로 매개 변수를 라고는 *범용* 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-270">You can use the `*` character as a prefix to a route parameter to bind to the rest of the URI - this is called a *catch-all* parameter.</span></span> <span data-ttu-id="9454c-271">예를 들어 `blog/{*slug}` 시작 하는 모든 URI 일치 `/blog` 했으며 다음 값 (하 게 할당 되는 `slug` 값 경로).</span><span class="sxs-lookup"><span data-stu-id="9454c-271">For example, `blog/{*slug}` would match any URI that started with `/blog` and had any value following it (which would be assigned to the `slug` route value).</span></span> <span data-ttu-id="9454c-272">범용 매개 변수가 빈 문자열을 일치도 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-272">Catch-all parameters can also match the empty string.</span></span>

<span data-ttu-id="9454c-273">경로 매개 변수가 있을 수 *기본값*구분 하 여 매개 변수 이름 뒤에 오는 기본값을 지정 하 여 지정 된 프로그램 `=`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-273">Route parameters may have *default values*, designated by specifying the default after the parameter name, separated by an `=`.</span></span> <span data-ttu-id="9454c-274">예를 들어 `{controller=Home}` 정의 `Home` 에 대 한 값을 기본값으로 `controller`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-274">For example, `{controller=Home}` would define `Home` as the default value for `controller`.</span></span> <span data-ttu-id="9454c-275">변수가 URL에 매개 변수 값이 없으면 기본값이 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-275">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="9454c-276">기본 값 뿐만 아니라 경로 매개 변수를 생략할 수 있습니다 (추가 하 여 지정 된 한 `?` 다음과 같이 매개 변수 이름의 끝에 `id?`).</span><span class="sxs-lookup"><span data-stu-id="9454c-276">In addition to default values, route parameters may be optional (specified by appending a `?` to the end of the parameter name, as in `id?`).</span></span> <span data-ttu-id="9454c-277">선택적 차이점 경로 매개 변수 이며 기본값은 값을 항상 생성 하는 "가 기본값"이 고 선택적 매개 변수 하나를 제공 하는 경우에 값을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-277">The difference between optional and "has default" is that a route parameter with a default value always produces a value; an optional parameter has a value only when one is provided.</span></span>

<span data-ttu-id="9454c-278">경로 매개 변수에 바인딩된 URL에서 경로 값과 일치 해야 하는 제약 조건이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-278">Route parameters may also have constraints, which must match the route value bound from the URL.</span></span> <span data-ttu-id="9454c-279">콜론 추가 `:` 및 경로 매개 변수 이름 지정 후 제약 조건 이름을 *인라인 제약 조건* 경로 매개 변수에서 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-279">Adding a colon `:` and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="9454c-280">제약 조건을 괄호로 제공 된 인수를 사용 해야 하는 경우 `( )` 제약 조건 이름 뒤에 오는 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-280">If the constraint requires arguments those are provided enclosed in parentheses `( )` after the constraint name.</span></span> <span data-ttu-id="9454c-281">다른 콜론을 추가 하 여 여러 개의 인라인 제약 조건을 지정할 수 있습니다 `:` 및 제약 조건 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-281">Multiple inline constraints can be specified by appending another colon `:` and constraint name.</span></span> <span data-ttu-id="9454c-282">제약 조건 이름에 전달 되는 `IInlineConstraintResolver` 서비스의 인스턴스를 만드는 `IRouteConstraint` URL 처리에서 사용 하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-282">The constraint name is passed to the `IInlineConstraintResolver` service to create an instance of `IRouteConstraint` to use in URL processing.</span></span> <span data-ttu-id="9454c-283">예를 들어 경로 템플릿을 `blog/{article:minlength(10)}` 지정는 `minlength` 제약 조건 인수 `10`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-283">For example, the route template `blog/{article:minlength(10)}` specifies the `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="9454c-284">자세한 설명 경로 제약 조건 및 프레임 워크에서 제공 되는 제약 조건 목록에 대 한 참조 [경로 제약 조건 참조](#route-constraint-reference)합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-284">For more description route constraints, and a listing of the constraints provided by the framework, see [route-constraint-reference](#route-constraint-reference).</span></span>

<span data-ttu-id="9454c-285">다음 표에서 일부 경로 템플릿 및 해당 동작을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-285">The following table demonstrates some route templates and their behavior.</span></span>

| <span data-ttu-id="9454c-286">경로 템플릿</span><span class="sxs-lookup"><span data-stu-id="9454c-286">Route Template</span></span> | <span data-ttu-id="9454c-287">예를 들어 일치 하는 URL</span><span class="sxs-lookup"><span data-stu-id="9454c-287">Example Matching URL</span></span> | <span data-ttu-id="9454c-288">노트</span><span class="sxs-lookup"><span data-stu-id="9454c-288">Notes</span></span> |
| -------- | -------- | ------- |
| <span data-ttu-id="9454c-289">hello</span><span class="sxs-lookup"><span data-stu-id="9454c-289">hello</span></span>  | <span data-ttu-id="9454c-290">/hello</span><span class="sxs-lookup"><span data-stu-id="9454c-290">/hello</span></span>  | <span data-ttu-id="9454c-291">단일 경로만 일치`/hello`</span><span class="sxs-lookup"><span data-stu-id="9454c-291">Only matches the single path `/hello`</span></span> |
| <span data-ttu-id="9454c-292">{Page=Home}</span><span class="sxs-lookup"><span data-stu-id="9454c-292">{Page=Home}</span></span> | / | <span data-ttu-id="9454c-293">일치 하 고 설정 `Page` 를`Home`</span><span class="sxs-lookup"><span data-stu-id="9454c-293">Matches and sets `Page` to `Home`</span></span> |
| <span data-ttu-id="9454c-294">{Page=Home}</span><span class="sxs-lookup"><span data-stu-id="9454c-294">{Page=Home}</span></span>  | <span data-ttu-id="9454c-295">/ 연락처</span><span class="sxs-lookup"><span data-stu-id="9454c-295">/Contact</span></span>  | <span data-ttu-id="9454c-296">일치 하 고 설정 `Page` 를`Contact`</span><span class="sxs-lookup"><span data-stu-id="9454c-296">Matches and sets `Page` to `Contact`</span></span> |
| <span data-ttu-id="9454c-297">{controller}/{action}/{id?}</span><span class="sxs-lookup"><span data-stu-id="9454c-297">{controller}/{action}/{id?}</span></span> | <span data-ttu-id="9454c-298">/ 제품/목록</span><span class="sxs-lookup"><span data-stu-id="9454c-298">/Products/List</span></span> | <span data-ttu-id="9454c-299">매핑될 `Products` 컨트롤러 및 `List` 동작</span><span class="sxs-lookup"><span data-stu-id="9454c-299">Maps to `Products` controller and `List`  action</span></span> |
| <span data-ttu-id="9454c-300">{controller}/{action}/{id?}</span><span class="sxs-lookup"><span data-stu-id="9454c-300">{controller}/{action}/{id?}</span></span> | <span data-ttu-id="9454c-301">/Products/Details/123</span><span class="sxs-lookup"><span data-stu-id="9454c-301">/Products/Details/123</span></span>  |  <span data-ttu-id="9454c-302">매핑될 `Products` 컨트롤러 및 `Details` 동작 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-302">Maps to `Products` controller and  `Details` action.</span></span>  <span data-ttu-id="9454c-303">`id`123으로 설정</span><span class="sxs-lookup"><span data-stu-id="9454c-303">`id` set to 123</span></span> |
| <span data-ttu-id="9454c-304">{controller=Home}/{action=Index}/{id?}</span><span class="sxs-lookup"><span data-stu-id="9454c-304">{controller=Home}/{action=Index}/{id?}</span></span> | /  |  <span data-ttu-id="9454c-305">매핑될 `Home` 컨트롤러 및 `Index` 메서드도 있습니다. `id` 는 무시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-305">Maps to `Home` controller and `Index`  method; `id` is ignored.</span></span> |

<span data-ttu-id="9454c-306">템플릿을 사용 하는 일반적으로 가장 간단한 방식은 라우팅입니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-306">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="9454c-307">제약 조건 및 기본값을 외부 경로 템플릿을 지정할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-307">Constraints and defaults can also be specified outside the route template.</span></span>

<span data-ttu-id="9454c-308">팁: 사용 하도록 설정 [로깅](xref:fundamentals/logging/index) 참조 하는 방법을 같은 라우팅 구현에 기본 제공 `Route`, 요청과 일치 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-308">Tip: Enable [Logging](xref:fundamentals/logging/index) to see how the built in routing implementations, such as `Route`, match requests.</span></span>

## <a name="route-constraint-reference"></a><span data-ttu-id="9454c-309">경로 제약 조건 참조</span><span class="sxs-lookup"><span data-stu-id="9454c-309">Route Constraint Reference</span></span>

<span data-ttu-id="9454c-310">경로 제약 조건이 될 때 실행할는 `Route` 받는 URL의 구문은 일치 하 고 URL 경로 경로 값으로 토큰화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-310">Route constraints execute when a `Route` has matched the syntax of the incoming URL and tokenized the URL path into route values.</span></span> <span data-ttu-id="9454c-311">일반적으로 경로 제약 조건이 경로 템플릿을 통해 연결 된 경로 값을 검사 하 고 간단한 예/아니요 값이 허용 여부에 대 한 의사 결정을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-311">Route constraints generally inspect the route value associated via the route template and make a simple yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="9454c-312">요청을 라우팅할 수 있는지 여부를 고려해 야 할 경로 값 외부에 있는 데이터를 사용 하는 일부 경로 제약 조건.</span><span class="sxs-lookup"><span data-stu-id="9454c-312">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="9454c-313">예를 들어는 `HttpMethodRouteConstraint` 적용 하거나 해당 HTTP 동사에 따라 요청을 취소할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-313">For example, the `HttpMethodRouteConstraint` can accept or reject a request based on its HTTP verb.</span></span>

>[!WARNING]
> <span data-ttu-id="9454c-314">에 대 한 제약 조건을 사용 하지 않도록 **입력 유효성 검사**하므로 이렇게 하면 해당 잘못 된 입력 하 고 적절 한 오류 메시지가 400 대신 404 (찾을 수 없음) 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-314">Avoid using constraints for **input validation**, because doing so means that invalid input will result in a 404 (Not Found) instead of a 400 with an appropriate error message.</span></span> <span data-ttu-id="9454c-315">경로 제약 조건이 해야 하는 데 사용할 **명확 하 게** 특정 경로 대 한 입력의 유효성을 검사 하지 비슷한 경로 서로 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-315">Route constraints should be used to **disambiguate** between similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="9454c-316">다음 표에서 일부 경로 제약 조건 및 예상 되는 동작을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-316">The following table demonstrates some route constraints and their expected behavior.</span></span>

| <span data-ttu-id="9454c-317">제약 조건</span><span class="sxs-lookup"><span data-stu-id="9454c-317">constraint</span></span> | <span data-ttu-id="9454c-318">예</span><span class="sxs-lookup"><span data-stu-id="9454c-318">Example</span></span> | <span data-ttu-id="9454c-319">예제에서는 일치 하는 항목</span><span class="sxs-lookup"><span data-stu-id="9454c-319">Example Matches</span></span> | <span data-ttu-id="9454c-320">노트</span><span class="sxs-lookup"><span data-stu-id="9454c-320">Notes</span></span> |
| --------   | ------- | ------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="9454c-321">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="9454c-321">`123456789`, `-123456789`</span></span>  | <span data-ttu-id="9454c-322">임의의 정수와 일치</span><span class="sxs-lookup"><span data-stu-id="9454c-322">Matches any integer</span></span> |
| `bool`  | `{active:bool}` | <span data-ttu-id="9454c-323">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="9454c-323">`true`, `FALSE`</span></span> | <span data-ttu-id="9454c-324">일치 하는 항목 `true` 또는 `false` (대/소문자 구분)</span><span class="sxs-lookup"><span data-stu-id="9454c-324">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="9454c-325">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="9454c-325">`2016-12-31`, `2016-12-31 7:32pm`</span></span>  | <span data-ttu-id="9454c-326">유효한 일치 `DateTime` 값 (-고정 문화권에서 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9454c-326">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="9454c-327">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="9454c-327">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="9454c-328">유효한 일치 `decimal` 값 (-고정 문화권에서 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9454c-328">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double`  | `{weight:double}` | <span data-ttu-id="9454c-329">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="9454c-329">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="9454c-330">유효한 일치 `double` 값 (-고정 문화권에서 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9454c-330">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float`  | `{weight:float}` | <span data-ttu-id="9454c-331">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="9454c-331">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="9454c-332">유효한 일치 `float` 값 (-고정 문화권에서 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9454c-332">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid`  | `{id:guid}` | <span data-ttu-id="9454c-333">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="9454c-333">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="9454c-334">유효한 일치 `Guid` 값</span><span class="sxs-lookup"><span data-stu-id="9454c-334">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="9454c-335">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="9454c-335">`123456789`, `-123456789`</span></span> | <span data-ttu-id="9454c-336">유효한 일치 `long` 값</span><span class="sxs-lookup"><span data-stu-id="9454c-336">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="9454c-337">문자열 4 자 이상 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-337">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="9454c-338">문자열에 8 개 미만의 자 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-338">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="9454c-339">문자열에 정확 하 게 12 자 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-339">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="9454c-340">문자열 적어도 8 ~ 없습니다 개 이상의 16 자 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-340">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="9454c-341">ं क ज ा 18 이상</span><span class="sxs-lookup"><span data-stu-id="9454c-341">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` |  `91` | <span data-ttu-id="9454c-342">정수 값 120 개 이하의 여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-342">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="9454c-343">18 이상 하지만 120 개 이하의 정수 값 이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-343">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="9454c-344">문자열 알파벳 문자를 하나 이상 구성 되어야 합니다 (`a`-`z`, 대/소문자 구분)</span><span class="sxs-lookup"><span data-stu-id="9454c-344">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="9454c-345">문자열에 정규식과 일치 해야 합니다 (정규식을 정의 하는 방법에 대 한 팁을 참조 하십시오.)</span><span class="sxs-lookup"><span data-stu-id="9454c-345">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required`  | `{name:required}` | `Rick` |  <span data-ttu-id="9454c-346">비-매개 변수 값을 URL 생성 하는 동안 있는지를 적용 하는 데 사용</span><span class="sxs-lookup"><span data-stu-id="9454c-346">Used to enforce that a non-parameter value is present during URL generation</span></span> |

>[!WARNING]
> <span data-ttu-id="9454c-347">URL을 확인 하는 경로 제약 조건이 CLR 형식으로 변환할 수 있습니다 (같은 `int` 또는 `DateTime`) 항상 고정 문화권을 사용 하 여-URL은 지역화할 수 없는 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-347">Route constraints that verify the URL can be converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture - they assume the URL is non-localizable.</span></span> <span data-ttu-id="9454c-348">프레임 워크에서 제공한 경로 제약 조건이 경로 값에 저장 된 값을 수정 하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="9454c-348">The framework-provided route constraints do not modify the values stored in route values.</span></span> <span data-ttu-id="9454c-349">URL에서 구문 분석 하는 모든 경로 값을 문자열로 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-349">All route values parsed from the URL will be stored as strings.</span></span> <span data-ttu-id="9454c-350">예를 들어는 [Float 경로 제약 조건이](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/Constraints/FloatRouteConstraint.cs#L44-L60) float, 경로 값으로 변환 하려고 하지만 변환 된 값이 float로 변환할 수 확인에 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-350">For example, the [Float route constraint](https://github.com/aspnet/Routing/blob/1.0.0/src/Microsoft.AspNetCore.Routing/Constraints/FloatRouteConstraint.cs#L44-L60) will attempt to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="9454c-351">정규식</span><span class="sxs-lookup"><span data-stu-id="9454c-351">Regular expressions</span></span> 

<span data-ttu-id="9454c-352">ASP.NET Core 프레임 워크 추가 `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` 정규식 생성자에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-352">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="9454c-353">참조 [RegexOptions 열거형](https://docs.microsoft.com/dotnet/api/system.text.regularexpressions.regexoptions) 이러한 멤버에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-353">See [RegexOptions Enumeration](https://docs.microsoft.com/dotnet/api/system.text.regularexpressions.regexoptions) for a description of these members.</span></span>

<span data-ttu-id="9454c-354">정규식 구분 기호 및 라우팅 및 C# 언어에서 사용 하는 것과 유사한 토큰을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-354">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="9454c-355">정규식 토큰 이스케이프 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-355">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="9454c-356">예를 들어, 정규식을 사용 하 `^\d{3}-\d{2}-\d{4}$` 필요 합니다, 라우팅에는 `\` 로 입력 된 문자 `\\` 이스케이프 하는 C# 소스 파일에는 `\` 이스케이프 문자는 문자열 (사용 하지 않는 [축 자 문자열 리터럴](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/string)합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-356">For example, to use the regular expression `^\d{3}-\d{2}-\d{4}$` in Routing, it needs to have the `\` characters typed in as `\\` in the C# source file to escape the `\` string escape character (unless using [verbatim string literals](https://docs.microsoft.com/dotnet/csharp/language-reference/keywords/string).</span></span> <span data-ttu-id="9454c-357">`{` , `}` , ' [' 및 ']' 문자를 이중으로 라우팅 매개 변수 구분 기호 문자를 이스케이프 하 여 이스케이프 처리 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-357">The `{` , `}` , '[' and ']' characters need to be escaped by doubling them to escape the Routing parameter delimiter characters.</span></span>  <span data-ttu-id="9454c-358">다음 표에서 정규식 및 이스케이프 된 버전을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-358">The table below shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="9454c-359">식</span><span class="sxs-lookup"><span data-stu-id="9454c-359">Expression</span></span>               | <span data-ttu-id="9454c-360">참고</span><span class="sxs-lookup"><span data-stu-id="9454c-360">Note</span></span> |
| ----------------- | ------------ | 
| `^\d{3}-\d{2}-\d{4}$` | <span data-ttu-id="9454c-361">정규식</span><span class="sxs-lookup"><span data-stu-id="9454c-361">Regular expression</span></span> |
| `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` | <span data-ttu-id="9454c-362">이스케이프 처리</span><span class="sxs-lookup"><span data-stu-id="9454c-362">Escaped</span></span>  |
| `^[a-z]{2}$` | <span data-ttu-id="9454c-363">정규식</span><span class="sxs-lookup"><span data-stu-id="9454c-363">Regular expression</span></span> |
| `^[[a-z]]{{2}}$` | <span data-ttu-id="9454c-364">이스케이프 처리</span><span class="sxs-lookup"><span data-stu-id="9454c-364">Escaped</span></span>  |

<span data-ttu-id="9454c-365">라우팅에 사용 된 정규식으로 자주 시작 합니다는 `^` 끝나야 합니다 (일치 문자열의 시작 위치) 문자는 `$` 문자 (문자열의 위치를 종료 하는 일치).</span><span class="sxs-lookup"><span data-stu-id="9454c-365">Regular expressions used in routing will often start with the `^` character (match starting position of the string) and end with the `$` character (match ending position of the string).</span></span> <span data-ttu-id="9454c-366">`^` 및 `$` 문자는 정규식 일치의 전체 경로 매개 변수 값 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-366">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="9454c-367">없이 `^` 및 `$` 문자는 정규식에는 종종 않으려면 하는 문자열 내에서 모든 하위 문자열 일치 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-367">Without the `^` and `$` characters the regular expression will match any sub-string within the string, which is often not what you want.</span></span> <span data-ttu-id="9454c-368">다음 표에서 몇 가지 예가 나와 하 고 일치 하거나 일치 하도록 실패 이유를 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-368">The table below shows some examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="9454c-369">식</span><span class="sxs-lookup"><span data-stu-id="9454c-369">Expression</span></span>               | <span data-ttu-id="9454c-370">문자열</span><span class="sxs-lookup"><span data-stu-id="9454c-370">String</span></span> | <span data-ttu-id="9454c-371">일치</span><span class="sxs-lookup"><span data-stu-id="9454c-371">Match</span></span> | <span data-ttu-id="9454c-372">주석</span><span class="sxs-lookup"><span data-stu-id="9454c-372">Comment</span></span> |
| ----------------- | ------------ |  ------------ |  ------------ | 
| `[a-z]{2}` | <span data-ttu-id="9454c-373">hello</span><span class="sxs-lookup"><span data-stu-id="9454c-373">hello</span></span> | <span data-ttu-id="9454c-374">예</span><span class="sxs-lookup"><span data-stu-id="9454c-374">yes</span></span> | <span data-ttu-id="9454c-375">하위 문자열 일치</span><span class="sxs-lookup"><span data-stu-id="9454c-375">substring matches</span></span> |
| `[a-z]{2}` | <span data-ttu-id="9454c-376">123abc456</span><span class="sxs-lookup"><span data-stu-id="9454c-376">123abc456</span></span> | <span data-ttu-id="9454c-377">예</span><span class="sxs-lookup"><span data-stu-id="9454c-377">yes</span></span> | <span data-ttu-id="9454c-378">하위 문자열 일치</span><span class="sxs-lookup"><span data-stu-id="9454c-378">substring matches</span></span> |
| `[a-z]{2}` | <span data-ttu-id="9454c-379">mz</span><span class="sxs-lookup"><span data-stu-id="9454c-379">mz</span></span> | <span data-ttu-id="9454c-380">예</span><span class="sxs-lookup"><span data-stu-id="9454c-380">yes</span></span> | <span data-ttu-id="9454c-381">식과 일치</span><span class="sxs-lookup"><span data-stu-id="9454c-381">matches expression</span></span> |
| `[a-z]{2}` | <span data-ttu-id="9454c-382">MZ</span><span class="sxs-lookup"><span data-stu-id="9454c-382">MZ</span></span> | <span data-ttu-id="9454c-383">예</span><span class="sxs-lookup"><span data-stu-id="9454c-383">yes</span></span> | <span data-ttu-id="9454c-384">하지 대/소문자 구분</span><span class="sxs-lookup"><span data-stu-id="9454c-384">not case sensitive</span></span> |
| `^[a-z]{2}$` |  <span data-ttu-id="9454c-385">hello</span><span class="sxs-lookup"><span data-stu-id="9454c-385">hello</span></span> | <span data-ttu-id="9454c-386">아니요</span><span class="sxs-lookup"><span data-stu-id="9454c-386">no</span></span> | <span data-ttu-id="9454c-387">참조 `^` 및 `$` 위에</span><span class="sxs-lookup"><span data-stu-id="9454c-387">see `^` and `$` above</span></span> |
| `^[a-z]{2}$` |  <span data-ttu-id="9454c-388">123abc456</span><span class="sxs-lookup"><span data-stu-id="9454c-388">123abc456</span></span> | <span data-ttu-id="9454c-389">아니요</span><span class="sxs-lookup"><span data-stu-id="9454c-389">no</span></span> | <span data-ttu-id="9454c-390">참조 `^` 및 `$` 위에</span><span class="sxs-lookup"><span data-stu-id="9454c-390">see `^` and `$` above</span></span> |

<span data-ttu-id="9454c-391">참조 [.NET Framework 정규식](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference) 정규식 구문에 대 한 자세한 내용은 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-391">Refer to [.NET Framework Regular Expressions](https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference) for more information on regular expression syntax.</span></span>

<span data-ttu-id="9454c-392">가능한 값에 대 한 알려진 집합 매개 변수를 제한 하려면 정규식을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-392">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="9454c-393">예를 들어 `{action:regex(^(list|get|create)$)}` 에 일치는 `action` 값을 라우팅할 `list`, `get`, 또는 `create`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-393">For example `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="9454c-394">제약 조건 사전 문자열에 전달 되 면 "^ (목록 | get | 만들기) $"는 것과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-394">If passed into the constraints dictionary, the string "^(list|get|create)$" would be equivalent.</span></span> <span data-ttu-id="9454c-395">또한 알려진된 제한 중 하나에 일치 하지 않는 제약 조건 사전 (템플릿 내에서 인라인 하지)에 전달 되는 제약을 정규식으로 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-395">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

## <a name="url-generation-reference"></a><span data-ttu-id="9454c-396">URL 생성 참조</span><span class="sxs-lookup"><span data-stu-id="9454c-396">URL Generation Reference</span></span>

<span data-ttu-id="9454c-397">다음 예제에서는 경로 값의 사전에 지정 된 경로에 대 한 링크를 생성 하는 방법을 보여 줍니다 및 `RouteCollection`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-397">The example below shows how to generate a link to a route given a dictionary of route values and a `RouteCollection`.</span></span>

[!code-csharp[Main](../fundamentals/routing/sample/RoutingSample/Startup.cs?range=45-59)]

<span data-ttu-id="9454c-398">`VirtualPath` 은 위의 샘플의 끝 부분에서 생성 된 `/package/create/123`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-398">The `VirtualPath` generated at the end of the sample above is `/package/create/123`.</span></span>

<span data-ttu-id="9454c-399">두 번째 매개 변수는 `VirtualPathContext` 생성자의 컬렉션인 *앰비언트 값*합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-399">The second parameter to the `VirtualPathContext` constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="9454c-400">앰비언트 값 개발자는 특정 요청 컨텍스트 내에서 지정 해야 하는 값의 수를 제한 하 여 편의 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-400">Ambient values provide convenience by limiting the number of values a developer must specify within a certain request context.</span></span> <span data-ttu-id="9454c-401">현재 요청의 현재 경로 값에는 링크 생성에 대 한 앰비언트 값 간주 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-401">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="9454c-402">예를 들어 ASP.NET MVC 응용 프로그램에 있는 경우에 `About` 의 동작은 `HomeController`를 연결할 컨트롤러 경로 값을 지정할 필요가 없습니다는 `Index` 작업 (의 앰비언트 값 `Home` 사용 됩니다).</span><span class="sxs-lookup"><span data-stu-id="9454c-402">For example, in an ASP.NET MVC app if you are in the `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action (the ambient value of `Home` will be used).</span></span>

<span data-ttu-id="9454c-403">매개 변수가 일치 하지 않는 앰비언트 값은 무시 되 고 앰비언트 값은 무시 되는 명시적으로 제공 값을 사용 하면 재정의 왼쪽에서 오른쪽으로 이동 하는 경우 URL에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-403">Ambient values that don't match a parameter are ignored, and ambient values are also ignored when an explicitly-provided value overrides it, going from left to right in the URL.</span></span>

<span data-ttu-id="9454c-404">명시적으로 제공 되는 되지만 아무 것 과도 일치 하지 않습니다는 값은 쿼리 문자열에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-404">Values that are explicitly provided but which don't match anything are added to the query string.</span></span> <span data-ttu-id="9454c-405">다음 표에서 경로 템플릿을 사용 하는 경우 결과 보여 줍니다 `{controller}/{action}/{id?}`합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-405">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="9454c-406">앰비언트 값</span><span class="sxs-lookup"><span data-stu-id="9454c-406">Ambient Values</span></span> | <span data-ttu-id="9454c-407">명시적 값</span><span class="sxs-lookup"><span data-stu-id="9454c-407">Explicit Values</span></span> | <span data-ttu-id="9454c-408">결과</span><span class="sxs-lookup"><span data-stu-id="9454c-408">Result</span></span> |
| -------------   | -------------- | ------ |
| <span data-ttu-id="9454c-409">controller="Home"</span><span class="sxs-lookup"><span data-stu-id="9454c-409">controller="Home"</span></span> | <span data-ttu-id="9454c-410">action="About"</span><span class="sxs-lookup"><span data-stu-id="9454c-410">action="About"</span></span> | `/Home/About` |
| <span data-ttu-id="9454c-411">controller="Home"</span><span class="sxs-lookup"><span data-stu-id="9454c-411">controller="Home"</span></span> | <span data-ttu-id="9454c-412">controller="Order",action="About"</span><span class="sxs-lookup"><span data-stu-id="9454c-412">controller="Order",action="About"</span></span> | `/Order/About` |
| <span data-ttu-id="9454c-413">controller="Home",color="Red"</span><span class="sxs-lookup"><span data-stu-id="9454c-413">controller="Home",color="Red"</span></span> | <span data-ttu-id="9454c-414">action="About"</span><span class="sxs-lookup"><span data-stu-id="9454c-414">action="About"</span></span> | `/Home/About` |
| <span data-ttu-id="9454c-415">controller="Home"</span><span class="sxs-lookup"><span data-stu-id="9454c-415">controller="Home"</span></span> | <span data-ttu-id="9454c-416">action="About",color="Red"</span><span class="sxs-lookup"><span data-stu-id="9454c-416">action="About",color="Red"</span></span> | `/Home/About?color=Red`

<span data-ttu-id="9454c-417">경로 매개 변수에 해당 하지 않는 기본 값이 해당 값이 명시적으로 제공 하는 경우 기본값을 일치 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-417">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value.</span></span> <span data-ttu-id="9454c-418">예:</span><span class="sxs-lookup"><span data-stu-id="9454c-418">For example:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
  defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="9454c-419">만 링크 생성은 컨트롤러 및 작업에 대 한 일치 하는 값에 제공 되는 경우이 경로 대 한 링크를 생성 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9454c-419">Link generation would only generate a link for this route when the matching values for controller and action are provided.</span></span>
