---
uid: web-forms/overview/data-access/custom-button-actions/adding-and-responding-to-buttons-to-a-gridview-vb
title: "추가 하 고 응답 하는 GridView (VB)에 단추 | Microsoft Docs"
author: rick-anderson
description: "이 자습서와 GridView 또는 DetailsView 컨트롤의 필드에 서식 파일에 사용자 지정 단추를 추가 하는 방법을 살펴보겠습니다. 특히, त ु म च 작성기 중..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 09/13/2006
ms.topic: article
ms.assetid: 06c6bbd2-4bdc-435b-87a3-df2c868f4baa
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/data-access/custom-button-actions/adding-and-responding-to-buttons-to-a-gridview-vb
msc.type: authoredcontent
ms.openlocfilehash: ba66c867df93a9e1a0bb7897052ace7300b672af
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/10/2017
---
<a name="adding-and-responding-to-buttons-to-a-gridview-vb"></a><span data-ttu-id="a952a-104">추가 하 고 응답 하는 GridView (VB)에 단추</span><span class="sxs-lookup"><span data-stu-id="a952a-104">Adding and Responding to Buttons to a GridView (VB)</span></span>
====================
<span data-ttu-id="a952a-105">으로 [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="a952a-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="a952a-106">[샘플 앱을 다운로드](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_28_VB.exe) 또는 [PDF 다운로드](adding-and-responding-to-buttons-to-a-gridview-vb/_static/datatutorial28vb1.pdf)</span><span class="sxs-lookup"><span data-stu-id="a952a-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_28_VB.exe) or [Download PDF](adding-and-responding-to-buttons-to-a-gridview-vb/_static/datatutorial28vb1.pdf)</span></span>

> <span data-ttu-id="a952a-107">이 자습서와 GridView 또는 DetailsView 컨트롤의 필드에 서식 파일에 사용자 지정 단추를 추가 하는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-107">In this tutorial we'll look at how to add custom buttons, both to a template and to the fields of a GridView or DetailsView control.</span></span> <span data-ttu-id="a952a-108">특히, 사용자는 공급 업체를 통해 페이지 수 있도록 FormView 있는 인터페이스를 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-108">In particular, we'll build an interface that has a FormView that allows the user to page through the suppliers.</span></span>


## <a name="introduction"></a><span data-ttu-id="a952a-109">소개</span><span class="sxs-lookup"><span data-stu-id="a952a-109">Introduction</span></span>

<span data-ttu-id="a952a-110">많은 보고 시나리오는 보고서 데이터에 대 한 읽기 전용 액세스를 포함 하는 동안이 표시 되는 데이터를 기반으로 작업을 수행 하는 기능을 포함 하도록 보고서에 대 한 일반적이 지 않은 하지 s입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-110">While many reporting scenarios involve read-only access to the report data, it s not uncommon for reports to include the ability to perform actions based upon the data displayed.</span></span> <span data-ttu-id="a952a-111">일반적으로이 관련 된 각 레코드는 보고서에 표시할 단추, LinkButton을 또는 ImageButton 웹 컨트롤을 추가 하는를 클릭 하면 포스트백을 발생 하 고 일부 서버 쪽 코드를 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-111">Typically this involved adding a Button, LinkButton, or ImageButton Web control with each record displayed in the report that, when clicked, causes a postback and invokes some server-side code.</span></span> <span data-ttu-id="a952a-112">편집 및-레코드도 데이터를 삭제은 가장 일반적인 예입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-112">Editing and deleting the data on a record-by-record basis is the most common example.</span></span> <span data-ttu-id="a952a-113">사실, 부터는 살펴본 것 처럼는 [개요의 삽입, 업데이트 및 삭제 데이터](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-vb.md) 자습서, 편집 및 삭제는 GridView, DetailsView, FormView 컨트롤 없이 이러한 기능을 지원할 수 있는지는 많지는 코드의 한 줄도 작성 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-113">In fact, as we saw starting with the [Overview of Inserting, Updating, and Deleting Data](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-vb.md) tutorial, editing and deleting is so common that the GridView, DetailsView, and FormView controls can support such functionality without the need for writing a single line of code.</span></span>

<span data-ttu-id="a952a-114">또한를 편집 및 삭제 단추, GridView, DetailsView, 및 FormView 컨트롤 포함할 수도 단추, 링크, 단추가 또는 ImageButtons를 클릭 하면 일부 사용자 지정 서버 쪽 논리를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-114">In addition to Edit and Delete buttons, the GridView, DetailsView, and FormView controls can also include Buttons, LinkButtons, or ImageButtons that, when clicked, perform some custom server-side logic.</span></span> <span data-ttu-id="a952a-115">이 자습서와 GridView 또는 DetailsView 컨트롤의 필드에 서식 파일에 사용자 지정 단추를 추가 하는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-115">In this tutorial we'll look at how to add custom buttons, both to a template and to the fields of a GridView or DetailsView control.</span></span> <span data-ttu-id="a952a-116">특히, 사용자는 공급 업체를 통해 페이지 수 있도록 FormView 있는 인터페이스를 빌드합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-116">In particular, we'll build an interface that has a FormView that allows the user to page through the suppliers.</span></span> <span data-ttu-id="a952a-117">지정 된 공급자에 대 한 FormView 클릭 하면은 표시 관련 제품 중단 하는 단추 웹 컨트롤이 함께 공급자에 대 한 정보를 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-117">For a given supplier, the FormView will show information about the supplier along with a Button Web control that, if clicked, will mark all of their associated products as discontinued.</span></span> <span data-ttu-id="a952a-118">GridView 증가 가격과 할인 가격 하는 단추를 클릭 한 경우 높이 거 나 제품 s 줄일 포함 된 각 행은 선택한 공급자가 제공 하는 해당 제품을 나열 하는 또한 `UnitPrice` 10% (그림 1 참조).</span><span class="sxs-lookup"><span data-stu-id="a952a-118">Additionally, a GridView lists those products provided by the selected supplier, with each row containing Increase Price and Discount Price Buttons that, if clicked, raise or reduce the product s `UnitPrice` by 10% (see Figure 1).</span></span>


<span data-ttu-id="a952a-119">[![FormView와 GridView 포함 사용자 지정 작업을 수행 하는 단추](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image2.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-119">[![Both the FormView and GridView Contain Buttons That Perform Custom Actions](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image2.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image1.png)</span></span>

<span data-ttu-id="a952a-120">**그림 1**: 모두 FormView 및 GridView 포함 단추는 사용자 지정 작업 수행 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-120">**Figure 1**: Both the FormView and GridView Contain Buttons That Perform Custom Actions ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image3.png))</span></span>


## <a name="step-1-adding-the-button-tutorial-web-pages"></a><span data-ttu-id="a952a-121">1 단계: 추가 단추 자습서 웹 페이지</span><span class="sxs-lookup"><span data-stu-id="a952a-121">Step 1: Adding the Button Tutorial Web Pages</span></span>

<span data-ttu-id="a952a-122">사용자 지정 단추를 추가 하는 방법을 살펴보기 전에 먼저이 자습서에 사용 해야 하는 웹 사이트 프로젝트에서 ASP.NET 페이지를 만들 잠시 s가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-122">Before we look at how to add a custom buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial.</span></span> <span data-ttu-id="a952a-123">라는 새 폴더를 추가 하 여 시작 `CustomButtons`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-123">Start by adding a new folder named `CustomButtons`.</span></span> <span data-ttu-id="a952a-124">다음에 있는 각 페이지에 연결할 수 있도록 해당 폴더에 다음과 같은 두 ASP.NET 페이지를 추가 `Site.master` 마스터 페이지:</span><span class="sxs-lookup"><span data-stu-id="a952a-124">Next, add the following two ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `CustomButtons.aspx`


![사용자 지정 단추와 관련 된 자습서에 대 한 ASP.NET 페이지 추가](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image4.png)

<span data-ttu-id="a952a-126">**그림 2**: 사용자 지정 단추와 관련 된 자습서에 대 한 ASP.NET 페이지 추가</span><span class="sxs-lookup"><span data-stu-id="a952a-126">**Figure 2**: Add the ASP.NET Pages for the Custom Buttons-Related Tutorials</span></span>


<span data-ttu-id="a952a-127">다른 폴더에서와 같이 `Default.aspx` 에 `CustomButtons` 폴더는 해당 섹션의 자습서를 나열 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-127">Like in the other folders, `Default.aspx` in the `CustomButtons` folder will list the tutorials in its section.</span></span> <span data-ttu-id="a952a-128">이전에 설명한 대로 `SectionLevelTutorialListing.ascx` 이 기능을 제공 하는 사용자 정의 컨트롤입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-128">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="a952a-129">따라서이 사용자 정의 컨트롤을 추가 `Default.aspx`의 디자인 뷰에서 페이지 하려면 솔루션 탐색기에서 끌어서 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-129">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>


<span data-ttu-id="a952a-130">[![Default.aspx로 SectionLevelTutorialListing.ascx 사용자 정의 컨트롤 추가](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image6.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-130">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image6.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image5.png)</span></span>

<span data-ttu-id="a952a-131">**그림 3**: 추가 된 `SectionLevelTutorialListing.ascx` 사용자 정의 컨트롤을 `Default.aspx` ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-131">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image7.png))</span></span>


<span data-ttu-id="a952a-132">마지막으로, 페이지에 항목으로 추가 된 `Web.sitemap` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-132">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="a952a-133">특히, 페이징 및 정렬 한 후에 다음 태그를 추가할 `<siteMapNode>`:</span><span class="sxs-lookup"><span data-stu-id="a952a-133">Specifically, add the following markup after the Paging and Sorting `<siteMapNode>`:</span></span>


[!code-xml[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample1.xml)]

<span data-ttu-id="a952a-134">업데이트 한 후 `Web.sitemap`, 브라우저를 통해 자습서 웹 사이트를 보려면 보십시오.</span><span class="sxs-lookup"><span data-stu-id="a952a-134">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="a952a-135">왼쪽 메뉴에는 이제 편집, 삽입 및 삭제 자습서에 대 한 항목이 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-135">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>


![이제 사이트 맵 사용자 지정 단추 자습서에 대 한 항목을 포함](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image8.png)

<span data-ttu-id="a952a-137">**그림 4**: 이제 사이트 맵 사용자 지정 단추 자습서에 대 한 항목을 포함</span><span class="sxs-lookup"><span data-stu-id="a952a-137">**Figure 4**: The Site Map Now Includes the Entry for the Custom Buttons Tutorial</span></span>


## <a name="step-2-adding-a-formview-that-lists-the-suppliers"></a><span data-ttu-id="a952a-138">2 단계: 추가 공급자를 나열 하는 FormView</span><span class="sxs-lookup"><span data-stu-id="a952a-138">Step 2: Adding a FormView that Lists the Suppliers</span></span>

<span data-ttu-id="a952a-139">S 공급 업체를 나열 하 여 FormView를 추가 하 여이 자습서와 함께 시작할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-139">Let s get started with this tutorial by adding the FormView that lists the suppliers.</span></span> <span data-ttu-id="a952a-140">소개 부분에서 설명 했 듯이이 FormView는 수는 GridView에 공급 업체에서 제공 하는 제품을 보여 주는 공급 업체, 페이징할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-140">As discussed in the Introduction, this FormView will allow the user to page through the suppliers, showing the products provided by the supplier in a GridView.</span></span> <span data-ttu-id="a952a-141">또한이 FormView에는 단추가 포함 됩니다를 클릭 하면은 표시의 모든 공급 업체의 제품 중단 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-141">Additionally, this FormView will include a Button that, when clicked, will mark all of the supplier s products as discontinued.</span></span> <span data-ttu-id="a952a-142">FormView에 사용자 지정 단추 추가 직접 관련이 म 전에 공급 업체 정보 표시 되도록 먼저 FormView을 방금 만든이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-142">Before we concern ourselves with adding the custom button to the FormView, let s first just create the FormView so that it displays the supplier information.</span></span>

<span data-ttu-id="a952a-143">열어 시작는 `CustomButtons.aspx` 페이지에 `CustomButtons` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-143">Start by opening the `CustomButtons.aspx` page in the `CustomButtons` folder.</span></span> <span data-ttu-id="a952a-144">도구 상자에서 디자이너와 세트가으로 끌어 페이지에는 FormView 추가 해당 `ID` 속성을 `Suppliers`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-144">Add a FormView to the page by dragging it from the Toolbox onto the Designer and set its `ID` property to `Suppliers`.</span></span> <span data-ttu-id="a952a-145">FormView s 스마트 태그에서 만들도록 선택한 라는 새 ObjectDataSource `SuppliersDataSource`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-145">From the FormView s smart tag, opt to create a new ObjectDataSource named `SuppliersDataSource`.</span></span>


<span data-ttu-id="a952a-146">[![SuppliersDataSource 라는 새 ObjectDataSource 만들기](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image10.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-146">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image10.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image9.png)</span></span>

<span data-ttu-id="a952a-147">**그림 5**: 명명 된 새 ObjectDataSource 만드는 `SuppliersDataSource` ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-147">**Figure 5**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image11.png))</span></span>


<span data-ttu-id="a952a-148">구성에서 쿼리를이 새 ObjectDataSource는 `SuppliersBLL` s 클래스 `GetSuppliers()` 메서드 (그림 6 참조).</span><span class="sxs-lookup"><span data-stu-id="a952a-148">Configure this new ObjectDataSource such that it queries from the `SuppliersBLL` class s `GetSuppliers()` method (see Figure 6).</span></span> <span data-ttu-id="a952a-149">이 FormView에서 공급 업체 정보를 선택 (없음) 업데이트 탭에서 드롭 다운 목록에서 옵션을 업데이트 하기 위한 인터페이스를 제공 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-149">Since this FormView does not provide an interface for updating the supplier information, select the (None) option from the drop-down list in the UPDATE tab.</span></span>


<span data-ttu-id="a952a-150">[![S GetSuppliers() 메서드 SuppliersBLL 클래스를 사용 하도록 데이터 원본을 구성합니다](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image13.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-150">[![Configure the Data Source to use the SuppliersBLL Class s GetSuppliers() Method](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image13.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image12.png)</span></span>

<span data-ttu-id="a952a-151">**그림 6**: 사용 하도록 데이터 원본을 구성는 `SuppliersBLL` s 클래스 `GetSuppliers()` 메서드 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-151">**Figure 6**: Configure the Data Source to use the `SuppliersBLL` Class s `GetSuppliers()` Method ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image14.png))</span></span>


<span data-ttu-id="a952a-152">ObjectDataSource를 구성한 후 Visual Studio에서 생성 한 `InsertItemTemplate`, `EditItemTemplate`, 및 `ItemTemplate` FormView에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-152">After configuring the ObjectDataSource, Visual Studio will generate an `InsertItemTemplate`, `EditItemTemplate`, and `ItemTemplate` for the FormView.</span></span> <span data-ttu-id="a952a-153">제거는 `InsertItemTemplate` 및 `EditItemTemplate` 및 수정 된 `ItemTemplate` 방금 공급자의 회사 이름 및 전화 번호가 표시 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-153">Remove the `InsertItemTemplate` and `EditItemTemplate` and modify the `ItemTemplate` so that it displays just the supplier s company name and phone number.</span></span> <span data-ttu-id="a952a-154">마지막으로, 스마트 태그에서 페이징 사용 확인란을 선택 하 여 FormView에 대 한 페이징 지원을 설정 (또는 설정 하 여 해당 `AllowPaging` 속성을 `True`).</span><span class="sxs-lookup"><span data-stu-id="a952a-154">Finally, turn on paging support for the FormView by checking the Enable Paging checkbox from its smart tag (or by setting its `AllowPaging` property to `True`).</span></span> <span data-ttu-id="a952a-155">이러한 변경 된 후 페이지 s 선언적 태그는 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-155">After these changes your page s declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample2.aspx)]

<span data-ttu-id="a952a-156">그림 7 CustomButtons.aspx 페이지를 브라우저를 통해 볼 때를 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-156">Figure 7 shows the CustomButtons.aspx page when viewed through a browser.</span></span>


<span data-ttu-id="a952a-157">[![FormView는 CompanyName 및 현재 선택 된 공급 업체에서 전화 번호 필드를 나열합니다.](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image16.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-157">[![The FormView Lists the CompanyName and Phone Fields from the Currently Selected Supplier](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image16.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image15.png)</span></span>

<span data-ttu-id="a952a-158">**그림 7**: The FormView 나열 된 `CompanyName` 및 `Phone` 현재 선택 된 공급자 로부터 필드 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-158">**Figure 7**: The FormView Lists the `CompanyName` and `Phone` Fields from the Currently Selected Supplier ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image17.png))</span></span>


## <a name="step-3-adding-a-gridview-that-lists-the-selected-supplier-s-products"></a><span data-ttu-id="a952a-159">3 단계: 추가 선택된 협력 업체의 제품을 나열 하는 GridView</span><span class="sxs-lookup"><span data-stu-id="a952a-159">Step 3: Adding a GridView that Lists the Selected Supplier s Products</span></span>

<span data-ttu-id="a952a-160">S는 FormView의 템플릿에 모든 제품을 중단 단추를 추가 하도록 하는 GridView 선택한 공급자가 제공 하는 제품을 나열 하 여 FormView 아래에 먼저 추가.</span><span class="sxs-lookup"><span data-stu-id="a952a-160">Before we add the Discontinue All Products Button to the FormView s template, let s first add a GridView beneath the FormView that lists the products provided by the selected supplier.</span></span> <span data-ttu-id="a952a-161">이 위해를 추가 하려면는 GridView 페이지로 설정 해당 `ID` 속성을 `SuppliersProducts`, 라는 새 ObjectDataSource 추가 `SuppliersProductsDataSource`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-161">To accomplish this, add a GridView to the page, set its `ID` property to `SuppliersProducts`, and add a new ObjectDataSource named `SuppliersProductsDataSource`.</span></span>


<span data-ttu-id="a952a-162">[![SuppliersProductsDataSource 라는 새 ObjectDataSource 만들기](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image19.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-162">[![Create a New ObjectDataSource Named SuppliersProductsDataSource](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image19.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image18.png)</span></span>

<span data-ttu-id="a952a-163">**그림 8**: 명명 된 새 ObjectDataSource 만드는 `SuppliersProductsDataSource` ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-163">**Figure 8**: Create a New ObjectDataSource Named `SuppliersProductsDataSource` ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image20.png))</span></span>


<span data-ttu-id="a952a-164">구성 s ProductsBLL 클래스를 사용 하려면이 ObjectDataSource `GetProductsBySupplierID(supplierID)` 메서드 (그림 9 참조).</span><span class="sxs-lookup"><span data-stu-id="a952a-164">Configure this ObjectDataSource to use the ProductsBLL class s `GetProductsBySupplierID(supplierID)` method (see Figure 9).</span></span> <span data-ttu-id="a952a-165">적용이 GridView 조정이 s 제품 가격을 허용 하는 동안 t 사용 하는 기본 제공을 편집 하거나 기능을 GridView에서에서 삭제 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-165">While this GridView will allow for a product s price to be adjusted, it won t be using the built-in editing or deleting features from the GridView.</span></span> <span data-ttu-id="a952a-166">따라서 설정할 수 있습니다 (없음)으로 드롭 다운 목록 ObjectDataSource s에 대 한 UPDATE, INSERT 및 DELETE 탭 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-166">Therefore, we can set the drop-down list to (None) for the ObjectDataSource s UPDATE, INSERT, and DELETE tabs.</span></span>


<span data-ttu-id="a952a-167">[![S GetProductsBySupplierID(supplierID) 메서드 ProductsBLL 클래스를 사용 하도록 데이터 원본을 구성합니다](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image22.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-167">[![Configure the Data Source to use the ProductsBLL Class s GetProductsBySupplierID(supplierID) Method](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image22.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image21.png)</span></span>

<span data-ttu-id="a952a-168">**그림 9**: 사용 하도록 데이터 원본을 구성는 `ProductsBLL` s 클래스 `GetProductsBySupplierID(supplierID)` 메서드 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-168">**Figure 9**: Configure the Data Source to use the `ProductsBLL` Class s `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image23.png))</span></span>


<span data-ttu-id="a952a-169">이후는 `GetProductsBySupplierID(supplierID)` 입력된 매개 변수를 허용 하는 메서드, ObjectDataSource 만들라는 주세요.이 매개 변수 값의 출처입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-169">Since the `GetProductsBySupplierID(supplierID)` method accepts an input parameter, the ObjectDataSource wizard prompts us for the source of this parameter value.</span></span> <span data-ttu-id="a952a-170">에 전달 하는 `SupplierID` FormView에서 값을 제어 및 ControlID 드롭 다운 목록에 매개 변수 소스 드롭 다운 목록 설정 `Suppliers` (2 단계에서에서 만든 FormView의 ID)입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-170">To pass in the `SupplierID` value from the FormView, set the Parameter source drop-down list to Control and the ControlID drop-down list to `Suppliers` (the ID of the FormView created in Step 2).</span></span>


<span data-ttu-id="a952a-171">[![SupplierID 매개 변수는에서 가져왔는지 Suppliers FormView 컨트롤 표시](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image25.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image24.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-171">[![Indicate that the supplierID Parameter Should Come from the Suppliers FormView Control](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image25.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image24.png)</span></span>

<span data-ttu-id="a952a-172">**그림 10**: 있음을  *`supplierID`*  매개 변수에서 가져와야 하는 `Suppliers` FormView 컨트롤 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image26.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-172">**Figure 10**: Indicate that the *`supplierID`* Parameter Should Come from the `Suppliers` FormView Control ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image26.png))</span></span>


<span data-ttu-id="a952a-173">ObjectDataSource 마법사를 완료 한 후 GridView가 BoundField 또는 CheckBoxField 각 제품의 데이터 필드에 대해 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-173">After completing the ObjectDataSource wizard, the GridView will contain a BoundField or CheckBoxField for each of the product s data fields.</span></span> <span data-ttu-id="a952a-174">Let s 축소이 표시 테이블만 `ProductName` 및 `UnitPrice` BoundFields와 함께 `Discontinued` CheckBoxField; 또한 s 형식을 수 있도록는 `UnitPrice` BoundField 해당 텍스트를 통화 형식을 지정 되도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-174">Let s trim this down to show just the `ProductName` and `UnitPrice` BoundFields along with the `Discontinued` CheckBoxField; furthermore, let s format the `UnitPrice` BoundField such that its text is formatted as a currency.</span></span> <span data-ttu-id="a952a-175">에 GridView 및 `SuppliersProductsDataSource` ObjectDataSource s 선언 태그에 다음 태그 유사 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-175">Your GridView and `SuppliersProductsDataSource` ObjectDataSource s declarative markup should look similar to the following markup:</span></span>


[!code-aspx[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample3.aspx)]

<span data-ttu-id="a952a-176">이 시점에서 자습서에는 사용자가 맨 위에 있는 FormView에서 공급 업체를 선택 하 고 맨 아래에 GridView 통해 해당 공급 업체에서 제공 하는 제품을 볼 수 있도록 마스터/세부 정보 보고서를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-176">At this point our tutorial displays a master/details report, allowing the user to pick a supplier from the FormView at the top and to view the products provided by that supplier through the GridView at the bottom.</span></span> <span data-ttu-id="a952a-177">그림 11 FormView에서 도쿄 무역 공급 업체가 제공을 선택할 때이 페이지의 스크린 샷을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-177">Figure 11 shows a screen shot of this page when selecting the Tokyo Traders supplier from the FormView.</span></span>


<span data-ttu-id="a952a-178">[![선택한 공급 업체의 제품 GridView에 표시 됩니다.](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image28.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-178">[![The Selected Supplier s Products are Displayed in the GridView](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image28.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image27.png)</span></span>

<span data-ttu-id="a952a-179">**그림 11**: The 선택한 공급 업체의 제품 GridView에 표시 됩니다 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image29.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-179">**Figure 11**: The Selected Supplier s Products are Displayed in the GridView ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image29.png))</span></span>


## <a name="step-4-creating-dal-and-bll-methods-to-discontinue-all-products-for-a-supplier"></a><span data-ttu-id="a952a-180">4 단계: 공급 업체에 대 한 모든 제품을 중단 하려면 DAL 및 BLL 메서드 만들기</span><span class="sxs-lookup"><span data-stu-id="a952a-180">Step 4: Creating DAL and BLL Methods to Discontinue All Products for a Supplier</span></span>

<span data-ttu-id="a952a-181">FormView에 단추를 추가 하기 전에, 모두 중단 됩니다를 클릭 하면 공급 업체의 제품의 먼저 필요 DAL 및 BLL이이 작업을 수행 하는 메서드를 추가 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-181">Before we can add a Button to the FormView that, when clicked, discontinues all of the supplier s products, we first need to add a method to both the DAL and BLL that performs this action.</span></span> <span data-ttu-id="a952a-182">이 메서드를 지정 됩니다. 특히, `DiscontinueAllProductsForSupplier(supplierID)`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-182">In particular, this method will be named `DiscontinueAllProductsForSupplier(supplierID)`.</span></span> <span data-ttu-id="a952a-183">FormView의 단추를 클릭할 때 म 합니다이 메서드를 호출 비즈니스 논리 계층에 전달 s 선택한 공급자에 `SupplierID`; 그런 다음 BLL이 호출에서 발생 하는 해당 데이터 액세스 계층 메서드로 `UPDATE` 문을 지정 된 공급 업체의 제품을 중단 하는 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-183">When the FormView s Button is clicked, we'll invoke this method in the Business Logic Layer, passing in the selected supplier s `SupplierID`; the BLL will then call down to the corresponding Data Access Layer method, which will issue an `UPDATE` statement to the database that discontinues the specified supplier s products.</span></span>

<span data-ttu-id="a952a-184">우리의 이전 자습서에 했던 대로에서는 상향식 접근 DAL 메서드를 다음 BLL 메서드를 작성 및 마지막으로 ASP.NET 페이지의 기능을 구현부터 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-184">As we have done in our previous tutorials, we'll use a bottom-up approach, starting with creating the DAL method, then the BLL method, and finally implementing the functionality in the ASP.NET page.</span></span> <span data-ttu-id="a952a-185">열기는 `Northwind.xsd` 형식화 된 데이터 집합에는 `App_Code/DAL` 폴더에 새 메서드를 추가 하 고는 `ProductsTableAdapter` (마우스 오른쪽 단추로 클릭는 `ProductsTableAdapter` Query 추가 선택 하 고).</span><span class="sxs-lookup"><span data-stu-id="a952a-185">Open the `Northwind.xsd` Typed DataSet in the `App_Code/DAL` folder and add a new method to the `ProductsTableAdapter` (right-click on the `ProductsTableAdapter` and choose Add Query).</span></span> <span data-ttu-id="a952a-186">이렇게 우리 새 메서드를 추가 하는 과정을 안내 하는 TableAdapter 쿼리 구성 마법사를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-186">Doing so will bring up the TableAdapter Query Configuration wizard, which walks us through the process of adding the new method.</span></span> <span data-ttu-id="a952a-187">우리의 DAL 메서드는 임시 SQL 문 사용을 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-187">Start by indicating that our DAL method will use an ad-hoc SQL statement.</span></span>


<span data-ttu-id="a952a-188">[![임시 SQL 문을 사용 하 여 DAL 메서드 만들기](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image31.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image30.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-188">[![Create the DAL Method Using an Ad-Hoc SQL Statement](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image31.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image30.png)</span></span>

<span data-ttu-id="a952a-189">**그림 12**: 특별 SQL 문을 사용 하 여 DAL 메서드 만들기 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image32.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-189">**Figure 12**: Create the DAL Method Using an Ad-Hoc SQL Statement ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image32.png))</span></span>


<span data-ttu-id="a952a-190">다음으로, 마법사 어떤 유형의 쿼리를 만들에 대 한 미국 메시지 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-190">Next, the wizard prompts us as to what type of query to create.</span></span> <span data-ttu-id="a952a-191">이후는 `DiscontinueAllProductsForSupplier(supplierID)` 메서드를 업데이트 해야 합니다는 `Products` 설정 하는 데이터베이스 테이블의 `Discontinued` 필드를 지정 된에서 제공 하는 모든 제품에 대 한 1  *`supplierID`* , 데이터를 업데이트 하는 쿼리를 만들어야 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-191">Since the `DiscontinueAllProductsForSupplier(supplierID)` method will need to update the `Products` database table, setting the `Discontinued` field to 1 for all products provided by the specified *`supplierID`*, we need to create a query that updates data.</span></span>


<span data-ttu-id="a952a-192">[![업데이트 쿼리 형식 선택](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image34.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-192">[![Choose the UPDATE Query Type](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image34.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image33.png)</span></span>

<span data-ttu-id="a952a-193">**그림 13**: 업데이트 쿼리 형식 선택 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image35.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-193">**Figure 13**: Choose the UPDATE Query Type ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image35.png))</span></span>


<span data-ttu-id="a952a-194">마법사의 다음 화면에서는 TableAdapter s 기존 `UPDATE` 각에 정의 된 필드를 업데이트 하는 문에 `Products` DataTable입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-194">The next wizard screen provides the TableAdapter s existing `UPDATE` statement, which updates each of the fields defined in the `Products` DataTable.</span></span> <span data-ttu-id="a952a-195">이 쿼리 텍스트를 다음 문으로 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-195">Replace this query text with the following statement:</span></span>


[!code-sql[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample4.sql)]

<span data-ttu-id="a952a-196">새 메서드의 이름에 대 한 마지막 마법사 화면에서는 다음을 클릭 하 고이 쿼리를 입력 한 후 사용 하 여 `DiscontinueAllProductsForSupplier`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-196">After entering this query and clicking Next, the last wizard screen asks for the new method s name use `DiscontinueAllProductsForSupplier`.</span></span> <span data-ttu-id="a952a-197">"마침" 단추를 클릭 하 여 마법사를 완료 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-197">Complete the wizard by clicking the Finish button.</span></span> <span data-ttu-id="a952a-198">데이터 집합 디자이너를 반환할 때에 새로운 방법이 표시 됩니다는 `ProductsTableAdapter` 라는 `DiscontinueAllProductsForSupplier(@SupplierID)`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-198">Upon returning to the DataSet Designer you should see a new method in the `ProductsTableAdapter` named `DiscontinueAllProductsForSupplier(@SupplierID)`.</span></span>


<span data-ttu-id="a952a-199">[![새 DAL 메서드 DiscontinueAllProductsForSupplier 이름](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image37.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image36.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-199">[![Name the New DAL Method DiscontinueAllProductsForSupplier](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image37.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image36.png)</span></span>

<span data-ttu-id="a952a-200">**그림 14**: 새 DAL 메서드 이름을 `DiscontinueAllProductsForSupplier` ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image38.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-200">**Figure 14**: Name the New DAL Method `DiscontinueAllProductsForSupplier` ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image38.png))</span></span>


<span data-ttu-id="a952a-201">와 `DiscontinueAllProductsForSupplier(supplierID)` 우리의 다음 작업은 데이터 액세스 계층에서 만든 메서드를 만드는 것은 `DiscontinueAllProductsForSupplier(supplierID)` 비즈니스 논리 계층에서 메서드.</span><span class="sxs-lookup"><span data-stu-id="a952a-201">With the `DiscontinueAllProductsForSupplier(supplierID)` method created in the Data Access Layer, our next task is to create the `DiscontinueAllProductsForSupplier(supplierID)` method in the Business Logic Layer.</span></span> <span data-ttu-id="a952a-202">이를 위해 열고는 `ProductsBLL` 클래스 파일을 다음에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-202">To accomplish this, open the `ProductsBLL` class file and add the following:</span></span>


[!code-vb[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample5.vb)]

<span data-ttu-id="a952a-203">이 메서드를 단순히 호출는 `DiscontinueAllProductsForSupplier(supplierID)` 메서드 함께 제공 된 전달 DAL에서  *`supplierID`*  매개 변수 값입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-203">This method simply calls down to the `DiscontinueAllProductsForSupplier(supplierID)` method in the DAL, passing along the provided *`supplierID`* parameter value.</span></span> <span data-ttu-id="a952a-204">특정 상황에서 중단 되도록 s 제품 공급 업체를만 허용 하는 모든 비즈니스 규칙 인 경우 이러한 규칙 BLL에 여기에서 구현 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-204">If there were any business rules that only allowed a supplier s products to be discontinued under certain circumstances, those rules should be implemented here, in the BLL.</span></span>

> [!NOTE]
> <span data-ttu-id="a952a-205">와 달리는 `UpdateProduct` 에서 오버 로드는 `ProductsBLL` 클래스는 `DiscontinueAllProductsForSupplier(supplierID)` 메서드 시그니처는 포함 되지 않습니다는 `DataObjectMethodAttribute` 특성 (`<System.ComponentModel.DataObjectMethodAttribute(System.ComponentModel.DataObjectMethodType.Update, Boolean)>`).</span><span class="sxs-lookup"><span data-stu-id="a952a-205">Unlike the `UpdateProduct` overloads in the `ProductsBLL` class, the `DiscontinueAllProductsForSupplier(supplierID)` method signature does not include the `DataObjectMethodAttribute` attribute (`<System.ComponentModel.DataObjectMethodAttribute(System.ComponentModel.DataObjectMethodType.Update, Boolean)>`).</span></span> <span data-ttu-id="a952a-206">이 인덱스나 관계는 `DiscontinueAllProductsForSupplier(supplierID)` 업데이트 탭에서 ObjectDataSource의 데이터 소스 구성 마법사의 드롭 다운 목록에서 메서드. I 했습니다 호출할 때문에이 특성을 생략는 `DiscontinueAllProductsForSupplier(supplierID)` 가격 ASP.NET 페이지에서 이벤트 처리기에서 직접 메서드.</span><span class="sxs-lookup"><span data-stu-id="a952a-206">This precludes the `DiscontinueAllProductsForSupplier(supplierID)` method from the ObjectDataSource s Configure Data Source wizard s drop-down list in the UPDATE tab. I ve omitted this attribute because we'll be calling the `DiscontinueAllProductsForSupplier(supplierID)` method directly from an event handler in our ASP.NET page.</span></span>


## <a name="step-5-adding-a-discontinue-all-products-button-to-the-formview"></a><span data-ttu-id="a952a-207">5 단계: 추가 된 모든 제품 단추 FormView 중단 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-207">Step 5: Adding a Discontinue All Products Button to the FormView</span></span>

<span data-ttu-id="a952a-208">와 `DiscontinueAllProductsForSupplier(supplierID)` BLL DAL의 방법으로 완료 FormView s에 Button 웹 컨트롤을 추가 하는 선택한 공급자에 대해 모든 제품을 중단 하는 기능을 추가 하기 위한 마지막 단계 `ItemTemplate`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-208">With the `DiscontinueAllProductsForSupplier(supplierID)` method in the BLL and DAL complete, the final step for adding the ability to discontinue all products for the selected supplier is to add a Button Web control to the FormView s `ItemTemplate`.</span></span> <span data-ttu-id="a952a-209">Let s 모든 제품을 중단 단추 텍스트 공급자의 전화 번호 아래 단추를 추가 및 `ID` 속성 값이 `DiscontinueAllProductsForSupplier`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-209">Let s add such a Button below the supplier s phone number with the button text, Discontinue All Products and an `ID` property value of `DiscontinueAllProductsForSupplier`.</span></span> <span data-ttu-id="a952a-210">FormView s 스마트 태그에서 템플릿 편집 링크를 클릭 하 여 디자이너를 통해이 단추 웹 컨트롤을 추가할 수 있습니다 (그림 15 참조) 또는 선언적 구문을 통해 직접 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-210">You can add this Button Web control through the Designer by clicking on the Edit Templates link in the FormView s smart tag (see Figure 15), or directly through the declarative syntax.</span></span>


<span data-ttu-id="a952a-211">[![추가 된 모든 제품 단추 웹 컨트롤 FormView의 ItemTemplate 중단 합니다.](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image40.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-211">[![Add a Discontinue All Products Button Web Control to the FormView s ItemTemplate](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image40.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image39.png)</span></span>

<span data-ttu-id="a952a-212">**그림 15**:는 중단 모든 제품 단추 웹 컨트롤을 추가 FormView s `ItemTemplate` ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image41.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-212">**Figure 15**: Add a Discontinue All Products Button Web Control to the FormView s `ItemTemplate` ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image41.png))</span></span>


<span data-ttu-id="a952a-213">페이지에서 포스트백 계속 사용자 방문 및 FormView의 단추를 클릭할 때 [ `ItemCommand` 이벤트](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.formview.itemcommand.aspx) 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-213">When the Button is clicked by a user visiting the page, a postback ensues and the FormView s [`ItemCommand` event](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.formview.itemcommand.aspx) fires.</span></span> <span data-ttu-id="a952a-214">이 단추 클릭 되 고이에 대 한 응답 사용자 지정 코드를 실행 하려면이 이벤트에 대 한 이벤트 처리기를 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-214">To execute custom code in response to this Button being clicked, we can create an event handler for this event.</span></span> <span data-ttu-id="a952a-215">이해, 하지만 하는 `ItemCommand` 이벤트가 발생할 때마다 *모든* FormView 안에서 LinkButton을 단추나 ImageButton 웹 컨트롤을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-215">Understand, though, that the `ItemCommand` event fires whenever *any* Button, LinkButton, or ImageButton Web control is clicked within the FormView.</span></span> <span data-ttu-id="a952a-216">즉, 사용자는 FormView에서 다른 한 페이지에서 이동할 때의 `ItemCommand` 이벤트 발생 않으면 새로 만들기, 편집를 클릭 하거나 삽입, 업데이트 또는 삭제를 지 원하는 FormView에서 삭제 하는 경우 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-216">That means that when the user moves from one page to another in the FormView, the `ItemCommand` event fires; same thing when the user clicks New, Edit, or Delete in a FormView that supports inserting, updating, or deleting.</span></span>

<span data-ttu-id="a952a-217">이후는 `ItemCommand` 이벤트 처리기를 모든 제품을 중단 단추 클릭 한 경우 확인 하는 방법이 필요 또는 기타 단추 인 경우 어떤 단추를 클릭 하는 것에 관계 없이 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-217">Since the `ItemCommand` fires regardless of what button is clicked, in the event handler we need a way to determine if the Discontinue All Products Button was clicked or if it was some other button.</span></span> <span data-ttu-id="a952a-218">이를 위해 Button 웹 컨트롤 s 설정할 수 있습니다 `CommandName` 속성을 식별 일부 값입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-218">To accomplish this, we can set the Button Web control s `CommandName` property to some identifying value.</span></span> <span data-ttu-id="a952a-219">단추를 클릭할 때,이 `CommandName` 에 값이 전달 되는 `ItemCommand` 수 있어 모든 제품을 중단 단추는 단추 클릭 했는지 확인 하려면 이벤트 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-219">When the Button is clicked, this `CommandName` value is passed into the `ItemCommand` event handler, enabling us to determine whether the Discontinue All Products Button was the button clicked.</span></span> <span data-ttu-id="a952a-220">모든 제품 단추 중단 s 설정 `CommandName` 속성 DiscontinueProducts 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-220">Set the Discontinue All Products Button s `CommandName` property to DiscontinueProducts .</span></span>

<span data-ttu-id="a952a-221">마지막으로, 클라이언트 쪽 확인 대화 상자를 사용 하 여 선택한 공급 업체의 제품을 중단 하려면 사용자가 실제로 있는지 되도록 s 사용 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-221">Finally, let s use a client-side confirm dialog box to ensure that the user really wants to discontinue the selected supplier s products.</span></span> <span data-ttu-id="a952a-222">설명한 것 처럼는 [추가 클라이언트 쪽 확인 때 삭제](../editing-inserting-and-deleting-data/adding-client-side-confirmation-when-deleting-vb.md) 자습서, 약간 JavaScript의이 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-222">As we saw in the [Adding Client-Side Confirmation When Deleting](../editing-inserting-and-deleting-data/adding-client-side-confirmation-when-deleting-vb.md) tutorial, this can be accomplished with a bit of JavaScript.</span></span> <span data-ttu-id="a952a-223">특히, Button 웹 컨트롤의 OnClientClick 속성을 설정`return confirm('This will mark _all_ of this supplier\'s products as discontinued. Are you certain you want to do this?');`</span><span class="sxs-lookup"><span data-stu-id="a952a-223">In particular, set the Button Web control s OnClientClick property to `return confirm('This will mark _all_ of this supplier\'s products as discontinued. Are you certain you want to do this?');`</span></span>

<span data-ttu-id="a952a-224">다음과 같이 변경한 후 FormView s 선언적 구문 다음과 같이 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-224">After making these changes, the FormView s declarative syntax should look like the following:</span></span>


[!code-aspx[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample6.aspx)]

<span data-ttu-id="a952a-225">FormView s에 대 한 이벤트 처리기를 다음으로 만들고 `ItemCommand` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-225">Next, create an event handler for the FormView s `ItemCommand` event.</span></span> <span data-ttu-id="a952a-226">이 이벤트 처리기에서 먼저 모든 제품을 중단 단추가 클릭 되었습니다 여부를 결정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-226">In this event handler we need to first determine whether the Discontinue All Products Button was clicked.</span></span> <span data-ttu-id="a952a-227">인스턴스를 만드는 할까요,는 `ProductsBLL` 클래스 및 호출 해당 `DiscontinueAllProductsForSupplier(supplierID)` 전달 하는 메서드는 `SupplierID` 선택한 FormView의:</span><span class="sxs-lookup"><span data-stu-id="a952a-227">If so, we want to create an instance of the `ProductsBLL` class and invoke its `DiscontinueAllProductsForSupplier(supplierID)` method, passing in the `SupplierID` of the selected FormView:</span></span>


[!code-vb[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample7.vb)]

<span data-ttu-id="a952a-228">`SupplierID` FormView에서 현재 선택 된 공급 업체의 액세스할 수 FormView s를 사용 하 여 [ `SelectedValue` 속성](https://msdn.microsoft.com/en-US/library/system.web.ui.webcontrols.formview.selectedvalue.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-228">Note that the `SupplierID` of the current selected supplier in the FormView can be accessed using the FormView s [`SelectedValue` property](https://msdn.microsoft.com/en-US/library/system.web.ui.webcontrols.formview.selectedvalue.aspx).</span></span> <span data-ttu-id="a952a-229">`SelectedValue` 속성 첫 번째 데이터 키 FormView에 표시 되는 레코드에 대 한 값을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-229">The `SelectedValue` property returns the first data key value for the record being displayed in the FormView.</span></span> <span data-ttu-id="a952a-230">FormView s [ `DataKeyNames` 속성](https://msdn.microsoft.com/en-us/system.web.ui.webcontrols.formview.datakeynames.aspx),으로 자동으로 설정 된에서 필드를 데이터 값을 키를 가져오는 데이터를 나타내는 `SupplierID` FormView 뒤로 ObjectDataSource를 바인딩할 때 Visual Studio에서 2 단계.</span><span class="sxs-lookup"><span data-stu-id="a952a-230">The FormView s [`DataKeyNames` property](https://msdn.microsoft.com/en-us/system.web.ui.webcontrols.formview.datakeynames.aspx), which indicates the data fields from which the data key values are pulled from, was automatically set to `SupplierID` by Visual Studio when binding the ObjectDataSource to the FormView back in Step 2.</span></span>

<span data-ttu-id="a952a-231">와 `ItemCommand` 이벤트 처리기를 만든 보십시오 페이지를 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-231">With the `ItemCommand` event handler created, take a moment to test out the page.</span></span> <span data-ttu-id="a952a-232">Cooperativa de Quesos로 이동 ' Las Cabras' 공급 업체 (이 s 내 FormView에서 다섯 번째 공급 업체).</span><span class="sxs-lookup"><span data-stu-id="a952a-232">Browse to the Cooperativa de Quesos 'Las Cabras' supplier (it s the fifth supplier in the FormView for me).</span></span> <span data-ttu-id="a952a-233">이 공급자를 두 개의 제품이 Queso Cabrales 및 Queso Manchego La Pastora 둘 다 제공 *하지* 중단 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-233">This supplier provides two products, Queso Cabrales and Queso Manchego La Pastora, both of which are *not* discontinued.</span></span>

<span data-ttu-id="a952a-234">Cooperativa de Quesos ' Las Cabras' 벗어난 비즈니스 해당 제품은 중단 되도록 하는 따라서 한다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-234">Imagine that Cooperativa de Quesos 'Las Cabras' has gone out of business and therefore its products are to be discontinued.</span></span> <span data-ttu-id="a952a-235">클릭는 모든 제품 단추를 중단 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-235">Click the Discontinue All Products Button.</span></span> <span data-ttu-id="a952a-236">클라이언트 쪽 확인 대화 상자가 표시 됩니다 상자 (그림 16 참조).</span><span class="sxs-lookup"><span data-stu-id="a952a-236">This will display the client-side confirm dialog box (see Figure 16).</span></span>


<span data-ttu-id="a952a-237">[![Cooperativa de Quesos Las Cabras 공급 두 활성 제품](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image43.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-237">[![Cooperativa de Quesos Las Cabras Supplies Two Active Products](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image43.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image42.png)</span></span>

<span data-ttu-id="a952a-238">**그림 16**: Cooperativa de Quesos Las Cabras 공급 제품 두 개의 활성 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-238">**Figure 16**: Cooperativa de Quesos Las Cabras Supplies Two Active Products ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image44.png))</span></span>


<span data-ttu-id="a952a-239">클라이언트 쪽 확인 대화 상자에서 확인을 클릭 하면 양식 전송이 진행 됩니다는 포스트백을 발생 시키거나 FormView의 `ItemCommand` 이벤트가 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-239">If you click OK in the client-side confirm dialog box, the form submission will proceed, causing a postback in which the FormView s `ItemCommand` event will fire.</span></span> <span data-ttu-id="a952a-240">호출 만든 이벤트 처리기가 실행 한 다음는 `DiscontinueAllProductsForSupplier(supplierID)` 메서드와 Queso Cabrales와 Queso Manchego La Pastora 제품을 중단 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-240">The event handler we created will then execute, invoking the `DiscontinueAllProductsForSupplier(supplierID)` method and discontinuing both the Queso Cabrales and Queso Manchego La Pastora products.</span></span>

<span data-ttu-id="a952a-241">GridView의 뷰 상태를 비활성화 한 경우 GridView 포스트백이 발생할 때마다, 기본 데이터 저장소에 리바운드 되 고 고 따라서는 즉시 반영 하도록 업데이트는이 두 제품은 이제 사용 되지 않습니다 (그림 17 참조).</span><span class="sxs-lookup"><span data-stu-id="a952a-241">If you have disabled the GridView s view state, the GridView is being rebound to the underlying data store on every postback, and therefore will immediately be updated to reflect that these two products are now discontinued (see Figure 17).</span></span> <span data-ttu-id="a952a-242">그러나 GridView에서 뷰 상태를 해제 하지 않은, 경우에이 같이 변경한 후 GridView에 데이터를 수동으로 다시 바인딩 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-242">If, however, you have not disabled view state in the GridView, you will need to manually rebind the data to the GridView after making this change.</span></span> <span data-ttu-id="a952a-243">이를 위해 GridView의 호출을 수행 하면 `DataBind()` 호출 직후 메서드는 `DiscontinueAllProductsForSupplier(supplierID)` 메서드.</span><span class="sxs-lookup"><span data-stu-id="a952a-243">To accomplish this, simply make a call to the GridView s `DataBind()` method immediately after invoking the `DiscontinueAllProductsForSupplier(supplierID)` method.</span></span>


<span data-ttu-id="a952a-244">[![모든 제품을 중단 단추를 클릭 한 후 s 공급 업체 제품에 업데이트 됩니다.](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image46.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-244">[![After Clicking the Discontinue All Products Button, the Supplier s Products are Updated Accordingly](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image46.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image45.png)</span></span>

<span data-ttu-id="a952a-245">**그림 17**: 모든 제품을 중단 단추를 클릭 한 후 s 공급 업체 제품에 업데이트 됩니다 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-245">**Figure 17**: After Clicking the Discontinue All Products Button, the Supplier s Products are Updated Accordingly ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image47.png))</span></span>


## <a name="step-6-creating-an-updateproduct-overload-in-the-business-logic-layer-for-adjusting-a-product-s-price"></a><span data-ttu-id="a952a-246">6 단계: 제품의 가격을 조정 하기 위한 비즈니스 논리 계층에서 UpdateProduct 오버 로드를 만들기</span><span class="sxs-lookup"><span data-stu-id="a952a-246">Step 6: Creating an UpdateProduct Overload in the Business Logic Layer for Adjusting a Product s Price</span></span>

<span data-ttu-id="a952a-247">마찬가지로 모든 제품을 중단 단추는 FormView에서 GridView의 제품에 대 한 가격을 늘리고에 대 한 단추를 추가 하기 위해 해야 먼저 적절 한 데이터 액세스 계층 및 비즈니스 논리 계층 메서드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-247">Like with the Discontinue All Products Button in the FormView, in order to add buttons for increasing and decreasing the price for a product in the GridView we need to first add the appropriate Data Access Layer and Business Logic Layer methods.</span></span> <span data-ttu-id="a952a-248">DAL에 단일 제품 행을 업데이트 하는 메서드를 이미 했기 때문에 대 한 새 오버 로드를 만들어서 이러한 기능을 제공할 수 있습니다는 `UpdateProduct` BLL에 메서드.</span><span class="sxs-lookup"><span data-stu-id="a952a-248">Since we already have a method that updates a single product row in the DAL, we can provide such functionality by creating a new overload for the `UpdateProduct` method in the BLL.</span></span>

<span data-ttu-id="a952a-249">우리의 과거 `UpdateProduct` 오버 로드 스칼라 입력된 값으로 제품 필드 중 일부 조합에서 사항이 다음 지정된 된 제품에 대 한 필드를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-249">Our past `UpdateProduct` overloads have taken in some combination of product fields as scalar input values and have then updated just those fields for the specified product.</span></span> <span data-ttu-id="a952a-250">이 오버 로드에 대해이 표준에서 조금씩 알아보고 s 제품에 대신 전달 하겠습니다 `ProductID` 및 비율 조정에 사용 되는 `UnitPrice` (새 전달, 달리 조정 `UnitPrice` 자체).</span><span class="sxs-lookup"><span data-stu-id="a952a-250">For this overload we'll vary slightly from this standard and instead pass in the product s `ProductID` and the percentage by which to adjust the `UnitPrice` (as opposed to passing in the new, adjusted `UnitPrice` itself).</span></span> <span data-ttu-id="a952a-251">이 방법을 사용 하면 ASP.NET 페이지 코드 숨김 클래스에서 작성 해야 하는 코드를 간편 하 게, t s 현재 제품을 결정 하는 것 때문 `UnitPrice`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-251">This approach will simplify the code we need to write in the ASP.NET page code-behind class, since we don t have to bother with determining the current product s `UnitPrice`.</span></span>

<span data-ttu-id="a952a-252">`UpdateProduct` 아래 나와이 자습서에 대 한 오버 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-252">The `UpdateProduct` overload for this tutorial is shown below:</span></span>


[!code-vb[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample8.vb)]

<span data-ttu-id="a952a-253">이 오버 로드 DAL s 통해 지정된 된 제품에 대 한 정보를 검색 `GetProductByProductID(productID)` 메서드.</span><span class="sxs-lookup"><span data-stu-id="a952a-253">This overload retrieves information about the specified product through the DAL s `GetProductByProductID(productID)` method.</span></span> <span data-ttu-id="a952a-254">참조를 확인 하는지 여부를 제품 s `UnitPrice` 는 데이터베이스가 할당 `NULL` 값입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-254">It then checks to see whether the product s `UnitPrice` is assigned a database `NULL` value.</span></span> <span data-ttu-id="a952a-255">가격 남아 인 경우 변경 되지 않도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-255">If it is, the price is left unaltered.</span></span> <span data-ttu-id="a952a-256">그러나이 아닌 경우`NULL` `UnitPrice` s 제품을 업데이트 하는 값, 메서드 `UnitPrice` 지정 된 % (`unitPriceAdjustmentPercent`).</span><span class="sxs-lookup"><span data-stu-id="a952a-256">If, however, there is a non-`NULL` `UnitPrice` value, the method updates the product s `UnitPrice` by the specified percent (`unitPriceAdjustmentPercent`).</span></span>

## <a name="step-7-adding-the-increase-and-decrease-buttons-to-the-gridview"></a><span data-ttu-id="a952a-257">GridView에 증가 및 감소 단추를 추가 하는 7 단계:</span><span class="sxs-lookup"><span data-stu-id="a952a-257">Step 7: Adding the Increase and Decrease Buttons to the GridView</span></span>

<span data-ttu-id="a952a-258">GridView (및 DetailsView) 둘 다 구성 된 필드의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-258">The GridView (and DetailsView) are both made up of a collection of fields.</span></span> <span data-ttu-id="a952a-259">ASP.NET 및 뿐만 아니라 BoundFields, CheckBoxFields, TemplateFields, 이름에서 알 수 있듯이 각 행에 대해 단추나 LinkButton을 ImageButton 인 열으로 렌더링 하는 ButtonField를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-259">In addition to BoundFields, CheckBoxFields, and TemplateFields, ASP.NET includes the ButtonField, which, as its name implies, renders as a column with a Button, LinkButton, or ImageButton for each row.</span></span> <span data-ttu-id="a952a-260">클릭 하 여 FormView 비슷합니다 *모든* GridView 페이징 단추, 편집 또는 삭제 단추, 단추 정렬, 및 등 내에서 단추 포스트백 및 GridView s 발생 [ `RowCommand` 이벤트](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rowcommand.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-260">Similar to the FormView, clicking *any* button within the GridView paging buttons, Edit or Delete buttons, sorting buttons, and so on causes a postback and raises the GridView s [`RowCommand` event](https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.rowcommand.aspx).</span></span>

<span data-ttu-id="a952a-261">ButtonField에는 `CommandName` 각 단추에 지정 된 값을 할당 하는 속성 `CommandName` 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-261">The ButtonField has a `CommandName` property that assigns the specified value to each of its Buttons `CommandName` properties.</span></span> <span data-ttu-id="a952a-262">FormView와 함께 `CommandName` 값에서 사용 됩니다는 `RowCommand` 이벤트 처리기는 단추를 클릭 했는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-262">Like with the FormView, the `CommandName` value is used by the `RowCommand` event handler to determine which button was clicked.</span></span>

<span data-ttu-id="a952a-263">Let s 단추 텍스트로 Price + 10 하나 GridView에 두 개의 새 ButtonFields 추가 % 있고 다른 한 대 텍스트 가격-10%입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-263">Let s add two new ButtonFields to the GridView, one with a button text Price +10% and the other with the text Price -10%.</span></span> <span data-ttu-id="a952a-264">이러한 ButtonFields를 추가 하려면 GridView s 스마트 태그에서 열 편집 링크를 클릭 하 고 왼쪽 위에 있는 목록에서 ButtonField 필드 유형을 선택 추가 단추를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-264">To add these ButtonFields, click on the Edit Columns link from the GridView s smart tag, select the ButtonField field type from the list in the upper left and click the Add button.</span></span>


![두 개의 ButtonFields GridView에 추가](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image48.png)

<span data-ttu-id="a952a-266">**그림 18**: 두 ButtonFields GridView에 추가</span><span class="sxs-lookup"><span data-stu-id="a952a-266">**Figure 18**: Add Two ButtonFields to the GridView</span></span>


<span data-ttu-id="a952a-267">처음 두 GridView 필드로 표시 되도록 두 개의 ButtonFields를 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-267">Move the two ButtonFields so that they appear as the first two GridView fields.</span></span> <span data-ttu-id="a952a-268">다음으로 설정 된 `Text` 가격 + 10 %를 이러한 두 ButtonFields 및 Price-10의 속성 %와 `CommandName` IncreasePrice 고 DecreasePrice, 속성을 각각.</span><span class="sxs-lookup"><span data-stu-id="a952a-268">Next, set the `Text` properties of these two ButtonFields to Price +10% and Price -10% and the `CommandName` properties to IncreasePrice and DecreasePrice, respectively.</span></span> <span data-ttu-id="a952a-269">기본적으로는 ButtonField 링크 단추가으로 단추의 해당 열을 렌더링합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-269">By default, a ButtonField renders its column of buttons as LinkButtons.</span></span> <span data-ttu-id="a952a-270">그러나이 변경할 수 있습니다, ButtonField s 통해 [ `ButtonType` 속성](https://msdn.microsoft.com/en-US/library/system.web.ui.webcontrols.buttonfieldbase.buttontype.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-270">This can be changed, however, through the ButtonField s [`ButtonType` property](https://msdn.microsoft.com/en-US/library/system.web.ui.webcontrols.buttonfieldbase.buttontype.aspx).</span></span> <span data-ttu-id="a952a-271">이러한 두 ButtonFields 일반 누름 단추;로 렌더링 있는 s 따라서 설정 하는 `ButtonType` 속성을 `Button`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-271">Let s have these two ButtonFields rendered as regular push buttons; therefore, set the `ButtonType` property to `Button`.</span></span> <span data-ttu-id="a952a-272">그림 19 필드 대화 상자를 표시 한 후 이러한 변경 사항이; 그 다음에 GridView s 선언 태그입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-272">Figure 19 shows the Fields dialog box after these changes have been made; following that is the GridView s declarative markup.</span></span>


![ButtonFields 텍스트, CommandName, 및 ButtonType 속성 구성](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image49.png)

<span data-ttu-id="a952a-274">**그림 19**:는 ButtonFields 구성 `Text`, `CommandName`, 및 `ButtonType` 속성</span><span class="sxs-lookup"><span data-stu-id="a952a-274">**Figure 19**: Configure the ButtonFields `Text`, `CommandName`, and `ButtonType` Properties</span></span>


[!code-aspx[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample9.aspx)]

<span data-ttu-id="a952a-275">최종 단계는 만든 이러한 ButtonFields와 GridView s에 대 한 이벤트 처리기를 만들고를 `RowCommand` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-275">With these ButtonFields created, the final step is to create an event handler for the GridView s `RowCommand` event.</span></span> <span data-ttu-id="a952a-276">때문에 발생 한 경우이 이벤트 처리기는 가격 + 10% 또는 가격-10% 단추 클릭 된를 결정 하는 요구는 `ProductID` 단추를 클릭 한 다음 행에 대 한는 `ProductsBLL` s 클래스 `UpdateProduct` 적절 한 전달 메서드 `UnitPrice` 와 함께 비율 조정은 `ProductID`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-276">This event handler, if fired because either the Price +10% or Price -10% buttons were clicked, needs to determine the `ProductID` for the row whose button was clicked and then invoke the `ProductsBLL` class s `UpdateProduct` method, passing in the appropriate `UnitPrice` percentage adjustment along with the `ProductID`.</span></span> <span data-ttu-id="a952a-277">다음 코드에서는 이러한 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-277">The following code performs these tasks:</span></span>

[!code-vb[Main](adding-and-responding-to-buttons-to-a-gridview-vb/samples/sample10.vb)]

<span data-ttu-id="a952a-278">확인 하기 위해는 `ProductID` 행에 대 한 가격 + 10% 또는 가격-10% 단추가 클릭 되었습니다, GridView s 참조 해야 `DataKeys` 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-278">In order to determine the `ProductID` for the row whose Price +10% or Price -10% button was clicked, we need to consult the GridView s `DataKeys` collection.</span></span> <span data-ttu-id="a952a-279">이 컬렉션에 지정 된 필드의 값만 포함 된 `DataKeyNames` 각 GridView 행에 대 한 속성입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-279">This collection holds the values of the fields specified in the `DataKeyNames` property for each GridView row.</span></span> <span data-ttu-id="a952a-280">GridView s 이후 `DataKeyNames` 속성이로 설정 된 ProductID Visual Studio에서 GridView에는 ObjectDataSource를 바인딩할 때 `DataKeys(rowIndex).Value` 제공는 `ProductID` 지정 된 *rowIndex*합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-280">Since the GridView s `DataKeyNames` property was set to ProductID by Visual Studio when binding the ObjectDataSource to the GridView, `DataKeys(rowIndex).Value` provides the `ProductID` for the specified *rowIndex*.</span></span>

<span data-ttu-id="a952a-281">ButtonField에 자동으로 전달 된 *rowIndex* 를 통해 해당 단추를 클릭 한 행의는 `e.CommandArgument` 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-281">The ButtonField automatically passes in the *rowIndex* of the row whose button was clicked through the `e.CommandArgument` parameter.</span></span> <span data-ttu-id="a952a-282">따라서 결정 하는 `ProductID` 행에 대 한 가격 + 10% 또는 가격-10% 단추가 클릭 되었습니다, 사용: `Convert.ToInt32(SuppliersProducts.DataKeys(Convert.ToInt32(e.CommandArgument)).Value)`합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-282">Therefore, to determine the `ProductID` for the row whose Price +10% or Price -10% button was clicked, we use: `Convert.ToInt32(SuppliersProducts.DataKeys(Convert.ToInt32(e.CommandArgument)).Value)`.</span></span>

<span data-ttu-id="a952a-283">로 모든 제품을 중단 단추와 GridView의 뷰 상태를 해제 한 경우 GridView 포스트백이 발생할 때마다, 기본 데이터 저장소에 리바운드 되 고 고 따라서 즉시 업데이트 됩니다를 클릭 하면 발생 하 여 가격 변경을 반영 하기 위해 단추 중 하나입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-283">As with the Discontinue All Products button, if you have disabled the GridView s view state, the GridView is being rebound to the underlying data store on every postback, and therefore will immediately be updated to reflect a price change that occurs from clicking either of the buttons.</span></span> <span data-ttu-id="a952a-284">그러나 GridView에서 뷰 상태를 해제 하지 않은, 경우에이 같이 변경한 후 GridView에 데이터를 수동으로 다시 바인딩 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-284">If, however, you have not disabled view state in the GridView, you will need to manually rebind the data to the GridView after making this change.</span></span> <span data-ttu-id="a952a-285">이를 위해 GridView의 호출을 수행 하면 `DataBind()` 호출 직후 메서드는 `UpdateProduct` 메서드.</span><span class="sxs-lookup"><span data-stu-id="a952a-285">To accomplish this, simply make a call to the GridView s `DataBind()` method immediately after invoking the `UpdateProduct` method.</span></span>

<span data-ttu-id="a952a-286">그림 20 대양 농산에서 제공 하는 제품을 볼 때 페이지를 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-286">Figure 20 shows the page when viewing the products provided by Grandma Kelly's Homestead.</span></span> <span data-ttu-id="a952a-287">그림 21는 % 버튼을 클릭 할머니의 블루베리 확산 및 Price-10% 단추에 대해 두 번 한 번 대양 특선 딸기 소스에 대 한 가격 + 10 후 결과.</span><span class="sxs-lookup"><span data-stu-id="a952a-287">Figure 21 shows the results after the Price +10% button has been clicked twice for Grandma's Boysenberry Spread and the Price -10% button once for Northwoods Cranberry Sauce.</span></span>


<span data-ttu-id="a952a-288">[![GridView 포함 가격 + 10% 및 가격-10% 단추](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image51.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-288">[![The GridView Includes Price +10% and Price -10% Buttons](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image51.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image50.png)</span></span>

<span data-ttu-id="a952a-289">**그림 20**: GridView 포함 가격 + 10% 및 % 단추 가격-10 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image52.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-289">**Figure 20**: The GridView Includes Price +10% and Price -10% Buttons ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image52.png))</span></span>


<span data-ttu-id="a952a-290">[![첫 번째 및 세 번째 제품에 대 한 가격 + 10 가격을 통해 업데이트 되었습니다. % 및 가격-10% 단추](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image54.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="a952a-290">[![The Prices for the First and Third Product Have Been Updated via the Price +10% and Price -10% Buttons](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image54.png)](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image53.png)</span></span>

<span data-ttu-id="a952a-291">**그림 21**: The 가격을 첫 번째 및 세 번째 제품 업데이트 되었습니다. + 10 가격을 통해 % 및 % 단추 가격-10 ([전체 크기 이미지를 보려면 클릭](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image55.png))</span><span class="sxs-lookup"><span data-stu-id="a952a-291">**Figure 21**: The Prices for the First and Third Product Have Been Updated via the Price +10% and Price -10% Buttons ([Click to view full-size image](adding-and-responding-to-buttons-to-a-gridview-vb/_static/image55.png))</span></span>


> [!NOTE]
> <span data-ttu-id="a952a-292">GridView (및 DetailsView) 단추, 링크 단추가, 또는 해당 TemplateFields에 추가 ImageButtons 있을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-292">The GridView (and DetailsView) can also have Buttons, LinkButtons, or ImageButtons added to their TemplateFields.</span></span> <span data-ttu-id="a952a-293">BoundField, 이러한 단추를 클릭 하면는 포스트백을 유도할 됩니다, 처럼 발생 GridView의 `RowCommand` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-293">As with the BoundField, these Buttons, when clicked, will induce a postback, raising the GridView s `RowCommand` event.</span></span> <span data-ttu-id="a952a-294">그러나 때 추가 단추를 TemplateField s 단추 `CommandArgument` ButtonFields를 사용 하 여 일 때와 행의 인덱스를 자동으로 설정 되지 됩니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-294">When adding buttons in a TemplateField, however, the Button s `CommandArgument` is not automatically set to the index of the row as it is when using ButtonFields.</span></span> <span data-ttu-id="a952a-295">내에서 클릭 된 단추의의 행 인덱스를 결정 하는 경우는 `RowCommand` s 단추를 수동으로 설정 해야 이벤트 처리기 `CommandArgument` 같은 코드를 사용 하 여 TemplateField 내에서 해당 선언적 구문에서 속성:</span><span class="sxs-lookup"><span data-stu-id="a952a-295">If you need to determine the row index of the button that was clicked within the `RowCommand` event handler, you'll need to manually set the Button s `CommandArgument` property in its declarative syntax within the TemplateField, using code like:</span></span>  
> <span data-ttu-id="a952a-296">`<asp:Button runat="server" ... CommandArgument='<%# CType(Container, GridViewRow).RowIndex %>' />`.</span><span class="sxs-lookup"><span data-stu-id="a952a-296">`<asp:Button runat="server" ... CommandArgument='<%# CType(Container, GridViewRow).RowIndex %>' />`.</span></span>


## <a name="summary"></a><span data-ttu-id="a952a-297">요약</span><span class="sxs-lookup"><span data-stu-id="a952a-297">Summary</span></span>

<span data-ttu-id="a952a-298">단추, 링크, 단추가 또는 ImageButtons GridView, DetailsView, 및 FormView 컨트롤을 모두 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-298">The GridView, DetailsView, and FormView controls all can include Buttons, LinkButtons, or ImageButtons.</span></span> <span data-ttu-id="a952a-299">이러한 단추를 클릭 하면 포스트백을 발생 시키고는 `ItemCommand` FormView 및 DetailsView 컨트롤에 이벤트 및 `RowCommand` GridView에서 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-299">Such buttons, when clicked, cause a postback and raise the `ItemCommand` event in the FormView and DetailsView controls and the `RowCommand` event in the GridView.</span></span> <span data-ttu-id="a952a-300">이러한 데이터 웹 컨트롤 삭제 레코드 편집 등과 같은 일반 명령 관련 동작을 처리 하도록 기본 제공 기능이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-300">These data Web controls have built-in functionality to handle common command-related actions, such as deleting or editing records.</span></span> <span data-ttu-id="a952a-301">그러나을 활용해 서도 사용 하 여 단추를 클릭 했을 때, 고유한 사용자 지정 코드를 실행 하 여 응답 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-301">However, we can also use buttons that, when clicked, respond with executing our own custom code.</span></span>

<span data-ttu-id="a952a-302">이 수행 하기에 대 한 이벤트 처리기를 만들고 해야는 `ItemCommand` 또는 `RowCommand` 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-302">To accomplish this, we need to create an event handler for the `ItemCommand` or `RowCommand` event.</span></span> <span data-ttu-id="a952a-303">이 이벤트 처리기에서 먼저 확인 들어오는 `CommandName` 단추를 클릭 했는지 확인 한 다음 적절 한 조치 사용자 지정 하는 값입니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-303">In this event handler we first check the incoming `CommandName` value to determine which button was clicked and then take appropriate custom action.</span></span> <span data-ttu-id="a952a-304">이 자습서를 사용 하 여 단추와 ButtonFields 지정 된 공급자에 대 한 모든 제품을 중단 높이 거 나 특정 제품의 가격을 10% 감소 하는 방법에 살펴보았습니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-304">In this tutorial we saw how to use buttons and ButtonFields to discontinue all products for a specified supplier or to increase or decrease the price of a particular product by 10%.</span></span>

<span data-ttu-id="a952a-305">만족도 매우 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="a952a-305">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="a952a-306">작성자 정보</span><span class="sxs-lookup"><span data-stu-id="a952a-306">About the Author</span></span>

<span data-ttu-id="a952a-307">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), 7 ASP/ASP.NET 서적과의 창립자의 작성자 [4GuysFromRolla.com](http://www.4guysfromrolla.com), 1998 이후 Microsoft 웹 기술과 함께 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-307">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="a952a-308">Scott 독립 컨설턴트, 강사, 기술 및 작성기 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-308">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="a952a-309">그의 최신 서적은 [ *Sam 업무량이 직접 ASP.NET 2.0 24 시간 동안에서*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-309">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="a952a-310">에 연결할 수 그 [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) 에서 찾을 수 있는 그의 블로그를 통해 또는 [http://ScottOnWriting.NET](http://ScottOnWriting.NET)합니다.</span><span class="sxs-lookup"><span data-stu-id="a952a-310">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com) or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="a952a-311">이전</span><span class="sxs-lookup"><span data-stu-id="a952a-311">Previous</span></span>](adding-and-responding-to-buttons-to-a-gridview-cs.md)
