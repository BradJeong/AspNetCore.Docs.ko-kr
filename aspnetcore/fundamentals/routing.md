---
title: ASP.NET Core에서 라우팅
author: ardalis
description: ASP.NET Core 라우팅 기능에서 들어오는 요청을 경로 처리기에 매핑하는 일을 담당하는 방법을 파악합니다.
ms.author: riande
ms.custom: mvc
ms.date: 10/01/2018
uid: fundamentals/routing
ms.openlocfilehash: d9ba96c7b2abd35b1b13c84814bf3f776e8d8731
ms.sourcegitcommit: 13940eb53c68664b11a2d685ee17c78faab1945d
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/01/2018
ms.locfileid: "47861059"
---
# <a name="routing-in-aspnet-core"></a><span data-ttu-id="9a589-103">ASP.NET Core에서 라우팅</span><span class="sxs-lookup"><span data-stu-id="9a589-103">Routing in ASP.NET Core</span></span>

<span data-ttu-id="9a589-104">작성자: [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/) 및 [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="9a589-104">By [Ryan Nowak](https://github.com/rynowak), [Steve Smith](https://ardalis.com/), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="9a589-105">라우팅 기능은 들어오는 요청을 경로 처리기에 매핑하는 일을 담당합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-105">Routing functionality is responsible for mapping an incoming request to a route handler.</span></span> <span data-ttu-id="9a589-106">경로는 앱에서 정의되고 앱 시작 시 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-106">Routes are defined in the app and configured when the app starts.</span></span> <span data-ttu-id="9a589-107">경로는 요청에 포함된 URL에서 필요에 따라 값을 추출할 수 있으며 이러한 값은 요청 처리를 위해 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-107">A route can optionally extract values from the URL contained in the request, and these values can then be used for request processing.</span></span> <span data-ttu-id="9a589-108">앱에서 경로 정보를 사용하여 라우팅 기능은 경로 처리기에 매핑되는 URL을 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-108">Using route information from the app, the routing functionality is also able to generate URLs that map to route handlers.</span></span> <span data-ttu-id="9a589-109">따라서 라우팅은 URL 또는 경로 처리기 정보에 따라 지정된 경로 처리기에 해당하는 URL에 따라 경로 처리기를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-109">Therefore, routing can find a route handler based on a URL or the URL corresponding to a given route handler based on route handler information.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9a589-110">이 문서에서는 낮은 수준의 ASP.NET Core 라우팅을 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-110">This document covers low-level ASP.NET Core routing.</span></span> <span data-ttu-id="9a589-111">ASP.NET Core MVC 라우팅에 대한 내용은 <xref:mvc/controllers/routing>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-111">For information on ASP.NET Core MVC routing, see <xref:mvc/controllers/routing>.</span></span>

<span data-ttu-id="9a589-112">[예제 코드 살펴보기 및 다운로드](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples)([다운로드 방법](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="9a589-112">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="routing-basics"></a><span data-ttu-id="9a589-113">라우팅 기본 사항</span><span class="sxs-lookup"><span data-stu-id="9a589-113">Routing basics</span></span>

<span data-ttu-id="9a589-114">라우팅은 *경로*(<xref:Microsoft.AspNetCore.Routing.IRouter>의 구현)를 사용하여 다음 작업을 수행합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-114">Routing uses *routes* (implementations of <xref:Microsoft.AspNetCore.Routing.IRouter>) to:</span></span>

* <span data-ttu-id="9a589-115">들어오는 요청을 *경로 처리기*에 매핑</span><span class="sxs-lookup"><span data-stu-id="9a589-115">Map incoming requests to *route handlers*.</span></span>
* <span data-ttu-id="9a589-116">응답에 사용되는 URL 생성</span><span class="sxs-lookup"><span data-stu-id="9a589-116">Generate URLs used in responses.</span></span>

<span data-ttu-id="9a589-117">일반적으로 앱은 단일 경로의 컬렉션을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-117">Generally, an app has a single collection of routes.</span></span> <span data-ttu-id="9a589-118">요청이 도착하면 경로 컬렉션이 순서대로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-118">When a request arrives, the route collection is processed in order.</span></span> <span data-ttu-id="9a589-119">들어오는 요청은 경로 컬렉션에서 사용 가능한 각 경로의 <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> 메서드를 호출하여 요청 URL과 일치하는 경로를 찾습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-119">The incoming request looks for a route that matches the request URL by calling the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each available route in the route collection.</span></span> <span data-ttu-id="9a589-120">이와 반대로 응답은 라우팅을 사용하여 경로 정보에 따라 URL(예: 리디렉션 또는 링크용)을 생성할 수 있으므로 하드 코딩 URL을 갖는 것을 방지합니다. 이는 유지 관리에 도움이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-120">By contrast, a response can use routing to generate URLs (for example, for redirection or links) based on route information and thus avoid having to hard-code URLs, which helps maintainability.</span></span>

<span data-ttu-id="9a589-121">라우팅은 <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> 클래스에 의해 [미들웨어](xref:fundamentals/middleware/index) 파이프라인에 연결되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-121">Routing is connected to the [middleware](xref:fundamentals/middleware/index) pipeline by the <xref:Microsoft.AspNetCore.Builder.RouterMiddleware> class.</span></span> <span data-ttu-id="9a589-122">[ASP.NET Core MVC](xref:mvc/overview)는 해당 구성의 일부분으로 라우팅을 미들웨어 파이프라인에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-122">[ASP.NET Core MVC](xref:mvc/overview) adds routing to the middleware pipeline as part of its configuration.</span></span> <span data-ttu-id="9a589-123">독립 실행형 구성 요소로 라우팅 사용에 대한 자세한 내용은 [라우팅 미들웨어 사용](#use-routing-middleware) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-123">To learn about using routing as a standalone component, see [Use Routing Middleware](#use-routing-middleware) section.</span></span>

### <a name="url-matching"></a><span data-ttu-id="9a589-124">URL 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-124">URL matching</span></span>

<span data-ttu-id="9a589-125">URL 일치는 라우팅에서 들어오는 요청을 *처리기*로 디스패치하는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-125">URL matching is the process by which routing dispatches an incoming request to a *handler*.</span></span> <span data-ttu-id="9a589-126">이 프로세스는 URL 경로의 데이터를 기반으로 하지만 요청에 있는 모든 데이터를 고려하도록 확장될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-126">This process is based on data in the URL path but can be extended to consider any data in the request.</span></span> <span data-ttu-id="9a589-127">요청을 별도의 처리기로 디스패치하는 기능은 앱의 크기와 복잡성을 확장하는 핵심입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-127">The ability to dispatch requests to separate handlers is key to scaling the size and complexity of an app.</span></span>

<span data-ttu-id="9a589-128">들어오는 요청은 시퀀스의 각 경로에서 <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> 메서드를 호출하는 `RouterMiddleware`를 입력합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-128">Incoming requests enter the `RouterMiddleware`, which calls the <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> method on each route in sequence.</span></span> <span data-ttu-id="9a589-129"><xref:Microsoft.AspNetCore.Routing.IRouter> 인스턴스는 [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*)를 null이 아닌 <xref:Microsoft.AspNetCore.Http.RequestDelegate>로 설정하여 요청을 *처리*할지 여부를 선택합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-129">The <xref:Microsoft.AspNetCore.Routing.IRouter> instance chooses whether to *handle* the request by setting the [RouteContext.Handler](xref:Microsoft.AspNetCore.Routing.RouteContext.Handler*) to a non-null <xref:Microsoft.AspNetCore.Http.RequestDelegate>.</span></span> <span data-ttu-id="9a589-130">경로가 요청에 대한 처리기를 설정하는 경우 경로 처리가 중지되고 처리기가 요청을 처리하도록 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-130">If a route sets a handler for the request, route processing stops, and the handler is invoked to process the request.</span></span> <span data-ttu-id="9a589-131">모든 경로가 시도되고 요청에 대한 처리기를 찾을 수 없는 경우 미들웨어는 *다음*을 호출하고 요청 파이프라인의 다음 미들웨어가 호출됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-131">If all routes are tried and no handler is found for the request, the middleware calls *next*, and the next middleware in the request pipeline is invoked.</span></span>

<span data-ttu-id="9a589-132">`RouteAsync`에 대한 기본 입력은 현재 요청과 연결된 [RouteContext.HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*)입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-132">The primary input to `RouteAsync` is the [RouteContext.HttpContext](xref:Microsoft.AspNetCore.Routing.RouteContext.HttpContext*) associated with the current request.</span></span> <span data-ttu-id="9a589-133">`RouteContext.Handler` 및 [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*)는 경로가 일치된 후 설정된 출력입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-133">The `RouteContext.Handler` and [RouteContext.RouteData](xref:Microsoft.AspNetCore.Routing.RouteContext.RouteData*) are outputs set after a route matches.</span></span>

<span data-ttu-id="9a589-134">`RouteAsync` 동안 일치는 `RouteContext.RouteData`의 속성을 지금까지 수행된 요청 처리에 따라 적절한 값으로 설정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-134">A match during `RouteAsync` also sets the properties of the `RouteContext.RouteData` to appropriate values based on the request processing performed thus far.</span></span> <span data-ttu-id="9a589-135">경로가 요청과 일치하는 경우 `RouteContext.RouteData`는 *결과*에 대한 중요한 상태 정보를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-135">If a route matches a request, the `RouteContext.RouteData` contains important state information about the *result*.</span></span>

<span data-ttu-id="9a589-136">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*)는 경로에서 생성된 *경로 값*의 사전입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-136">[RouteData.Values](xref:Microsoft.AspNetCore.Routing.RouteData.Values*) is a dictionary of *route values* produced from the route.</span></span> <span data-ttu-id="9a589-137">이러한 값은 일반적으로 URL을 토큰화하여 결정되고, 사용자 입력을 수락하거나 앱 내부의 추가 디스패치 결정을 내리는 데 사용될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-137">These values are usually determined by tokenizing the URL and can be used to accept user input or to make further dispatching decisions inside the app.</span></span>

<span data-ttu-id="9a589-138">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*)는 일치하는 경로와 관련된 추가 데이터의 속성 모음입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-138">[RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*) is a property bag of additional data related to the matched route.</span></span> <span data-ttu-id="9a589-139">`DataTokens`는 각 경로와 상태 데이터 연결을 지원하도록 제공되므로 앱은 일치된 경로에 따라 나중에 결정을 내릴 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-139">`DataTokens` are provided to support associating state data with each route so that the app can make decisions later based on which route matched.</span></span> <span data-ttu-id="9a589-140">이러한 값은 개발자 정의되고 어떤 방식으로든 라우팅의 동작에 영향을 주지 **않습니다**.</span><span class="sxs-lookup"><span data-stu-id="9a589-140">These values are developer-defined and do **not** affect the behavior of routing in any way.</span></span> <span data-ttu-id="9a589-141">또한 데이터 토큰에 스태시된 값은 경로 값과 달리 모든 형식일 수 있습니다. 이는 문자열 간 쉽게 변환될 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-141">Additionally, values stashed in data tokens can be of any type, in contrast to route values, which must be easily convertible to and from strings.</span></span>

<span data-ttu-id="9a589-142">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers*)는 성공적으로 요청 일치에 참여한 경로의 목록입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-142">[RouteData.Routers](xref:Microsoft.AspNetCore.Routing.RouteData.Routers*) is a list of the routes that took part in successfully matching the request.</span></span> <span data-ttu-id="9a589-143">경로는 서로 중첩될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-143">Routes can be nested inside of one another.</span></span> <span data-ttu-id="9a589-144">`Routers` 속성은 결과적으로 일치한 경로의 논리 트리를 통해 경로를 반영합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-144">The `Routers` property reflects the path through the logical tree of routes that resulted in a match.</span></span> <span data-ttu-id="9a589-145">일반적으로 `Routers`의 첫 번째 항목은 경로 컬렉션이며 URL 생성을 위해 사용되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-145">Generally, the first item in `Routers` is the route collection and should be used for URL generation.</span></span> <span data-ttu-id="9a589-146">`Routers`의 마지막 항목은 일치한 경로 처리기입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-146">The last item in `Routers` is the route handler that matched.</span></span>

### <a name="url-generation"></a><span data-ttu-id="9a589-147">URL 생성</span><span class="sxs-lookup"><span data-stu-id="9a589-147">URL generation</span></span>

<span data-ttu-id="9a589-148">URL 생성은 라우팅이 경로 값의 집합을 기반으로 하는 URL 경로를 만들 수 있는 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-148">URL generation is the process by which routing can create a URL path based on a set of route values.</span></span> <span data-ttu-id="9a589-149">따라서 처리기와 액세스하는 URL 간의 논리 구분을 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-149">This allows for a logical separation between your handlers and the URLs that access them.</span></span>

<span data-ttu-id="9a589-150">URL 생성은 비슷한 반복적인 프로세스를 따르지만 경로 컬렉션의 <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> 메서드로 호출하는 사용자 또는 프레임워크 코드로 시작합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-150">URL generation follows a similar iterative process, but it starts with user or framework code calling into the <xref:Microsoft.AspNetCore.Routing.IRouter.GetVirtualPath*> method of the route collection.</span></span> <span data-ttu-id="9a589-151">각 *경로*는 null이 아닌 <xref:Microsoft.AspNetCore.Routing.VirtualPathData>가 반환될 때까지 시퀀스에서 호출된 해당 `GetVirtualPath` 메서드를 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-151">Each *route* then has its `GetVirtualPath` method called in sequence until a non-null <xref:Microsoft.AspNetCore.Routing.VirtualPathData> is returned.</span></span>

<span data-ttu-id="9a589-152">`GetVirtualPath`에 대한 기본 입력은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-152">The primary inputs to `GetVirtualPath` are:</span></span>

* [<span data-ttu-id="9a589-153">VirtualPathContext.HttpContext</span><span class="sxs-lookup"><span data-stu-id="9a589-153">VirtualPathContext.HttpContext</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.HttpContext*)
* [<span data-ttu-id="9a589-154">VirtualPathContext.Values</span><span class="sxs-lookup"><span data-stu-id="9a589-154">VirtualPathContext.Values</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*)
* [<span data-ttu-id="9a589-155">VirtualPathContext.AmbientValues</span><span class="sxs-lookup"><span data-stu-id="9a589-155">VirtualPathContext.AmbientValues</span></span>](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*)

<span data-ttu-id="9a589-156">경로는 주로 `Values` 및 `AmbientValues`에서 제공된 경로 값을 사용하여 URL을 생성할 수 있는 위치와 포함할 값을 결정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-156">Routes primarily use the route values provided by the `Values` and `AmbientValues` to decide where it's possible to generate a URL and what values to include.</span></span> <span data-ttu-id="9a589-157">`AmbientValues`는 현재 요청과 라우팅 시스템의 일치에서 생성된 경로 값의 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-157">The `AmbientValues` are the set of route values that were produced from matching the current request with the routing system.</span></span> <span data-ttu-id="9a589-158">반면, `Values`는 현재 작업에 대한 원하는 URL을 생성하는 방법을 지정하는 경로 값입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-158">In contrast, `Values` are the route values that specify how to generate the desired URL for the current operation.</span></span> <span data-ttu-id="9a589-159">`HttpContext`는 경로가 서비스 또는 현재 컨텍스트와 연결된 추가 데이터를 가져와야 할 경우에 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-159">The `HttpContext` is provided in case a route needs to obtain services or additional data associated with the current context.</span></span>

> [!TIP]
> <span data-ttu-id="9a589-160">[VirtualPathContext.Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*)를 [VirtualPathContext.AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*)에 대한 재정의의 집합으로 생각합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-160">Think of [VirtualPathContext.Values](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.Values*) as being a set of overrides for the [VirtualPathContext.AmbientValues](xref:Microsoft.AspNetCore.Routing.VirtualPathContext.AmbientValues*).</span></span> <span data-ttu-id="9a589-161">URL 생성은 동일한 경로 또는 경로 값을 사용하여 링크에 대한 URL을 쉽게 생성할 수 있도록 현재 요청에서 경로 값을 다시 사용하려고 시도합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-161">URL generation attempts to reuse route values from the current request to make it easy to generate URLs for links using the same route or route values.</span></span>

<span data-ttu-id="9a589-162">`GetVirtualPath`의 출력은 `VirtualPathData`입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-162">The output of `GetVirtualPath` is a `VirtualPathData`.</span></span> <span data-ttu-id="9a589-163">`VirtualPathData`는 `RouteData`의 병렬입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-163">`VirtualPathData` is a parallel of `RouteData`.</span></span> <span data-ttu-id="9a589-164">`VirtualPathData`는 출력 URL 및 경로에 의해 설정되어야 하는 몇 가지 추가 속성에 대한 `VirtualPath`를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-164">`VirtualPathData` contains the `VirtualPath` for the output URL and some additional properties that should be set by the route.</span></span>

<span data-ttu-id="9a589-165">[VirtualPathData.VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) 속성은 경로에 의해 생성된 *가상 경로*를 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-165">The [VirtualPathData.VirtualPath](xref:Microsoft.AspNetCore.Routing.VirtualPathData.VirtualPath*) property contains the *virtual path* produced by the route.</span></span> <span data-ttu-id="9a589-166">필요에 따라 경로를 추가로 처리해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-166">Depending on your needs, you may need to process the path further.</span></span> <span data-ttu-id="9a589-167">HTML에서 생성된 URL을 렌더링하려는 경우 앱의 기본 경로를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-167">If you want to render the generated URL in HTML, prepend the base path of the app.</span></span>

<span data-ttu-id="9a589-168">[VirtualPathData.Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*)는 성공적으로 URL을 생성한 경로에 대한 참조입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-168">The [VirtualPathData.Router](xref:Microsoft.AspNetCore.Routing.VirtualPathData.Router*) is a reference to the route that successfully generated the URL.</span></span>

<span data-ttu-id="9a589-169">[VirtualPathData.DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) 속성은 URL을 생성한 경로와 관련된 추가 데이터의 사전입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-169">The [VirtualPathData.DataTokens](xref:Microsoft.AspNetCore.Routing.VirtualPathData.DataTokens*) properties is a dictionary of additional data related to the route that generated the URL.</span></span> <span data-ttu-id="9a589-170">이는 [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*)의 병렬입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-170">This is the parallel of [RouteData.DataTokens](xref:Microsoft.AspNetCore.Routing.RouteData.DataTokens*).</span></span>

### <a name="creating-routes"></a><span data-ttu-id="9a589-171">경로 만들기</span><span class="sxs-lookup"><span data-stu-id="9a589-171">Creating routes</span></span>

<span data-ttu-id="9a589-172">라우팅은 <xref:Microsoft.AspNetCore.Routing.IRouter>의 표준 구현으로 <xref:Microsoft.AspNetCore.Routing.Route> 클래스를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-172">Routing provides the <xref:Microsoft.AspNetCore.Routing.Route> class as the standard implementation of <xref:Microsoft.AspNetCore.Routing.IRouter>.</span></span> <span data-ttu-id="9a589-173">`Route`는 *경로 템플릿* 구문을 사용하여 <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*>가 호출되었을 때 URL 경로에 대해 일치하는 패턴을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-173">`Route` uses the *route template* syntax to define patterns that match against the URL path when <xref:Microsoft.AspNetCore.Routing.IRouter.RouteAsync*> is called.</span></span> <span data-ttu-id="9a589-174">`Route`는 동일한 경로 템플릿을 사용하여 `GetVirtualPath`가 호출되었을 때 URL을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-174">`Route` uses the same route template to generate a URL when `GetVirtualPath` is called.</span></span>

<span data-ttu-id="9a589-175">대부분의 앱은 <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> 또는 <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>에 정의된 유사한 확장 메서드 중 하나를 호출하여 경로를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-175">Most apps create routes by calling <xref:Microsoft.AspNetCore.Builder.MapRouteRouteBuilderExtensions.MapRoute*> or one of the similar extension methods defined on <xref:Microsoft.AspNetCore.Routing.IRouteBuilder>.</span></span> <span data-ttu-id="9a589-176">이러한 모든 메서드는 <xref:Microsoft.AspNetCore.Routing.Route>의 인스턴스를 만들고 경로 컬렉션에 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-176">All of these methods create an instance of <xref:Microsoft.AspNetCore.Routing.Route> and add it to the route collection.</span></span>

<span data-ttu-id="9a589-177">`MapRoute`는 경로 처리기 매개 변수를 사용하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-177">`MapRoute` doesn't take a route handler parameter.</span></span> <span data-ttu-id="9a589-178">`MapRoute`는 <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>에 의해 처리되는 경로만 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-178">`MapRoute` only adds routes that are handled by the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span> <span data-ttu-id="9a589-179">기본 처리기는 `IRouter`이므로 요청을 처리하지 않도록 결정할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-179">Since the default handler is an `IRouter`, it may decide not to handle the request.</span></span> <span data-ttu-id="9a589-180">예를 들어 ASP.NET Core MVC는 일반적으로 사용 가능한 컨트롤러 및 작업과 일치하는 요청만 처리하는 기본 처리기로 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-180">For example, ASP.NET Core MVC is typically configured as a default handler that only handles requests that match an available controller and action.</span></span> <span data-ttu-id="9a589-181">MVC로 라우팅에 대해 자세히 알아보려면 <xref:mvc/controllers/routing>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-181">To learn more about routing to MVC, see <xref:mvc/controllers/routing>.</span></span>

<span data-ttu-id="9a589-182">다음 코드 예제는 일반적인 ASP.NET Core MVC 경로 정의에서 사용되는 `MapRoute` 호출의 예제입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-182">The following code example is an example of a `MapRoute` call used by a typical ASP.NET Core MVC route definition:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="9a589-183">이 템플릿은 `/Products/Details/17`과 같이 URL 경로와 일치시키고 경로 값 `{ controller = Products, action = Details, id = 17 }`을 추출합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-183">This template matches a URL path like `/Products/Details/17` and extracts the route values `{ controller = Products, action = Details, id = 17 }`.</span></span> <span data-ttu-id="9a589-184">경로 값은 URL 경로를 세그먼트로 분할하고 각 세그먼트를 경로 템플릿의 *경로 매개 변수* 이름과 일치시켜 결정됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-184">The route values are determined by splitting the URL path into segments and matching each segment with the *route parameter* name in the route template.</span></span> <span data-ttu-id="9a589-185">경로 매개 변수의 이름이 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-185">Route parameters are named.</span></span> <span data-ttu-id="9a589-186">중괄호 `{ ... }`로 매개 변수 이름을 묶어 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-186">They're defined by enclosing the parameter name in braces `{ ... }`.</span></span>

<span data-ttu-id="9a589-187">위의 템플릿은 URL 경로 `/`와 일치시킬 수도 있으며 값 `{ controller = Home, action = Index }`를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-187">The preceding template could also match the URL path `/` and would produce the values `{ controller = Home, action = Index }`.</span></span> <span data-ttu-id="9a589-188">이는 `{controller}` 및 `{action}` 경로 매개 변수에 기본값이 있으며 `id` 경로 매개 변수는 선택 사항이기 때문에 발생합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-188">This occurs because the `{controller}` and `{action}` route parameters have default values and the `id` route parameter is optional.</span></span> <span data-ttu-id="9a589-189">경로 매개 변수 이름 뒤에 값이 뒤에 오는 등호(`=`) 기호는 매개 변수에 대한 기본값을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-189">An equals `=` sign followed by a value after the route parameter name defines a default value for the parameter.</span></span> <span data-ttu-id="9a589-190">경로 매개 변수 이름 뒤의 물음표(`?`)는 선택적으로 매개 변수를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-190">A question mark `?` after the route parameter name defines the parameter as optional.</span></span> <span data-ttu-id="9a589-191">기본 값을 사용하는 경로 매개 변수는 경로가 일치하는 경우 *항상* 경로 값을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-191">Route parameters with a default value *always* produce a route value when the route matches.</span></span> <span data-ttu-id="9a589-192">해당 URL 경로 세그먼트가 없는 경우 선택적 매개 변수는 경로 값을 생성하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-192">Optional parameters don't produce a route value if there was no corresponding URL path segment.</span></span>

<span data-ttu-id="9a589-193">경로 템플릿 기능 및 구문의 세부적 설명은 [경로 템플릿 참조](#route-template-reference)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-193">See [route-template-reference](#route-template-reference) for a thorough description of route template features and syntax.</span></span>

<span data-ttu-id="9a589-194">이 예제는 *경로 제약 조건*을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-194">This example includes a *route constraint*:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id:int}");
```

<span data-ttu-id="9a589-195">이 템플릿은 `/Products/Details/Apples`가 아닌 `/Products/Details/17`과 같이 URL 경로와 일치시킵니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-195">This template matches a URL path like `/Products/Details/17` but not `/Products/Details/Apples`.</span></span> <span data-ttu-id="9a589-196">경로 매개 변수 정의 `{id:int}`는 `id` 경로 매개 변수에 대한 [경로 제약 조건](#route-constraint-reference)을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-196">The route parameter definition `{id:int}` defines a [route constraint](#route-constraint-reference) for the `id` route parameter.</span></span> <span data-ttu-id="9a589-197">경로 제약 조건은 <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>를 구현하고 경로 값을 검사하여 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-197">Route constraints implement <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> and inspect route values to verify them.</span></span> <span data-ttu-id="9a589-198">이 예제에서 경로 값 `id`는 정수로 변환할 수 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-198">In this example, the route value `id` must be convertible to an integer.</span></span> <span data-ttu-id="9a589-199">프레임워크에서 제공되는 경로 제약 조건에 대한 자세한 설명은 [경로 제약 조건 참조](#route-constraint-reference)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-199">See [route-constraint-reference](#route-constraint-reference) for a more detailed explanation of route constraints that are provided by the framework.</span></span>

<span data-ttu-id="9a589-200">`MapRoute`의 추가 오버로드는 `constraints`, `dataTokens` 및 `defaults`에 대한 값을 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-200">Additional overloads of `MapRoute` accept values for `constraints`, `dataTokens`, and `defaults`.</span></span> <span data-ttu-id="9a589-201">이러한 `MapRoute`의 추가 매개 변수는 `object` 형식으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-201">These additional parameters of `MapRoute` are defined as type `object`.</span></span> <span data-ttu-id="9a589-202">이러한 매개 변수의 일반적인 사용법은 익명 형식의 속성 이름이 경로 매개 변수 이름과 일치하는 익명으로 형식화된 개체를 전달하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-202">The typical usage of these parameters is to pass an anonymously typed object, where the property names of the anonymous type match route parameter names.</span></span>

<span data-ttu-id="9a589-203">다음 두 예제는 해당 경로를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-203">The following two examples create equivalent routes:</span></span>

```csharp
routes.MapRoute(
    name: "default_route",
    template: "{controller}/{action}/{id?}",
    defaults: new { controller = "Home", action = "Index" });

routes.MapRoute(
    name: "default_route",
    template: "{controller=Home}/{action=Index}/{id?}");
```

> [!TIP]
> <span data-ttu-id="9a589-204">제약 조건 및 기본값을 정의하기 위한 인라인 구문은 단순 경로에 편리할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-204">The inline syntax for defining constraints and defaults can be convenient for simple routes.</span></span> <span data-ttu-id="9a589-205">그러나 인라인 구문에서 지원되지 않는 데이터 토큰 등의 기능이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-205">However, there are features, such as data tokens, that aren't supported by inline syntax.</span></span>

<span data-ttu-id="9a589-206">다음 예제에서는 몇 가지 더 많은 시나리오를 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-206">The following example demonstrates a few more scenarios:</span></span>

```csharp
routes.MapRoute(
    name: "blog",
    template: "Blog/{*article}",
    defaults: new { controller = "Blog", action = "ReadArticle" });
```

<span data-ttu-id="9a589-207">이 템플릿은 `/Blog/All-About-Routing/Introduction`과 같이 URL 경로와 일치시키고 값 `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`을 추출합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-207">This template matches a URL path like `/Blog/All-About-Routing/Introduction` and extracts the values `{ controller = Blog, action = ReadArticle, article = All-About-Routing/Introduction }`.</span></span> <span data-ttu-id="9a589-208">`controller` 및 `action`에 대 한 기본 경로 값은 템플릿에 해당 경로 매개 변수가 없는 경우에도 경로에 의해 생성됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-208">The default route values for `controller` and `action` are produced by the route even though there are no corresponding route parameters in the template.</span></span> <span data-ttu-id="9a589-209">기본값은 경로 템플릿에서 지정될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-209">Default values can be specified in the route template.</span></span> <span data-ttu-id="9a589-210">`article` 경로 매개 변수는 경로 매개 변수 이름 앞에 별표(`*`) 모양으로 *범용*으로 정의됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-210">The `article` route parameter is defined as a *catch-all* by the appearance of an asterisk `*` before the route parameter name.</span></span> <span data-ttu-id="9a589-211">범용 경로 매개 변수는 URL 경로의 나머지를 캡처하고 빈 문자열과 일치시킬 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-211">Catch-all route parameters capture the remainder of the URL path and can also match the empty string.</span></span>

<span data-ttu-id="9a589-212">이 예제는 경로 제약 조건 및 데이터 토큰을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-212">This example adds route constraints and data tokens:</span></span>

```csharp
routes.MapRoute(
    name: "us_english_products",
    template: "en-US/Products/{id}",
    defaults: new { controller = "Products", action = "Details" },
    constraints: new { id = new IntRouteConstraint() },
    dataTokens: new { locale = "en-US" });
```

<span data-ttu-id="9a589-213">이 템플릿은 `/en-US/Products/5`와 같은 URL 경로와 일치하고 값 `{ controller = Products, action = Details, id = 5 }` 및 데이터 토큰 `{ locale = en-US }`를 추출합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-213">This template matches a URL path like `/en-US/Products/5` and extracts the values `{ controller = Products, action = Details, id = 5 }` and the data tokens `{ locale = en-US }`.</span></span>

![지역 Windows 토큰](routing/_static/tokens.png)

### <a name="url-generation"></a><span data-ttu-id="9a589-215">URL 생성</span><span class="sxs-lookup"><span data-stu-id="9a589-215">URL generation</span></span>

<span data-ttu-id="9a589-216">`Route` 클래스는 경로 값의 집합을 해당 경로 템플릿과 결합하여 URL 생성을 수행할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-216">The `Route` class can also perform URL generation by combining a set of route values with its route template.</span></span> <span data-ttu-id="9a589-217">이는 논리적으로 URL 경로와 일치시키는 역방향 프로세스입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-217">This is logically the reverse process of matching the URL path.</span></span>

> [!TIP]
> <span data-ttu-id="9a589-218">URL 생성을 보다 잘 이해하려면 생성하려는 URL을 가정한 다음, 경로 템플릿을 해당 URL과 일치시키는 방법을 생각합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-218">To better understand URL generation, imagine what URL you want to generate and then think about how a route template would match that URL.</span></span> <span data-ttu-id="9a589-219">어떤 값이 생성되나요?</span><span class="sxs-lookup"><span data-stu-id="9a589-219">What values would be produced?</span></span> <span data-ttu-id="9a589-220">이는 URL 생성이 `Route` 클래스에서 작동하는 방식과 대략적으로 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-220">This is the rough equivalent of how URL generation works in the `Route` class.</span></span>

<span data-ttu-id="9a589-221">이 예제에서는 기본 ASP.NET Core MVC 스타일 경로를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-221">This example uses a basic ASP.NET Core MVC style route:</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home}/{action=Index}/{id?}");
```

<span data-ttu-id="9a589-222">`{ controller = Products, action = List }`의 경로 값으로 이 경로는 URL `/Products/List`를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-222">With the route values `{ controller = Products, action = List }`, this route generates the URL `/Products/List`.</span></span> <span data-ttu-id="9a589-223">경로 값은 URL 경로를 구성하기 위해 해당 경로 매개 변수에 대해 대체됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-223">The route values are substituted for the corresponding route parameters to form the URL path.</span></span> <span data-ttu-id="9a589-224">`id`는 선택적 매개 변수이므로 값이 없어도 문제가 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-224">Since `id` is an optional route parameter, it's no problem that it doesn't have a value.</span></span>

<span data-ttu-id="9a589-225">`{ controller = Home, action = Index }`의 경로 값으로 이 경로는 URL `/`를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-225">With the route values `{ controller = Home, action = Index }`, this route generates the URL `/`.</span></span> <span data-ttu-id="9a589-226">제공된 경로 값은 기본값과 일치하므로 해당 값에 해당하는 세그먼트는 안전하게 생략될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-226">The route values that were provided match the default values so that the segments corresponding to those values can be safely omitted.</span></span> <span data-ttu-id="9a589-227">생성된 두 URL은 이 경로 정의로 왕복하며 URL을 생성하는 데 사용된 동일한 경로 값을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-227">Both URLs generated round-trip with this route definition and produce the same route values that were used to generate the URL.</span></span>

> [!TIP]
> <span data-ttu-id="9a589-228">ASP.NET Core MVC를 사용하는 앱은 <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper>를 사용하여 라우팅으로 직접 호출하는 대신 URL을 생성해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-228">An app using ASP.NET Core MVC should use <xref:Microsoft.AspNetCore.Mvc.Routing.UrlHelper> to generate URLs instead of calling into routing directly.</span></span>

<span data-ttu-id="9a589-229">URL 생성에 대한 자세한 내용은 [url-generation-reference](#url-generation-reference)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-229">For more information about URL generation, see [url-generation-reference](#url-generation-reference).</span></span>

## <a name="use-routing-middleware"></a><span data-ttu-id="9a589-230">라우팅 미들웨어 사용</span><span class="sxs-lookup"><span data-stu-id="9a589-230">Use Routing Middleware</span></span>

::: moniker range=">= aspnetcore-2.1"

<span data-ttu-id="9a589-231">앱의 프로젝트 파일에서 [Microsoft.AspNetCore.App 메타패키지](xref:fundamentals/metapackage-app)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-231">Reference the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) in the app's project file.</span></span>

::: moniker-end

::: moniker range="= aspnetcore-2.0"

<span data-ttu-id="9a589-232">앱의 프로젝트 파일에서 [Microsoft.AspNetCore.All 메타패키지](xref:fundamentals/metapackage)를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-232">Reference the [Microsoft.AspNetCore.All metapackage](xref:fundamentals/metapackage) in the app's project file.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.0"

<span data-ttu-id="9a589-233">앱의 프로젝트 파일에서 [Microsoft.AspNetCore.Routing](https://www.nuget.org/packages/Microsoft.AspNetCore.Routing/)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-233">Reference the [Microsoft.AspNetCore.Routing](https://www.nuget.org/packages/Microsoft.AspNetCore.Routing/) in the app's project file.</span></span>

::: moniker-end

<span data-ttu-id="9a589-234">`Startup.ConfigureServices`의 서비스 컨테이너에 라우팅을 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-234">Add routing to the service container in `Startup.ConfigureServices`:</span></span>

::: moniker range=">= aspnetcore-2.0"

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

::: moniker-end

::: moniker range="< aspnetcore-2.0"

[!code-csharp[](routing/samples/1.x/RoutingSample/Startup.cs?name=snippet_ConfigureServices&highlight=3)]

::: moniker-end

<span data-ttu-id="9a589-235">경로는 `Startup.Configure` 메서드에서 구성되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-235">Routes must be configured in the `Startup.Configure` method.</span></span> <span data-ttu-id="9a589-236">샘플 앱에서는 이러한 API를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-236">The sample app uses these APIs:</span></span>

* `RouteBuilder`
* `Build`
* <span data-ttu-id="9a589-237">`MapGet` &ndash; HTTP GET 요청만 일치시킵니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-237">`MapGet` &ndash; Matches only HTTP GET requests.</span></span>
* `UseRouter`

::: moniker range=">= aspnetcore-2.0"

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

::: moniker-end

::: moniker range="< aspnetcore-2.0"

[!code-csharp[](routing/samples/1.x/RoutingSample/Startup.cs?name=snippet_RouteHandler)]

::: moniker-end

<span data-ttu-id="9a589-238">다음 표는 지정된 URI로 응답을 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-238">The following table shows the responses with the given URIs.</span></span>

| <span data-ttu-id="9a589-239">URI</span><span class="sxs-lookup"><span data-stu-id="9a589-239">URI</span></span>                  | <span data-ttu-id="9a589-240">응답</span><span class="sxs-lookup"><span data-stu-id="9a589-240">Response</span></span>                                          |
| -------------------- | ------------------------------------------------- |
| <span data-ttu-id="9a589-241">/package/create/3</span><span class="sxs-lookup"><span data-stu-id="9a589-241">/package/create/3</span></span>    | <span data-ttu-id="9a589-242">Hello!</span><span class="sxs-lookup"><span data-stu-id="9a589-242">Hello!</span></span> <span data-ttu-id="9a589-243">경로 값: [작업, 만들기], [id, 3]</span><span class="sxs-lookup"><span data-stu-id="9a589-243">Route values: [operation, create], [id, 3]</span></span> |
| <span data-ttu-id="9a589-244">/package/track/-3</span><span class="sxs-lookup"><span data-stu-id="9a589-244">/package/track/-3</span></span>    | <span data-ttu-id="9a589-245">Hello!</span><span class="sxs-lookup"><span data-stu-id="9a589-245">Hello!</span></span> <span data-ttu-id="9a589-246">경로 값: [작업, 트랙], [id, -3]</span><span class="sxs-lookup"><span data-stu-id="9a589-246">Route values: [operation, track], [id, -3]</span></span> |
| <span data-ttu-id="9a589-247">/package/track/-3/</span><span class="sxs-lookup"><span data-stu-id="9a589-247">/package/track/-3/</span></span>   | <span data-ttu-id="9a589-248">Hello!</span><span class="sxs-lookup"><span data-stu-id="9a589-248">Hello!</span></span> <span data-ttu-id="9a589-249">경로 값: [작업, 트랙], [id, -3]</span><span class="sxs-lookup"><span data-stu-id="9a589-249">Route values: [operation, track], [id, -3]</span></span> |
| <span data-ttu-id="9a589-250">/package/track/</span><span class="sxs-lookup"><span data-stu-id="9a589-250">/package/track/</span></span>      | <span data-ttu-id="9a589-251">&lt;실패, 일치하지 않음&gt;</span><span class="sxs-lookup"><span data-stu-id="9a589-251">&lt;Fall through, no match&gt;</span></span>                    |
| <span data-ttu-id="9a589-252">GET /hello/Joe</span><span class="sxs-lookup"><span data-stu-id="9a589-252">GET /hello/Joe</span></span>       | <span data-ttu-id="9a589-253">Hi, Joe!</span><span class="sxs-lookup"><span data-stu-id="9a589-253">Hi, Joe!</span></span>                                          |
| <span data-ttu-id="9a589-254">POST /hello/Joe</span><span class="sxs-lookup"><span data-stu-id="9a589-254">POST /hello/Joe</span></span>      | <span data-ttu-id="9a589-255">&lt;실패, HTTP GET만 일치&gt;</span><span class="sxs-lookup"><span data-stu-id="9a589-255">&lt;Fall through, matches HTTP GET only&gt;</span></span>       |
| <span data-ttu-id="9a589-256">GET /hello/Joe/Smith</span><span class="sxs-lookup"><span data-stu-id="9a589-256">GET /hello/Joe/Smith</span></span> | <span data-ttu-id="9a589-257">&lt;실패, 일치하지 않음&gt;</span><span class="sxs-lookup"><span data-stu-id="9a589-257">&lt;Fall through, no match&gt;</span></span>                    |

<span data-ttu-id="9a589-258">단일 경로를 구성하는 경우 `IRouter` 인스턴스를 전달하는 <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*>를 호출합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-258">If you're configuring a single route, call <xref:Microsoft.AspNetCore.Builder.RoutingBuilderExtensions.UseRouter*> passing in an `IRouter` instance.</span></span> <span data-ttu-id="9a589-259"><xref:Microsoft.AspNetCore.Routing.RouteBuilder>를 사용할 필요가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-259">You won't need to use <xref:Microsoft.AspNetCore.Routing.RouteBuilder>.</span></span>

<span data-ttu-id="9a589-260">프레임워크는 다음과 같은 경로를 만들기 위한 확장 메서드 집합을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-260">The framework provides a set of extension methods for creating routes, such as:</span></span>

* `MapRoute`
* `MapGet`
* `MapPost`
* `MapPut`
* `MapDelete`
* `MapVerb`

<span data-ttu-id="9a589-261">`MapGet`과 같은 이러한 메서드의 일부는 `RequestDelegate`를 제공 받아야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-261">Some of these methods, such as `MapGet`, require a `RequestDelegate` to be provided.</span></span> <span data-ttu-id="9a589-262">`RequestDelegate`는 경로가 일치하는 경우 *경로 처리기*로 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-262">The `RequestDelegate` is used as the *route handler* when the route matches.</span></span> <span data-ttu-id="9a589-263">이 제품군의 다른 메서드는 경로 처리기로 사용할 미들웨어 파이프라인 구성을 허용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-263">Other methods in this family allow configuring a middleware pipeline for use as the route handler.</span></span> <span data-ttu-id="9a589-264">*Map* 메서드가 `MapRoute`와 같은 처리기를 허용하지 않는 경우 <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-264">If the *Map* method doesn't accept a handler, such as `MapRoute`, then it uses the <xref:Microsoft.AspNetCore.Routing.RouteBuilder.DefaultHandler*>.</span></span>

<span data-ttu-id="9a589-265">`Map[Verb]` 메서드는 제약 조건을 사용하여 메서드 이름에서 HTTP 동사에 대한 경로를 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-265">The `Map[Verb]` methods use constraints to limit the route to the HTTP Verb in the method name.</span></span> <span data-ttu-id="9a589-266">예제는 <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> 및 <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-266">For example, see <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapGet*> and <xref:Microsoft.AspNetCore.Routing.RequestDelegateRouteBuilderExtensions.MapVerb*>.</span></span>

## <a name="route-template-reference"></a><span data-ttu-id="9a589-267">경로 템플릿 참조</span><span class="sxs-lookup"><span data-stu-id="9a589-267">Route template reference</span></span>

<span data-ttu-id="9a589-268">중괄호(`{ ... }`) 내 토큰은 경로가 일치하는 경우 바인딩될 *경로 매개 변수*를 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-268">Tokens within curly braces (`{ ... }`) define *route parameters* that are bound if the route is matched.</span></span> <span data-ttu-id="9a589-269">경로 세그먼트에 둘 이상의 경로 매개 변수를 정의할 수 있지만 리터럴 값으로 구분되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-269">You can define more than one route parameter in a route segment, but they must be separated by a literal value.</span></span> <span data-ttu-id="9a589-270">예를 들어 `{controller=Home}{action=Index}`는 `{controller}` 및 `{action}` 사이에 리터럴 값이 없으므로 유효 경로일 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-270">For example, `{controller=Home}{action=Index}` isn't a valid route, since there's no literal value between `{controller}` and `{action}`.</span></span> <span data-ttu-id="9a589-271">이러한 경로 매개 변수는 이름이 있어야 하며 지정된 추가 특성을 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-271">These route parameters must have a name and may have additional attributes specified.</span></span>

<span data-ttu-id="9a589-272">경로 매개 변수 이외의 리터럴 텍스트(예: `{id}`) 및 경로 구분 기호(`/`)는 URL의 텍스트와 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-272">Literal text other than route parameters (for example, `{id}`) and the path separator `/` must match the text in the URL.</span></span> <span data-ttu-id="9a589-273">텍스트 일치는 대/소문자를 구분하지 않으며 URL 경로의 디코딩된 표현을 기반으로 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-273">Text matching is case-insensitive and based on the decoded representation of the URLs path.</span></span> <span data-ttu-id="9a589-274">리터럴 경로 매개 변수 구분 기호 `{` 또는 `}`와 일치시키려면 문자(`{{` 또는 `}}`)를 반복하여 이스케이프합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-274">To match the literal route parameter delimiter `{` or  `}`, escape it by repeating the character (`{{` or `}}`).</span></span>

<span data-ttu-id="9a589-275">선택적 파일 확장명을 가진 파일 이름 캡처를 시도하는 URL 패턴에는 추가 고려 사항이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-275">URL patterns that attempt to capture a filename with an optional file extension have additional considerations.</span></span> <span data-ttu-id="9a589-276">예를 들어 템플릿 `files/{filename}.{ext?}`를 가정해 보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-276">For example, consider the template `files/{filename}.{ext?}`.</span></span> <span data-ttu-id="9a589-277">`filename` 및 `ext`가 모두 존재하는 경우 두 값이 채워집니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-277">When both `filename` and `ext` exist, both values are populated.</span></span> <span data-ttu-id="9a589-278">URL에 `filename`만 존재하는 경우 마침표(`.`)는 선택 사항이므로 경로가 일치합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-278">If only `filename` exists in the URL, the route matches because the trailing period `.` is  optional.</span></span> <span data-ttu-id="9a589-279">다음 URL은 이 경로와 일치합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-279">The following URLs match this route:</span></span>

* `/files/myFile.txt`
* `/files/myFile`

<span data-ttu-id="9a589-280">경로 매개 변수에 대한 접두사로 `*` 문자를 사용하여 URI의 나머지 부분에 바인딩할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-280">You can use the `*` character as a prefix to a route parameter to bind to the rest of the URI.</span></span> <span data-ttu-id="9a589-281">이를 *범용* 매개 변수라고 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-281">This is called a *catch-all* parameter.</span></span> <span data-ttu-id="9a589-282">예를 들어 `blog/{*slug}`는 `/blog`로 시작하는 모든 URI와 일치하며 다음 값이 뒤에 옵니다(`slug` 경로 값에 할당됨).</span><span class="sxs-lookup"><span data-stu-id="9a589-282">For example, `blog/{*slug}` matches any URI that starts with `/blog` and had any value following it (which is assigned to the `slug` route value).</span></span> <span data-ttu-id="9a589-283">범용 매개 변수는 빈 문자열과 일치시킬 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-283">Catch-all parameters can also match the empty string.</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="9a589-284">catch-all 매개 변수는 경로 구분 기호(`/`) 문자를 포함하여 URL을 생성하는 데 경로가 사용될 때 적절한 문자를 이스케이프합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-284">The catch-all parameter escapes the appropriate characters when the route is used to generate a URL, including path separator (`/`) characters.</span></span> <span data-ttu-id="9a589-285">예를 들어 경로 값이 `{ path = "my/path" }`인 경로 `foo/{*path}`는 `foo/my%2Fpath`를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-285">For example, the route `foo/{*path}` with route values `{ path = "my/path" }` generates `foo/my%2Fpath`.</span></span> <span data-ttu-id="9a589-286">이스케이프된 슬래시에 주의하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-286">Note the escaped forward slash.</span></span> <span data-ttu-id="9a589-287">경로 구분 기호 문자를 왕복하려면 `**` 경로 매개 변수 접두사를 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-287">To round-trip path separator characters, use the `**` route parameter prefix.</span></span> <span data-ttu-id="9a589-288">`{ path = "my/path" }`가 있는 경로 `foo/{**path}`은 `foo/my/path`를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-288">The route `foo/{**path}` with `{ path = "my/path" }` generates `foo/my/path`.</span></span>

::: moniker-end

<span data-ttu-id="9a589-289">경로 매개 변수는 등호(`=`)로 구분된 매개 변수 이름 뒤에 기본값을 지정하여 지정된 *기본값*을 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-289">Route parameters may have *default values*, designated by specifying the default after the parameter name, separated by an equals sign (`=`).</span></span> <span data-ttu-id="9a589-290">예를 들어 `{controller=Home}`은 `controller`에 대한 기본값으로 `Home`을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-290">For example, `{controller=Home}` defines `Home` as the default value for `controller`.</span></span> <span data-ttu-id="9a589-291">URL에 매개 변수에 대한 값이 없는 경우 기본값이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-291">The default value is used if no value is present in the URL for the parameter.</span></span> <span data-ttu-id="9a589-292">기본값 뿐만 아니라 경로 매개 변수를 생략할 수 있으며, `id?`와 같이 매개 변수 이름의 끝에 물음표(`?`)를 추가하여 지정됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-292">In addition to default values, route parameters may be optional, specified by appending a question mark (`?`) to the end of the parameter name, as in `id?`.</span></span> <span data-ttu-id="9a589-293">선택 사항 값과 기본 경로 매개 변수 간의 차이점은 기본값이 있는 경로 매개 변수는 항상 값을 생성한다는 점입니다. 선택적 매개 변수는 값이 요청 URL에 의해 제공되는 경우에만 값을 갖습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-293">The difference between optional values and default route parameters is that a route parameter with a default value always produces a value; an optional parameter has a value only when a value is provided by the request URL.</span></span>

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="9a589-294">경로 매개 변수에는 URL에서 바인딩된 경로 값과 일치해야 한다는 제약 조건이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-294">Route parameters may have constraints, which must match the route value bound from the URL.</span></span> <span data-ttu-id="9a589-295">경로 매개 변수 이름 뒤에 콜론(`:`)과 제약 조건 이름을 추가하여 경로 매개 변수에서 *인라인 제약 조건*을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-295">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="9a589-296">제약 조건에 인수가 필요한 경우 제약 조건 이름 뒤에서 괄호 `( )`로 묶입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-296">If the constraint requires arguments, they're enclosed in parentheses `( )` after the constraint name.</span></span> <span data-ttu-id="9a589-297">여러 인라인 제약 조건은 다른 콜론(`:`) 및 제약 조건 이름을 추가하여 지정될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-297">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span> <span data-ttu-id="9a589-298">제약 조건 이름 및 인수는 <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>의 인스턴스를 만드는 <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> 서비스로 전달되어 URL 처리에서 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-298">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="9a589-299">제약 조건 생성자에 서비스가 필요한 경우 해당 서비스는 종속성 주입의 앱 서비스에서 확인됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-299">If the constraint constructor requires services, they're resolved from dependency injection's app services.</span></span> <span data-ttu-id="9a589-300">예를 들어 경로 템플릿 `blog/{article:minlength(10)}`는 인수 `10`으로 `minlength` 제약 조건을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-300">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="9a589-301">경로 제약 조건에 대한 자세한 내용 및 프레임워크에서 제공되는 제약 조건 목록은 [경로 제약 조건 참조](#route-constraint-reference) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-301">For more information on route constraints and a listing of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="9a589-302">경로 매개 변수에는 URL에서 바인딩된 경로 값과 일치해야 한다는 제약 조건이 있을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-302">Route parameters may have constraints, which must match the route value bound from the URL.</span></span> <span data-ttu-id="9a589-303">경로 매개 변수 이름 뒤에 콜론(`:`)과 제약 조건 이름을 추가하여 경로 매개 변수에서 *인라인 제약 조건*을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-303">Adding a colon (`:`) and constraint name after the route parameter name specifies an *inline constraint* on a route parameter.</span></span> <span data-ttu-id="9a589-304">제약 조건에 인수가 필요한 경우 제약 조건 이름 뒤에서 괄호 `( )`로 묶입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-304">If the constraint requires arguments, they're enclosed in parentheses `( )` after the constraint name.</span></span> <span data-ttu-id="9a589-305">여러 인라인 제약 조건은 다른 콜론(`:`) 및 제약 조건 이름을 추가하여 지정될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-305">Multiple inline constraints can be specified by appending another colon (`:`) and constraint name.</span></span> <span data-ttu-id="9a589-306">제약 조건 이름 및 인수는 <xref:Microsoft.AspNetCore.Routing.IRouteConstraint>의 인스턴스를 만드는 <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> 서비스로 전달되어 URL 처리에서 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-306">The constraint name and arguments are passed to the <xref:Microsoft.AspNetCore.Routing.IInlineConstraintResolver> service to create an instance of <xref:Microsoft.AspNetCore.Routing.IRouteConstraint> to use in URL processing.</span></span> <span data-ttu-id="9a589-307">예를 들어 경로 템플릿 `blog/{article:minlength(10)}`는 인수 `10`으로 `minlength` 제약 조건을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-307">For example, the route template `blog/{article:minlength(10)}` specifies a `minlength` constraint with the argument `10`.</span></span> <span data-ttu-id="9a589-308">경로 제약 조건에 대한 자세한 내용 및 프레임워크에서 제공되는 제약 조건 목록은 [경로 제약 조건 참조](#route-constraint-reference) 섹션을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-308">For more information on route constraints and a listing of the constraints provided by the framework, see the [Route constraint reference](#route-constraint-reference) section.</span></span>

::: moniker-end

::: moniker range=">= aspnetcore-2.2"

<span data-ttu-id="9a589-309">경로 매개 변수에는 링크 및 일치 작업과 URI에 대한 페이지를 생성할 때 매개 변수 값을 변환하는 매개 변수 변환기가 있을 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-309">Route parameters may also have parameter transformers, which transform a parameter's value when generating links and matching actions and pages to URIs.</span></span> <span data-ttu-id="9a589-310">제한 조건과 마찬가지로, 매개 변수 변환기는 경로 매개 변수 이름 뒤에 콜론(`:`)과 변환기 이름을 추가하여 라우트 매개 변수에 인라인으로 추가될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-310">Like constraints, parameter transformers can be added inline to a route parameter by adding a colon (`:`) and transformer name after the route parameter name.</span></span> <span data-ttu-id="9a589-311">예를 들어 경로 템플릿 `blog/{article:slugify}`는 `slugify` 변환기를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-311">For example, the route template `blog/{article:slugify}` specifies a `slugify` transformer.</span></span>

::: moniker-end

<span data-ttu-id="9a589-312">다음 표는 일부 경로 템플릿 및 해당 동작을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-312">The following table demonstrates some route templates and their behavior.</span></span>

| <span data-ttu-id="9a589-313">경로 템플릿</span><span class="sxs-lookup"><span data-stu-id="9a589-313">Route Template</span></span>                         | <span data-ttu-id="9a589-314">일치하는 URL 예제</span><span class="sxs-lookup"><span data-stu-id="9a589-314">Example Matching URL</span></span>  | <span data-ttu-id="9a589-315">노트</span><span class="sxs-lookup"><span data-stu-id="9a589-315">Notes</span></span>                                                                  |
| -------------------------------------- | --------------------- | ---------------------------------------------------------------------- |
| <span data-ttu-id="9a589-316">hello</span><span class="sxs-lookup"><span data-stu-id="9a589-316">hello</span></span>                                  | <span data-ttu-id="9a589-317">/hello</span><span class="sxs-lookup"><span data-stu-id="9a589-317">/hello</span></span>                | <span data-ttu-id="9a589-318">단일 경로 `/hello`만 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-318">Only matches the single path `/hello`</span></span>                                  |
| <span data-ttu-id="9a589-319">{Page=Home}</span><span class="sxs-lookup"><span data-stu-id="9a589-319">{Page=Home}</span></span>                            | /                     | <span data-ttu-id="9a589-320">일치 및 `Page`를 `Home`으로 설정</span><span class="sxs-lookup"><span data-stu-id="9a589-320">Matches and sets `Page` to `Home`</span></span>                                      |
| <span data-ttu-id="9a589-321">{Page=Home}</span><span class="sxs-lookup"><span data-stu-id="9a589-321">{Page=Home}</span></span>                            | <span data-ttu-id="9a589-322">/Contact</span><span class="sxs-lookup"><span data-stu-id="9a589-322">/Contact</span></span>              | <span data-ttu-id="9a589-323">일치 및 `Page`를 `Contact`로 설정</span><span class="sxs-lookup"><span data-stu-id="9a589-323">Matches and sets `Page` to `Contact`</span></span>                                   |
| <span data-ttu-id="9a589-324">{controller}/{action}/{id?}</span><span class="sxs-lookup"><span data-stu-id="9a589-324">{controller}/{action}/{id?}</span></span>            | <span data-ttu-id="9a589-325">/Products/List</span><span class="sxs-lookup"><span data-stu-id="9a589-325">/Products/List</span></span>        | <span data-ttu-id="9a589-326">`Products` 컨트롤러 및 `List` 작업에 매핑</span><span class="sxs-lookup"><span data-stu-id="9a589-326">Maps to `Products` controller and `List`  action</span></span>                       |
| <span data-ttu-id="9a589-327">{controller}/{action}/{id?}</span><span class="sxs-lookup"><span data-stu-id="9a589-327">{controller}/{action}/{id?}</span></span>            | <span data-ttu-id="9a589-328">/Products/Details/123</span><span class="sxs-lookup"><span data-stu-id="9a589-328">/Products/Details/123</span></span> |  <span data-ttu-id="9a589-329">`Products` 컨트롤러 및 `Details` 작업에 매핑</span><span class="sxs-lookup"><span data-stu-id="9a589-329">Maps to `Products` controller and  `Details` action.</span></span>  <span data-ttu-id="9a589-330">123으로 설정된 `id`</span><span class="sxs-lookup"><span data-stu-id="9a589-330">`id` set to 123</span></span> |
| <span data-ttu-id="9a589-331">{controller=Home}/{action=Index}/{id?}</span><span class="sxs-lookup"><span data-stu-id="9a589-331">{controller=Home}/{action=Index}/{id?}</span></span> | /                     |  <span data-ttu-id="9a589-332">`Home` 컨트롤러 및 `Index` 메서드에 매핑, `id`는 무시됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-332">Maps to `Home` controller and `Index`  method; `id` is ignored.</span></span>       |

<span data-ttu-id="9a589-333">템플릿 사용은 일반적으로 라우팅에 대한 가장 간단한 방식입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-333">Using a template is generally the simplest approach to routing.</span></span> <span data-ttu-id="9a589-334">제약 조건 및 기본값을 경로 템플릿 외부에서 지정할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-334">Constraints and defaults can also be specified outside the route template.</span></span>

> [!TIP]
> <span data-ttu-id="9a589-335">[로깅](xref:fundamentals/logging/index)을 활성화하여 `Route`와 같은 기본 제공 라우팅 구현이 요청과 일치시키는 방법을 확인합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-335">Enable [Logging](xref:fundamentals/logging/index) to see how the built in routing implementations, such as `Route`, match requests.</span></span>

## <a name="reserved-routing-names"></a><span data-ttu-id="9a589-336">예약된 라우팅 이름</span><span class="sxs-lookup"><span data-stu-id="9a589-336">Reserved routing names</span></span>

<span data-ttu-id="9a589-337">다음 키워드는 예약된 이름이므로 경로 이름 또는 매개 변수로 사용할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-337">The following keywords are reserved names and can't be used as route names or parameters:</span></span>

* `action`
* `area`
* `controller`
* `handler`
* `page`

## <a name="route-constraint-reference"></a><span data-ttu-id="9a589-338">경로 제약 조건 참조</span><span class="sxs-lookup"><span data-stu-id="9a589-338">Route constraint reference</span></span>

<span data-ttu-id="9a589-339">경로 제약 조건은 `Route`가 들어오는 URL의 구문과 일치시키고 URL 경로를 경로 값으로 토큰화할 때 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-339">Route constraints execute when a `Route` has matched the syntax of the incoming URL and tokenized the URL path into route values.</span></span> <span data-ttu-id="9a589-340">일반적으로 경로 제약 조건은 경로 템플릿을 통해 연결된 경로 값을 검사하고 값 허용 여부에 대한 예/아니요 의사 결정을 내립니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-340">Route constraints generally inspect the route value associated via the route template and make a yes/no decision about whether or not the value is acceptable.</span></span> <span data-ttu-id="9a589-341">일부 경로 제약 조건은 경로 값 외부의 데이터를 사용하여 요청을 라우팅할 수 있는지 여부를 고려합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-341">Some route constraints use data outside the route value to consider whether the request can be routed.</span></span> <span data-ttu-id="9a589-342">예를 들어 <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint>는 해당 HTTP 동사에 따라 요청을 허용하거나 거부할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-342">For example, the <xref:Microsoft.AspNetCore.Routing.Constraints.HttpMethodRouteConstraint> can accept or reject a request based on its HTTP verb.</span></span>

> [!WARNING]
> <span data-ttu-id="9a589-343">잘못된 입력으로 적절한 오류 메시지가 있는 *400 - 잘못된 요청* 대신 *404 - 찾을 수 없음* 응답이 발생하므로 **입력 유효성 검사**에 대해 제약 조건을 사용하지 마십시오.</span><span class="sxs-lookup"><span data-stu-id="9a589-343">Avoid using constraints for **input validation** because doing so means that invalid input results in a *404 - Not Found* response instead of a *400 - Bad Request* with an appropriate error message.</span></span> <span data-ttu-id="9a589-344">경로 제약 조건은 특정 경로에 대한 입력의 유효성을 검사하는 데가 아닌 비슷한 경로 간을 **명확하게 구분하는 데** 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-344">Route constraints are used to **disambiguate** between similar routes, not to validate the inputs for a particular route.</span></span>

<span data-ttu-id="9a589-345">다음 표는 일부 경로 제약 조건 및 예상되는 해당 동작을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-345">The following table demonstrates some route constraints and their expected behavior.</span></span>

| <span data-ttu-id="9a589-346">제약 조건</span><span class="sxs-lookup"><span data-stu-id="9a589-346">constraint</span></span> | <span data-ttu-id="9a589-347">예</span><span class="sxs-lookup"><span data-stu-id="9a589-347">Example</span></span> | <span data-ttu-id="9a589-348">일치하는 예제</span><span class="sxs-lookup"><span data-stu-id="9a589-348">Example Matches</span></span> | <span data-ttu-id="9a589-349">노트</span><span class="sxs-lookup"><span data-stu-id="9a589-349">Notes</span></span> |
| ---------- | ------- | --------------- | ----- |
| `int` | `{id:int}` | <span data-ttu-id="9a589-350">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="9a589-350">`123456789`, `-123456789`</span></span>  | <span data-ttu-id="9a589-351">임의의 정수와 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-351">Matches any integer</span></span> |
| `bool` | `{active:bool}` | <span data-ttu-id="9a589-352">`true`, `FALSE`</span><span class="sxs-lookup"><span data-stu-id="9a589-352">`true`, `FALSE`</span></span> | <span data-ttu-id="9a589-353">`true` 또는 `false` 일치(대/소문자 구분하지 않음)</span><span class="sxs-lookup"><span data-stu-id="9a589-353">Matches `true` or `false` (case-insensitive)</span></span> |
| `datetime` | `{dob:datetime}` | <span data-ttu-id="9a589-354">`2016-12-31`, `2016-12-31 7:32pm`</span><span class="sxs-lookup"><span data-stu-id="9a589-354">`2016-12-31`, `2016-12-31 7:32pm`</span></span>  | <span data-ttu-id="9a589-355">유효한 `DateTime` 값 일치(고정 문화권에서 - 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9a589-355">Matches a valid `DateTime` value (in the invariant culture - see warning)</span></span> |
| `decimal` | `{price:decimal}` | <span data-ttu-id="9a589-356">`49.99`, `-1,000.01`</span><span class="sxs-lookup"><span data-stu-id="9a589-356">`49.99`, `-1,000.01`</span></span> | <span data-ttu-id="9a589-357">유효한 `decimal` 값 일치(고정 문화권에서 - 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9a589-357">Matches a valid `decimal` value (in the invariant culture - see warning)</span></span> |
| `double` | `{weight:double}` | <span data-ttu-id="9a589-358">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="9a589-358">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="9a589-359">유효한 `double` 값 일치(고정 문화권에서 - 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9a589-359">Matches a valid `double` value (in the invariant culture - see warning)</span></span> |
| `float` | `{weight:float}` | <span data-ttu-id="9a589-360">`1.234`, `-1,001.01e8`</span><span class="sxs-lookup"><span data-stu-id="9a589-360">`1.234`, `-1,001.01e8`</span></span> | <span data-ttu-id="9a589-361">유효한 `float` 값 일치(고정 문화권에서 - 경고 참조)</span><span class="sxs-lookup"><span data-stu-id="9a589-361">Matches a valid `float` value (in the invariant culture - see warning)</span></span> |
| `guid` | `{id:guid}` | <span data-ttu-id="9a589-362">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span><span class="sxs-lookup"><span data-stu-id="9a589-362">`CD2C1638-1638-72D5-1638-DEADBEEF1638`, `{CD2C1638-1638-72D5-1638-DEADBEEF1638}`</span></span> | <span data-ttu-id="9a589-363">유효한 `Guid` 값 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-363">Matches a valid `Guid` value</span></span> |
| `long` | `{ticks:long}` | <span data-ttu-id="9a589-364">`123456789`, `-123456789`</span><span class="sxs-lookup"><span data-stu-id="9a589-364">`123456789`, `-123456789`</span></span> | <span data-ttu-id="9a589-365">유효한 `long` 값 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-365">Matches a valid `long` value</span></span> |
| `minlength(value)` | `{username:minlength(4)}` | `Rick` | <span data-ttu-id="9a589-366">문자열은 4자 이상이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-366">String must be at least 4 characters</span></span> |
| `maxlength(value)` | `{filename:maxlength(8)}` | `Richard` | <span data-ttu-id="9a589-367">문자열은 8자 이하여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-367">String must be no more than 8 characters</span></span> |
| `length(length)` | `{filename:length(12)}` | `somefile.txt` | <span data-ttu-id="9a589-368">문자열은 정확히 12자여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-368">String must be exactly 12 characters long</span></span> |
| `length(min,max)` | `{filename:length(8,16)}` | `somefile.txt` | <span data-ttu-id="9a589-369">문자열의 길이는 8자 이상이며 16자 이하여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-369">String must be at least 8 and no more than 16 characters long</span></span> |
| `min(value)` | `{age:min(18)}` | `19` | <span data-ttu-id="9a589-370">정수 값은 18자 이상이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-370">Integer value must be at least 18</span></span> |
| `max(value)` | `{age:max(120)}` | `91` | <span data-ttu-id="9a589-371">정수 값은 120자 이하여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-371">Integer value must be no more than 120</span></span> |
| `range(min,max)` | `{age:range(18,120)}` | `91` | <span data-ttu-id="9a589-372">정수 값은 18자 이상이며 120자 이하여야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-372">Integer value must be at least 18 but no more than 120</span></span> |
| `alpha` | `{name:alpha}` | `Rick` | <span data-ttu-id="9a589-373">문자열은 하나 이상의 알파벳 문자(`a`-`z`, 대/소문자 구분)로 구성되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-373">String must consist of one or more alphabetical characters (`a`-`z`, case-insensitive)</span></span> |
| `regex(expression)` | `{ssn:regex(^\\d{{3}}-\\d{{2}}-\\d{{4}}$)}` | `123-45-6789` | <span data-ttu-id="9a589-374">문자열은 정규식과 일치해야 합니다(정규식 정의에 대한 팁 참조).</span><span class="sxs-lookup"><span data-stu-id="9a589-374">String must match the regular expression (see tips about defining a regular expression)</span></span> |
| `required` | `{name:required}` | `Rick` |  <span data-ttu-id="9a589-375">URL을 생성하는 동안 비-매개 변수 값이 있도록 하는 데 사용됨</span><span class="sxs-lookup"><span data-stu-id="9a589-375">Used to enforce that a non-parameter value is present during URL generation</span></span> |

<span data-ttu-id="9a589-376">콜론으로 구분된 여러 개의 제약 조건을 단일 매개 변수에 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-376">Multiple, colon-delimited constraints can be applied to a single parameter.</span></span> <span data-ttu-id="9a589-377">예를 들어 다음 제약 조건은 매개 변수를 1 이상의 정수 값으로 제한합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-377">For example, the following constraint restricts a parameter to an integer value of 1 or greater:</span></span>

```csharp
[Route("users/{id:int:min(1)}")]
public User GetUserById(int id) { }
```

> [!WARNING]
> <span data-ttu-id="9a589-378">CLR 형식(예: `int` 또는 `DateTime`)으로 변환되는 URL을 확인하는 경로 제약 조건은 항상 고정 문화권을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-378">Route constraints that verify the URL and are converted to a CLR type (such as `int` or `DateTime`) always use the invariant culture.</span></span> <span data-ttu-id="9a589-379">이러한 제약 조건은 URL은 지역화될 수 없다고 가정합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-379">These constraints assume that the URL is non-localizable.</span></span> <span data-ttu-id="9a589-380">프레임워크에서 제공한 경로 제약 조건은 경로 값에 저장된 값을 수정하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-380">The framework-provided route constraints don't modify the values stored in route values.</span></span> <span data-ttu-id="9a589-381">URL에서 구문 분석되는 모든 경로 값은 문자열로 저장됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-381">All route values parsed from the URL are stored as strings.</span></span> <span data-ttu-id="9a589-382">예를 들어 `float` 제약 조건은 경로 값을 부동으로 변환하려고 하지만 변환된 값은 부동으로 변환될 수 있는지 확인하는 데만 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-382">For example, the `float` constraint attempts to convert the route value to a float, but the converted value is used only to verify it can be converted to a float.</span></span>

## <a name="regular-expressions"></a><span data-ttu-id="9a589-383">정규식</span><span class="sxs-lookup"><span data-stu-id="9a589-383">Regular expressions</span></span>

<span data-ttu-id="9a589-384">ASP.NET Core 프레임워크는 정규식 생성자에 `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant`를 추가합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-384">The ASP.NET Core framework adds `RegexOptions.IgnoreCase | RegexOptions.Compiled | RegexOptions.CultureInvariant` to the regular expression constructor.</span></span> <span data-ttu-id="9a589-385">이러한 멤버에 대한 설명은 <xref:System.Text.RegularExpressions.RegexOptions>를 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-385">See <xref:System.Text.RegularExpressions.RegexOptions> for a description of these members.</span></span>

<span data-ttu-id="9a589-386">정규식은 라우팅 및 C# 언어에서 사용하는 것과 유사한 구분 기호 및 토큰을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-386">Regular expressions use delimiters and tokens similar to those used by Routing and the C# language.</span></span> <span data-ttu-id="9a589-387">정규식 토큰은 이스케이프되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-387">Regular expression tokens must be escaped.</span></span> <span data-ttu-id="9a589-388">라우팅에서 `^\d{3}-\d{2}-\d{4}$` 정규식을 사용하려면 식은 `\` 문자열 이스케이프 문자를 이스케이프하도록 C# 원본 파일에서 `\\`로 입력된 `\` 문자를 가져야 합니다([약어 문자열 리터럴](/dotnet/csharp/language-reference/keywords/string)을 사용하지 않는 한).</span><span class="sxs-lookup"><span data-stu-id="9a589-388">To use the regular expression `^\d{3}-\d{2}-\d{4}$` in Routing, the expression must have the `\` characters typed in as `\\` in the C# source file to escape the `\` string escape character (unless using [verbatim string literals](/dotnet/csharp/language-reference/keywords/string).</span></span> <span data-ttu-id="9a589-389">`{`, `}`, `[` 및 `]` 문자는 라우팅 매개 변수 구분 기호 문자를 이스케이프하도록 이중으로 처리하여 이스케이프되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-389">The `{`, `}`, `[`, and `]` characters must be escaped by doubling them to escape the Routing parameter delimiter characters.</span></span> <span data-ttu-id="9a589-390">아래 표는 정규식 및 이스케이프된 버전을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-390">The table below shows a regular expression and the escaped version.</span></span>

| <span data-ttu-id="9a589-391">식</span><span class="sxs-lookup"><span data-stu-id="9a589-391">Expression</span></span>            | <span data-ttu-id="9a589-392">이스케이프됨</span><span class="sxs-lookup"><span data-stu-id="9a589-392">Escaped</span></span>                        |
| --------------------- | ------------------------------ |
| `^\d{3}-\d{2}-\d{4}$` | `^\\d{{3}}-\\d{{2}}-\\d{{4}}$` |
| `^[a-z]{2}$`          | `^[[a-z]]{{2}}$`               |

<span data-ttu-id="9a589-393">라우팅에 사용된 정규식은 종종 `^` 문자(문자열의 시작 위치와 일치)로 시작하고 `$` 문자(문자열의 끝 위치와 일치)로 끝납니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-393">Regular expressions used in routing often start with the `^` character (match starting position of the string) and end with the `$` character (match ending position of the string).</span></span> <span data-ttu-id="9a589-394">`^` 및 `$` 문자는 정규식이 전체 경로 매개 변수 값과 일치하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-394">The `^` and `$` characters ensure that the regular expression match the entire route parameter value.</span></span> <span data-ttu-id="9a589-395">`^` 및 `$` 문자 없이 정규식은 문자열 내의 모든 하위 문자열과 일치합니다. 이는 종종 원하는 것이 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-395">Without the `^` and `$` characters, the regular expression match any substring within the string, which is often undesirable.</span></span> <span data-ttu-id="9a589-396">아래 표는 몇 가지 예를 보여 주고 일치하거나 일치에 실패하는 이유를 설명합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-396">The table below shows some examples and explains why they match or fail to match.</span></span>

| <span data-ttu-id="9a589-397">식</span><span class="sxs-lookup"><span data-stu-id="9a589-397">Expression</span></span>   | <span data-ttu-id="9a589-398">문자열</span><span class="sxs-lookup"><span data-stu-id="9a589-398">String</span></span>    | <span data-ttu-id="9a589-399">일치</span><span class="sxs-lookup"><span data-stu-id="9a589-399">Match</span></span> | <span data-ttu-id="9a589-400">주석</span><span class="sxs-lookup"><span data-stu-id="9a589-400">Comment</span></span>               |
| ------------ | --------- |  ---- |  -------------------- |
| `[a-z]{2}`   | <span data-ttu-id="9a589-401">hello</span><span class="sxs-lookup"><span data-stu-id="9a589-401">hello</span></span>     | <span data-ttu-id="9a589-402">예</span><span class="sxs-lookup"><span data-stu-id="9a589-402">Yes</span></span>   | <span data-ttu-id="9a589-403">부분 문자열 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-403">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="9a589-404">123abc456</span><span class="sxs-lookup"><span data-stu-id="9a589-404">123abc456</span></span> | <span data-ttu-id="9a589-405">예</span><span class="sxs-lookup"><span data-stu-id="9a589-405">Yes</span></span>   | <span data-ttu-id="9a589-406">부분 문자열 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-406">Substring matches</span></span>     |
| `[a-z]{2}`   | <span data-ttu-id="9a589-407">mz</span><span class="sxs-lookup"><span data-stu-id="9a589-407">mz</span></span>        | <span data-ttu-id="9a589-408">예</span><span class="sxs-lookup"><span data-stu-id="9a589-408">Yes</span></span>   | <span data-ttu-id="9a589-409">식 일치</span><span class="sxs-lookup"><span data-stu-id="9a589-409">Matches expression</span></span>    |
| `[a-z]{2}`   | <span data-ttu-id="9a589-410">MZ</span><span class="sxs-lookup"><span data-stu-id="9a589-410">MZ</span></span>        | <span data-ttu-id="9a589-411">예</span><span class="sxs-lookup"><span data-stu-id="9a589-411">Yes</span></span>   | <span data-ttu-id="9a589-412">대/소문자 구분하지 않음</span><span class="sxs-lookup"><span data-stu-id="9a589-412">Not case sensitive</span></span>    |
| `^[a-z]{2}$` |  <span data-ttu-id="9a589-413">hello</span><span class="sxs-lookup"><span data-stu-id="9a589-413">hello</span></span>    | <span data-ttu-id="9a589-414">아니요</span><span class="sxs-lookup"><span data-stu-id="9a589-414">No</span></span>    | <span data-ttu-id="9a589-415">위의 `^` 및 `$` 참조</span><span class="sxs-lookup"><span data-stu-id="9a589-415">See `^` and `$` above</span></span> |
| `^[a-z]{2}$` | <span data-ttu-id="9a589-416">123abc456</span><span class="sxs-lookup"><span data-stu-id="9a589-416">123abc456</span></span> | <span data-ttu-id="9a589-417">아니요</span><span class="sxs-lookup"><span data-stu-id="9a589-417">No</span></span>    | <span data-ttu-id="9a589-418">위의 `^` 및 `$` 참조</span><span class="sxs-lookup"><span data-stu-id="9a589-418">See `^` and `$` above</span></span> |

<span data-ttu-id="9a589-419">정규식 구문에 대한 자세한 내용은 [.NET Framework 정규식](/dotnet/standard/base-types/regular-expression-language-quick-reference)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-419">For more information on regular expression syntax, see [.NET Framework Regular Expressions](/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>

<span data-ttu-id="9a589-420">가능한 값의 알려진 집합으로 매개 변수를 제한하려면 정규식을 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-420">To constrain a parameter to a known set of possible values, use a regular expression.</span></span> <span data-ttu-id="9a589-421">예를 들어 `{action:regex(^(list|get|create)$)}`는 `action` 경로 값을 `list`, `get` 또는 `create`으로만 일치시킵니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-421">For example, `{action:regex(^(list|get|create)$)}` only matches the `action` route value to `list`, `get`, or `create`.</span></span> <span data-ttu-id="9a589-422">제약 조건 사전으로 전달되면 `^(list|get|create)$` 문자열은 동일합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-422">If passed into the constraints dictionary, the string `^(list|get|create)$` is equivalent.</span></span> <span data-ttu-id="9a589-423">알려진 제약 조건 중 하나와 일치하지 않는 제약 조건 사전(템플릿 내 인라인이 아님)에서 전달되는 제약 조건도 정규식으로 처리됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-423">Constraints that are passed in the constraints dictionary (not inline within a template) that don't match one of the known constraints are also treated as regular expressions.</span></span>

::: moniker range=">= aspnetcore-2.2"

## <a name="parameter-transformer-reference"></a><span data-ttu-id="9a589-424">매개 변수 변환기 참조</span><span class="sxs-lookup"><span data-stu-id="9a589-424">Parameter transformer reference</span></span>

<span data-ttu-id="9a589-425">`Route`에 대한 링크를 생성할 때 매개 변수 변환기가 실행됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-425">Parameter transformers execute when generating a link for a `Route`.</span></span> <span data-ttu-id="9a589-426">매개 변수 변환기는 매개 변수의 경로 값을 사용하고 이를 새 문자열 값으로 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-426">Parameter transformers take the parameter's route value and transform it to a new string value.</span></span> <span data-ttu-id="9a589-427">변환된 값은 생성된 링크에서 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-427">The transformed value is used in the generated link.</span></span> <span data-ttu-id="9a589-428">예를 들어, `Url.Action(new { article = "MyTestArticle" })`을 사용하는 경로 패턴 `blog\{article:slugify}`의 사용자 지정 `slugify` 매개 변수 변환기는 `blog\my-test-article`을 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-428">For example, a custom `slugify` parameter transformer in route pattern `blog\{article:slugify}` with `Url.Action(new { article = "MyTestArticle" })` generates `blog\my-test-article`.</span></span> <span data-ttu-id="9a589-429">매개 변수 변환기는 `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer`를 구현하고 <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>을 사용하여 구성됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-429">Parameter transformers implement `Microsoft.AspNetCore.Routing.IOutboundParameterTransformer` and are configured using <xref:Microsoft.AspNetCore.Routing.RouteOptions.ConstraintMap>.</span></span>

<span data-ttu-id="9a589-430">또한 매개 변수 변환기는 엔드포인트가 확인되는 URI를 변환하기 위해 프레임워크에서 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-430">Parameter transformers are also used by frameworks to transform the URI to which an endpoint resolves.</span></span> <span data-ttu-id="9a589-431">예를 들어 ASP.NET Core MVC는 매개 변수 변환기를 사용하여 `area` , `controller` , `action` 및 `page`와 일치하도록 사용되는 경로 값을 변환합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-431">For example, ASP.NET Core MVC uses parameter transformers to transform the route value used to match an `area`, `controller`, `action`, and `page`.</span></span>

```csharp
routes.MapRoute(
    name: "default",
    template: "{controller=Home:slugify}/{action=Index:slugify}/{id?}");
```

<span data-ttu-id="9a589-432">이전 경로를 사용하면 `SubscriptionManagementController.GetAll()` 작업이 URI `/subscription-management/get-all`과 일치됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-432">With the preceding route, the action `SubscriptionManagementController.GetAll()` is matched with the URI `/subscription-management/get-all`.</span></span> <span data-ttu-id="9a589-433">매개 변수 변환기는 링크를 생성하는 데 사용되는 경로 값을 변경하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-433">A parameter transformer doesn't change the route values used to generate a link.</span></span> <span data-ttu-id="9a589-434">`Url.Action("GetAll", "SubscriptionManagement")`가 `/subscription-management/get-all`을 출력합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-434">`Url.Action("GetAll", "SubscriptionManagement")` outputs `/subscription-management/get-all`.</span></span>

<span data-ttu-id="9a589-435">ASP.NET Core MVC도 `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API 규칙과 함께 제공됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-435">ASP.NET Core MVC also comes with the `Microsoft.AspNetCore.Mvc.ApplicationModels.RouteTokenTransformerConvention` API convention.</span></span> <span data-ttu-id="9a589-436">이 규칙은 앱의 모든 특성 경로 토큰에 지정된 매개 변수 변환기를 적용합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-436">The convention applies a specified parameter transformer to all attribute route tokens in the app.</span></span>

::: moniker-end

## <a name="url-generation-reference"></a><span data-ttu-id="9a589-437">URL 생성 참조</span><span class="sxs-lookup"><span data-stu-id="9a589-437">URL generation reference</span></span>

<span data-ttu-id="9a589-438">다음 예제에서는 경로 값의 사전 및 <xref:Microsoft.AspNetCore.Routing.RouteCollection>이 지정된 경로에 대한 링크를 생성하는 방법을 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-438">The following example shows how to generate a link to a route given a dictionary of route values and a <xref:Microsoft.AspNetCore.Routing.RouteCollection>.</span></span>

::: moniker range=">= aspnetcore-2.0"

[!code-csharp[](routing/samples/2.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

::: moniker-end

::: moniker range="< aspnetcore-2.0"

[!code-csharp[](routing/samples/1.x/RoutingSample/Startup.cs?name=snippet_Dictionary)]

::: moniker-end

<span data-ttu-id="9a589-439">위의 샘플 끝부분에서 생성된 `VirtualPath`는 `/package/create/123`입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-439">The `VirtualPath` generated at the end of the preceding sample is `/package/create/123`.</span></span> <span data-ttu-id="9a589-440">사전은 "추적 패키지 경로" 템플릿, `package/{operation}/{id}`의 `operation` 및 `id` 경로 값을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-440">The dictionary supplies the `operation` and `id` route values of the "Track Package Route" template, `package/{operation}/{id}`.</span></span> <span data-ttu-id="9a589-441">자세한 내용은 [라우팅 미들웨어 사용](#use-routing-middleware) 섹션의 샘플 코드 또는 [샘플 앱](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples)을 참조하세요.</span><span class="sxs-lookup"><span data-stu-id="9a589-441">For details, see the sample code in the [Use Routing Middleware](#use-routing-middleware) section or the [sample app](https://github.com/aspnet/Docs/tree/master/aspnetcore/fundamentals/routing/samples).</span></span>

<span data-ttu-id="9a589-442">`VirtualPathContext` 생성자에 대한 두 번째 매개 변수는 *앰비언트 값*의 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-442">The second parameter to the `VirtualPathContext` constructor is a collection of *ambient values*.</span></span> <span data-ttu-id="9a589-443">앰비언트 값은 개발자가 특정 요청 컨텍스트 내에서 지정해야 하는 값의 수를 제한하여 편의를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-443">Ambient values provide convenience by limiting the number of values a developer must specify within a certain request context.</span></span> <span data-ttu-id="9a589-444">현재 요청의 현재 경로 값은 링크 생성에 대한 앰비언트 값으로 간주됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-444">The current route values of the current request are considered ambient values for link generation.</span></span> <span data-ttu-id="9a589-445">ASP.NET Core MVC 앱에서 `HomeController`의 `About` 작업 중에 있는 경우 `Index` 작업에 연결하도록 컨트롤러 경로 값을 지정할 필요가 없습니다. &mdash;`Home`의 앰비언트 값이 사용됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-445">In an ASP.NET Core MVC app if you are in the `About` action of the `HomeController`, you don't need to specify the controller route value to link to the `Index` action&mdash;the ambient value of `Home` is used.</span></span>

<span data-ttu-id="9a589-446">매개 변수와 일치하지 않는 앰비언트 값은 무시되며 URL에서 왼쪽에서 오른쪽으로 이동하여 명시적으로 제공된 값이 재정의하는 경우 앰비언트 값도 무시됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-446">Ambient values that don't match a parameter are ignored, and ambient values are also ignored when an explicitly provided value overrides it, going from left to right in the URL.</span></span>

<span data-ttu-id="9a589-447">명시적으로 제공되었지만 아무 것과도 일치하지 않는 값은 쿼리 문자열에 추가됩니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-447">Values that are explicitly provided but which don't match anything are added to the query string.</span></span> <span data-ttu-id="9a589-448">다음 표에서 경로 템플릿 `{controller}/{action}/{id?}`를 사용하는 경우 결과를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-448">The following table shows the result when using the route template `{controller}/{action}/{id?}`.</span></span>

| <span data-ttu-id="9a589-449">앰비언트 값</span><span class="sxs-lookup"><span data-stu-id="9a589-449">Ambient Values</span></span>                | <span data-ttu-id="9a589-450">명시적 값</span><span class="sxs-lookup"><span data-stu-id="9a589-450">Explicit Values</span></span>                   | <span data-ttu-id="9a589-451">결과</span><span class="sxs-lookup"><span data-stu-id="9a589-451">Result</span></span>                  |
| ----------------------------- | --------------------------------- | ----------------------- |
| <span data-ttu-id="9a589-452">controller="Home"</span><span class="sxs-lookup"><span data-stu-id="9a589-452">controller="Home"</span></span>             | <span data-ttu-id="9a589-453">action="About"</span><span class="sxs-lookup"><span data-stu-id="9a589-453">action="About"</span></span>                    | `/Home/About`           |
| <span data-ttu-id="9a589-454">controller="Home"</span><span class="sxs-lookup"><span data-stu-id="9a589-454">controller="Home"</span></span>             | <span data-ttu-id="9a589-455">controller="Order",action="About"</span><span class="sxs-lookup"><span data-stu-id="9a589-455">controller="Order",action="About"</span></span> | `/Order/About`          |
| <span data-ttu-id="9a589-456">controller="Home",color="Red"</span><span class="sxs-lookup"><span data-stu-id="9a589-456">controller="Home",color="Red"</span></span> | <span data-ttu-id="9a589-457">action="About"</span><span class="sxs-lookup"><span data-stu-id="9a589-457">action="About"</span></span>                    | `/Home/About`           |
| <span data-ttu-id="9a589-458">controller="Home"</span><span class="sxs-lookup"><span data-stu-id="9a589-458">controller="Home"</span></span>             | <span data-ttu-id="9a589-459">action="About",color="Red"</span><span class="sxs-lookup"><span data-stu-id="9a589-459">action="About",color="Red"</span></span>        | `/Home/About?color=Red` |

<span data-ttu-id="9a589-460">경로에 매개 변수에 해당하지 않고 값이 명시적으로 제공된 기본값이 있는 경우 기본값과 일치해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-460">If a route has a default value that doesn't correspond to a parameter and that value is explicitly provided, it must match the default value:</span></span>

```csharp
routes.MapRoute("blog_route", "blog/{*slug}",
    defaults: new { controller = "Blog", action = "ReadPost" });
```

<span data-ttu-id="9a589-461">링크 생성은 컨트롤러 및 작업에 대해 일치하는 값이 제공되는 경우에만 이 경로에 대한 링크를 생성합니다.</span><span class="sxs-lookup"><span data-stu-id="9a589-461">Link generation only generates a link for this route when the matching values for controller and action are provided.</span></span>
