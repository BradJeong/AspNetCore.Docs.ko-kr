---
title: "EF 코어-정렬, 필터, 페이징-8 3 razor 페이지"
author: rick-anderson
description: "이 자습서에서는 정렬, 필터링 및 페이징을 ASP.NET 코어 및 Entity Framework 코어를 사용 하 여 페이지 기능을 추가 합니다."
keywords: "ASP.NET Core, Entity Framework Core, 정렬, 필터, 페이징, 그룹화"
ms.author: riande
ms.date: 10/22/2017
ms.topic: get-started-article
ms.technology: aspnet
ms.prod: asp.net-core
uid: data/ef-rp/sort-filter-page
ms.openlocfilehash: 5e17663b88a622101245228e9372db55e4e874be
ms.sourcegitcommit: 703593d5fd14076e79be2ba75a5b8da12a60ab15
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/05/2017
---
# <a name="sorting-filtering-paging-and-grouping---ef-core-with-razor-pages-3-of-8"></a><span data-ttu-id="61c21-104">정렬, 필터링, 페이징 및 그룹화-EF 코어 Razor 페이지 (3 / 8)</span><span class="sxs-lookup"><span data-stu-id="61c21-104">Sorting, filtering, paging, and grouping - EF Core with Razor Pages (3 of 8)</span></span>

<span data-ttu-id="61c21-105">여 [Tom Dykstra](https://github.com/tdykstra), [Rick Anderson](https://twitter.com/RickAndMSFT), 및 [Jon P Smith](https://twitter.com/thereformedprog)</span><span class="sxs-lookup"><span data-stu-id="61c21-105">By [Tom Dykstra](https://github.com/tdykstra), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Jon P Smith](https://twitter.com/thereformedprog)</span></span>

[!INCLUDE[about the series](../../includes/RP-EF/intro.md)]

<span data-ttu-id="61c21-106">이 자습서, 정렬, 필터링, 그룹화 및 페이징에 기능 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-106">In this tutorial, sorting, filtering, grouping, and paging, functionality is added.</span></span>

<span data-ttu-id="61c21-107">다음 그림은 완료 된 페이지를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-107">The following illustration shows a completed page.</span></span> <span data-ttu-id="61c21-108">열 머리글은 열을 정렬에 대 한 링크가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-108">The column headings are clickable links to sort the column.</span></span> <span data-ttu-id="61c21-109">열 머리글을 반복 해 서 클릭 하면 오름차순 및 내림차순 정렬 순서 사이 전환 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-109">Clicking a column heading repeatedly switches between ascending and descending sort order.</span></span>

![학생 인덱스 페이지](sort-filter-page/_static/paging.png)

<span data-ttu-id="61c21-111">문제를 해결할 수 없는를 실행 하는 경우 다운로드는 [이 단계에 대 한 완성 된 앱](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting)합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-111">If you run into problems you can't solve, download the [completed app for this stage](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting).</span></span>

## <a name="add-sorting-to-the-index-page"></a><span data-ttu-id="61c21-112">인덱스 페이지에 정렬을 추가합니다</span><span class="sxs-lookup"><span data-stu-id="61c21-112">Add sorting to the Index page</span></span>

<span data-ttu-id="61c21-113">문자열에 추가 *Students/Index.cshtml.cs* `PageModel` 정렬의 매개 변수를 포함 하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-113">Add strings to the *Students/Index.cshtml.cs* `PageModel` to contain the sorting paramaters:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet1&highlight=10-13)]


<span data-ttu-id="61c21-114">업데이트는 *Students/Index.cshtml.cs* `OnGetAsync` 를 다음 코드로:</span><span class="sxs-lookup"><span data-stu-id="61c21-114">Update the *Students/Index.cshtml.cs* `OnGetAsync` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnly)]

<span data-ttu-id="61c21-115">위의 코드는 수신는 `sortOrder` URL에 쿼리 문자열에서 매개 변수입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-115">The preceding code receives a `sortOrder` parameter from the query string in the URL.</span></span> <span data-ttu-id="61c21-116">URL (쿼리 문자열 포함)에서 생성 되는 [앵커 태그 도우미](xref:mvc/views/tag-helpers/builtin-th/anchor-tag-helper
)</span><span class="sxs-lookup"><span data-stu-id="61c21-116">The URL (including the query string) is generated by the [Anchor Tag Helper](xref:mvc/views/tag-helpers/builtin-th/anchor-tag-helper
)</span></span>

<span data-ttu-id="61c21-117">`sortOrder` 매개 변수는 "Name" 또는 "날짜"입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-117">The `sortOrder` parameter is either "Name" or "Date."</span></span> <span data-ttu-id="61c21-118">`sortOrder` 매개 변수 "_desc" 내림차순을 지정 하 여 필요에 따라 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-118">The `sortOrder` parameter is optionally followed by "_desc" to specify descending order.</span></span> <span data-ttu-id="61c21-119">기본 정렬 순서는 오름차순입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-119">The default sort order is ascending.</span></span>

<span data-ttu-id="61c21-120">인덱스 페이지를 요청 하는 경우는 **학생** 연결, 쿼리 문자열이 없습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-120">When the Index page is requested from the **Students** link, there's no query string.</span></span> <span data-ttu-id="61c21-121">학생 성을 기준으로 오름차순 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-121">The students are displayed in ascending order by last name.</span></span> <span data-ttu-id="61c21-122">값이 기본값 (fall 통해 경우) 성을 기준으로 오름차순의 `switch` 문.</span><span class="sxs-lookup"><span data-stu-id="61c21-122">Ascending order by last name is the default (fall-through case) in the `switch` statement.</span></span> <span data-ttu-id="61c21-123">적절 한 열 제목 링크를 클릭 하면 `sortOrder` 쿼리 문자열 값에 값을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-123">When the user clicks a column heading link, the appropriate `sortOrder` value is provided in the query string value.</span></span>

<span data-ttu-id="61c21-124">`NameSort`및 `DateSort` Razor 페이지에서 적절 한 쿼리 문자열 값을 사용 하 여 열 머리글 하이퍼링크를 구성 하는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-124">`NameSort` and `DateSort` are used by the Razor Page to configure the column heading hyperlinks with the appropriate query string values:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnly&highlight=3-4)]

<span data-ttu-id="61c21-125">다음 코드에 C# [?: 연산자](https://docs.microsoft.com/dotnet/csharp/language-reference/operators/conditional-operator):</span><span class="sxs-lookup"><span data-stu-id="61c21-125">The following code contains the C# [?: operator](https://docs.microsoft.com/dotnet/csharp/language-reference/operators/conditional-operator):</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_Ternary)]

<span data-ttu-id="61c21-126">첫 번째 줄 지정 `sortOrder` null 이거나 비어 있어서 `NameSort` "name_desc"로 설정 되어</span><span class="sxs-lookup"><span data-stu-id="61c21-126">The first line specifies that when `sortOrder` is null or empty, `NameSort` is set to "name_desc."</span></span> <span data-ttu-id="61c21-127">경우 `sortOrder` 은 **하지** null 이거나 비어 있는 경우 `NameSort` 빈 문자열로 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-127">If `sortOrder` is **not** null or empty, `NameSort` is set to an empty string.</span></span>

<span data-ttu-id="61c21-128">`?: operator` 삼항 연산자는 라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-128">The `?: operator` is also known as the ternary operator.</span></span>

<span data-ttu-id="61c21-129">열 머리글 하이퍼링크를 다음과 같이 설정 하려면 보기를 사용 하는이 두 개의 문:</span><span class="sxs-lookup"><span data-stu-id="61c21-129">These two statements enable the view to set the column heading hyperlinks as follows:</span></span>

| <span data-ttu-id="61c21-130">현재 정렬 순서</span><span class="sxs-lookup"><span data-stu-id="61c21-130">Current sort order</span></span> | <span data-ttu-id="61c21-131">마지막 이름 하이퍼링크</span><span class="sxs-lookup"><span data-stu-id="61c21-131">Last Name Hyperlink</span></span> | <span data-ttu-id="61c21-132">날짜 하이퍼링크</span><span class="sxs-lookup"><span data-stu-id="61c21-132">Date Hyperlink</span></span> |
|:--------------------:|:-------------------:|:--------------:|
| <span data-ttu-id="61c21-133">이름 오름차순 마지막</span><span class="sxs-lookup"><span data-stu-id="61c21-133">Last Name ascending</span></span> | <span data-ttu-id="61c21-134">descending</span><span class="sxs-lookup"><span data-stu-id="61c21-134">descending</span></span>        | <span data-ttu-id="61c21-135">ascending</span><span class="sxs-lookup"><span data-stu-id="61c21-135">ascending</span></span>      |
| <span data-ttu-id="61c21-136">이름 내림차순 마지막</span><span class="sxs-lookup"><span data-stu-id="61c21-136">Last Name descending</span></span> | <span data-ttu-id="61c21-137">ascending</span><span class="sxs-lookup"><span data-stu-id="61c21-137">ascending</span></span>           | <span data-ttu-id="61c21-138">ascending</span><span class="sxs-lookup"><span data-stu-id="61c21-138">ascending</span></span>      |
| <span data-ttu-id="61c21-139">오름차순 날짜</span><span class="sxs-lookup"><span data-stu-id="61c21-139">Date ascending</span></span>       | <span data-ttu-id="61c21-140">ascending</span><span class="sxs-lookup"><span data-stu-id="61c21-140">ascending</span></span>           | <span data-ttu-id="61c21-141">descending</span><span class="sxs-lookup"><span data-stu-id="61c21-141">descending</span></span>     |
| <span data-ttu-id="61c21-142">내림차순 날짜</span><span class="sxs-lookup"><span data-stu-id="61c21-142">Date descending</span></span>      | <span data-ttu-id="61c21-143">ascending</span><span class="sxs-lookup"><span data-stu-id="61c21-143">ascending</span></span>           | <span data-ttu-id="61c21-144">ascending</span><span class="sxs-lookup"><span data-stu-id="61c21-144">ascending</span></span>      |

<span data-ttu-id="61c21-145">메서드가 LINQ to Entities 사용 하 여 기준으로 정렬 하려면 열을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-145">The method uses LINQ to Entities to specify the column to sort by.</span></span> <span data-ttu-id="61c21-146">코드를 초기화 한 `IQueryable<Student> ` switch 문의 하기 전에 switch 문에 수정:</span><span class="sxs-lookup"><span data-stu-id="61c21-146">The code initializes an `IQueryable<Student> ` before the switch statement, and modifies it in the switch statement:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnly&highlight=6-)]

 <span data-ttu-id="61c21-147">경우는`IQueryable` 를 만들거나 수정 하 고, 데이터베이스에 쿼리가 전송 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-147">When an`IQueryable` is created or modified, no query is sent to the database.</span></span> <span data-ttu-id="61c21-148">쿼리 될 때까지 실행 되지 않습니다는 `IQueryable` 개체 컬렉션으로 변환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-148">The query is not executed until the `IQueryable` object is converted into a collection.</span></span> <span data-ttu-id="61c21-149">`IQueryable`와 같은 메서드를 호출 하 여 컬렉션으로 변환 됩니다 `ToListAsync`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-149">`IQueryable` are converted to a collection by calling a method such as `ToListAsync`.</span></span> <span data-ttu-id="61c21-150">따라서는 `IQueryable` 되어야 다음 문을 실행 하는 단일 쿼리 결과 코드:</span><span class="sxs-lookup"><span data-stu-id="61c21-150">Therefore, the `IQueryable` code results in a single query that is not executed until the following statement:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnlyRtn)]

<span data-ttu-id="61c21-151">`OnGetAsync`열의 다 수 포함 된 자세한 정보를 가져올 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-151">`OnGetAsync` could get verbose with a large number of columns.</span></span>

### <a name="add-column-heading-hyperlinks-to-the-student-index-view"></a><span data-ttu-id="61c21-152">열 머리글 하이퍼링크 학생 인덱스 뷰를 추가</span><span class="sxs-lookup"><span data-stu-id="61c21-152">Add column heading hyperlinks to the Student Index view</span></span>

<span data-ttu-id="61c21-153">코드 *Students/Index.cshtml*, 다음 코드를 강조 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-153">Replace the code in *Students/Index.cshtml*, with the following highlighted code:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index2.cshtml?highlight=17-19,25-27)]

<span data-ttu-id="61c21-154">위의 코드:</span><span class="sxs-lookup"><span data-stu-id="61c21-154">The preceding code:</span></span>

* <span data-ttu-id="61c21-155">하이퍼링크를 추가 하는 `LastName` 및 `EnrollmentDate` 열 머리글입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-155">Adds hyperlinks to the `LastName` and `EnrollmentDate` column headings.</span></span>
* <span data-ttu-id="61c21-156">정보를 사용 하 여 `NameSort` 및 `DateSort` 현재 정렬 순서 값으로 하이퍼링크를 설정 하려면.</span><span class="sxs-lookup"><span data-stu-id="61c21-156">Uses the information in `NameSort` and `DateSort` to set up hyperlinks with the current sort order values.</span></span>

<span data-ttu-id="61c21-157">확인 하려면 작동을 정렬 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-157">To verify that sorting works:</span></span>

* <span data-ttu-id="61c21-158">응용 프로그램을 실행 하 고 선택 된 **학생** 탭 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-158">Run the app and select the **Students** tab.</span></span>
* <span data-ttu-id="61c21-159">클릭 **성**합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-159">Click **Last Name**.</span></span>
* <span data-ttu-id="61c21-160">클릭 **등록 날짜**합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-160">Click **Enrollment Date**.</span></span>

<span data-ttu-id="61c21-161">코드를 더 잘 이해 하려면 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-161">To get a better understanding of the code:</span></span>

* <span data-ttu-id="61c21-162">*Student/Index.cshtml.cs*에 중단점을 설정 `switch (sortOrder)`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-162">In *Student/Index.cshtml.cs*, set a breakpoint on `switch (sortOrder)`.</span></span>
* <span data-ttu-id="61c21-163">에 대 한 조사식을 추가 `NameSort` 및 `DateSort`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-163">Add a watch for `NameSort` and `DateSort`.</span></span>
* <span data-ttu-id="61c21-164">*Student/Index.cshtml*에 중단점을 설정 `@Html.DisplayNameFor(model => model.Student[0].LastName)`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-164">In *Student/Index.cshtml*, set a breakpoint on `@Html.DisplayNameFor(model => model.Student[0].LastName)`.</span></span>

<span data-ttu-id="61c21-165">디버거 단계별로 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-165">Step through the debugger.</span></span>

## <a name="add-a-search-box-to-the-students-index-page"></a><span data-ttu-id="61c21-166">검색 상자 학생 인덱스 페이지에 추가</span><span class="sxs-lookup"><span data-stu-id="61c21-166">Add a Search Box to the Students Index page</span></span>

<span data-ttu-id="61c21-167">필터링을 추가 하려면 학생 인덱스 페이지에:</span><span class="sxs-lookup"><span data-stu-id="61c21-167">To add filtering to the Students Index page:</span></span>

* <span data-ttu-id="61c21-168">텍스트 상자 및 전송 단추가 Razor 페이지에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-168">A text box and a submit button is added to the Razor Page.</span></span> <span data-ttu-id="61c21-169">텍스트 상자에서 첫 번째 또는 마지막 이름에 검색 문자열을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-169">The text box supplies a search string on the first or last name.</span></span>
* <span data-ttu-id="61c21-170">코드 숨김 파일은 텍스트 상자 값을 사용 하도록 업데이트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-170">The code-behind file is updated to use the text box value.</span></span>

### <a name="add-filtering-functionality-to-the-index-method"></a><span data-ttu-id="61c21-171">Index 메서드에 필터링 기능 추가</span><span class="sxs-lookup"><span data-stu-id="61c21-171">Add filtering functionality to the Index method</span></span>

<span data-ttu-id="61c21-172">업데이트는 *Students/Index.cshtml.cs* `OnGetAsync` 를 다음 코드로:</span><span class="sxs-lookup"><span data-stu-id="61c21-172">Update the *Students/Index.cshtml.cs* `OnGetAsync` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilter&highlight=1,5,9-13)]

<span data-ttu-id="61c21-173">위의 코드:</span><span class="sxs-lookup"><span data-stu-id="61c21-173">The preceding code:</span></span>

* <span data-ttu-id="61c21-174">추가 `searchString` 매개 변수는 `OnGetAsync` 메서드.</span><span class="sxs-lookup"><span data-stu-id="61c21-174">Adds the `searchString` parameter to the `OnGetAsync` method.</span></span> <span data-ttu-id="61c21-175">검색 문자열 값이 다음 섹션에 추가 된 텍스트 상자에서 수신 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-175">The search string value is received from a text box that is added in the next section.</span></span>
* <span data-ttu-id="61c21-176">LINQ 명령문에 추가 `Where` 절.</span><span class="sxs-lookup"><span data-stu-id="61c21-176">Added to the LINQ statement a `Where` clause.</span></span> <span data-ttu-id="61c21-177">`Where` 절 해당 이름 또는 성을 검색 문자열을 포함 하는 학생만을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-177">The `Where` clause selects only students whose first name or last name contains the search string.</span></span> <span data-ttu-id="61c21-178">LINQ 명령문에 대 한 검색 값이 있는 경우에 실행 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-178">The LINQ statement is executed only if there's a value to search for.</span></span>

<span data-ttu-id="61c21-179">참고: 위의 코드 호출은 `Where` 에서 메서드는 `IQueryable` 개체 및 필터는 서버에서 처리 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-179">Note: The preceding code calls the `Where` method on an `IQueryable` object, and the filter is processed on the server.</span></span> <span data-ttu-id="61c21-180">일부 시나리오에서는 tha 응용 프로그램을 호출 수는 `Where` 메모리 내 컬렉션에 대 한 확장 메서드이기 메서드.</span><span class="sxs-lookup"><span data-stu-id="61c21-180">In some scenarios, tha app might be calling the `Where` method as an extension method on an in-memory collection.</span></span> <span data-ttu-id="61c21-181">예를 들어 `_context.Students` EF 코어에서 변경 `DbSet` 반환 하는 저장소 메서드에 `IEnumerable` 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-181">For example, suppose `_context.Students` changes from EF Core `DbSet` to a repository method that returns an `IEnumerable` collection.</span></span> <span data-ttu-id="61c21-182">결과 일반적으로 동일 하지만 경우에 따라 다를 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-182">The result would normally be the same but in some cases may be different.</span></span>

<span data-ttu-id="61c21-183">예를 들어의.NET Framework 구현은 `Contains` 기본적으로 대/소문자 구분 비교를 수행 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-183">For example, the .NET Framework implementation of `Contains` performs a case-sensitive comparison by default.</span></span> <span data-ttu-id="61c21-184">SQL Server에서 `Contains` 대/소문자 구분 SQL Server 인스턴스의 데이터 정렬 설정에 의해 결정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-184">In SQL Server, `Contains` case-sensitivity is determined by the collation setting of the SQL Server instance.</span></span> <span data-ttu-id="61c21-185">SQL Serve 기본적으로 대/소문자 구분 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-185">SQL Serve defaults to case-insensitive.</span></span> <span data-ttu-id="61c21-186">`ToUpper`명시적으로 대/소문자 구분 테스트를 호출할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-186">`ToUpper` could be called to make the test explicitly case-insensitive:</span></span>

`Where(s => s.LastName.ToUpper().Contains(searchString.ToUpper())`

<span data-ttu-id="61c21-187">위의 코드는 확인 결과 대/소문자를 사용 하는 코드가 변경 하는 경우 `IEnumerable`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-187">The preceding code would ensure that results are case-insensitive if the code changes to use `IEnumerable`.</span></span> <span data-ttu-id="61c21-188">때 `Contains` 라고 하는 `IEnumerable` 컬렉션,.NET Core 구현이 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-188">When `Contains` is called on an `IEnumerable` collection, the .NET Core implementation is used.</span></span> <span data-ttu-id="61c21-189">때 `Contains` 라고 하는 `IQueryable` 개체, 데이터베이스 구현이 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-189">When `Contains` is called on an `IQueryable` object, the database implementation is used.</span></span> <span data-ttu-id="61c21-190">반환 된 `IEnumerable` 리포지토리에서 상당한 성능 조기 결제 수수료를 가질 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-190">Returning an `IEnumerable` from a repository can have a significant performance penality:</span></span>

1. <span data-ttu-id="61c21-191">DB 서버에서 모든 행 반환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-191">All the rows are returned from the DB server.</span></span>
1. <span data-ttu-id="61c21-192">필터는 응용 프로그램에서 반환된 된 모든 행에 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-192">The filter is applied to all the returned rows in the application.</span></span>

<span data-ttu-id="61c21-193">호출에 대 한 성능 저하는 `ToUpper`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-193">There is a performance penalty for calling `ToUpper`.</span></span> <span data-ttu-id="61c21-194">`ToUpper` 코드 TSQL SELECT 문의 WHERE 절에 함수를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-194">The `ToUpper` code adds a function in the WHERE clause of the TSQL SELECT statement.</span></span> <span data-ttu-id="61c21-195">추가 된 함수는 인덱스를 사용 하 여 최적화 프로그램을 방지 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-195">The added function prevents the optimizer from using an index.</span></span> <span data-ttu-id="61c21-196">SQL 대/소문자 비구분으로 설치 되어 있다고 가정 것이 좋습니다는 `ToUpper` 필요 하지 않은 경우 호출 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-196">Given that SQL is installed as case-insensitive, it's best to avoid the `ToUpper` call when it's not needed.</span></span>

### <a name="add-a-search-box-to-the-student-index-view"></a><span data-ttu-id="61c21-197">검색 상자 학생 인덱스 뷰를 추가</span><span class="sxs-lookup"><span data-stu-id="61c21-197">Add a Search Box to the Student Index View</span></span>

<span data-ttu-id="61c21-198">*Views/Student/Index.cshtml*, 다음 강조 표시 된 코드를 추가 **검색** 단추와 다양 한 크롬 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-198">In *Views/Student/Index.cshtml*, add the following highlighted code to create a **Search** button and assorted chrome.</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index3.cshtml?highlight=14-23&range=1-25)]

<span data-ttu-id="61c21-199">앞의 코드를 사용 하 여는 `<form>` [태그 도우미](xref:mvc/views/tag-helpers/intro) 검색 텍스트 상자 및 단추를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-199">The preceding code uses the `<form>` [tag helper](xref:mvc/views/tag-helpers/intro) to add the search text box and button.</span></span> <span data-ttu-id="61c21-200">기본적으로는 `<form>` 태그 도우미는 POST로 양식 데이터를 전송 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-200">By default, the `<form>` tag helper submits form data with a POST.</span></span> <span data-ttu-id="61c21-201">Post, 매개 변수는 URL 및 HTTP 메시지 본문에 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-201">With POST, the parameters are passed in the HTTP message body and not in the URL.</span></span> <span data-ttu-id="61c21-202">HTTP GET을 사용 하는 양식 데이터 URL에 쿼리 문자열로 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-202">When HTTP GET is used, the form data is passed in the URL as query strings.</span></span> <span data-ttu-id="61c21-203">URL에 책갈피를 사용 하면 쿼리 문자열을 사용 하 여 데이터를 전달 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-203">Passing the data with query strings enables users to bookmark the URL.</span></span> <span data-ttu-id="61c21-204">[W3C 지침](https://www.w3.org/2001/tag/doc/whenToUseGet.html) 작업이 업데이트 되지 않습니다 경우 GET를 사용 해야 하는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-204">The [W3C guidelines](https://www.w3.org/2001/tag/doc/whenToUseGet.html) recommend that GET should be used when the action does not result in an update.</span></span>

<span data-ttu-id="61c21-205">앱을 테스트 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-205">Test the app:</span></span>

* <span data-ttu-id="61c21-206">선택 된 **학생** 탭 하 고 검색 문자열을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-206">Select the **Students** tab and enter a search string.</span></span>
* <span data-ttu-id="61c21-207">선택 **검색**합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-207">Select **Search**.</span></span>

<span data-ttu-id="61c21-208">검색 문자열은 URL에 포함 되어 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-208">Notice that the URL contains the search string.</span></span>

```html
http://localhost:5000/Students?SearchString=an
```

<span data-ttu-id="61c21-209">책갈피 페이지에 대 한 URL이 포함 된 페이지의 책갈피가 설정 하는 경우와 `SearchString` 쿼리 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-209">If the page is bookmarked, the bookmark contains the URL to the page and the `SearchString` query string.</span></span> <span data-ttu-id="61c21-210">`method="get"` 에 `form` 태그는 원인을 쿼리 문자열을 생성할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-210">The `method="get"` in the `form` tag is what caused the query string to be generated.</span></span>

<span data-ttu-id="61c21-211">현재 열 머리글 정렬 링크 옵션을 선택 하면 필터 값에서 **검색** 상자 손실 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-211">Currently, when a column heading sort link is selected, the filter value from the **Search** box is lost.</span></span> <span data-ttu-id="61c21-212">손실 된 필터 값은 다음 섹션에서 고정 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-212">The lost filter value is fixed in the next section.</span></span>

## <a name="add-paging-functionality-to-the-students-index-page"></a><span data-ttu-id="61c21-213">학생 인덱스 페이지에 페이징 기능을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-213">Add paging functionality to the Students Index page</span></span>

<span data-ttu-id="61c21-214">이 섹션에서는 `PaginatedList` 페이징을 지원 하기 위해 클래스가 만들어집니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-214">In this section, a `PaginatedList` class is created to support paging.</span></span> <span data-ttu-id="61c21-215">`PaginatedList` 사용 하 여 `Skip` 및 `Take` 문은 테이블의 모든 행을 검색 하는 대신 서버에서 데이터를 필터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-215">The `PaginatedList` class uses `Skip` and `Take` statements to filter data on the server instead of retrieving all rows of the table.</span></span> <span data-ttu-id="61c21-216">다음 그림에는 페이징 단추가 나와 있습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-216">The following illustration shows the paging buttons.</span></span>

![학생 인덱스 페이징 링크가 있는 페이지](sort-filter-page/_static/paging.png)

<span data-ttu-id="61c21-218">프로젝트 폴더에서 만들 `PaginatedList.cs` 를 다음 코드로:</span><span class="sxs-lookup"><span data-stu-id="61c21-218">In the project folder, create `PaginatedList.cs` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/PaginatedList.cs)]

<span data-ttu-id="61c21-219">`CreateAsync` 위의 코드에서 메서드는 페이지 크기 및 페이지 번호를 사용 하 고 적절 한 적용 `Skip` 및 `Take` 문을 `IQueryable`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-219">The `CreateAsync` method in the preceding code takes page size and page number and applies the appropriate `Skip` and `Take` statements to the `IQueryable`.</span></span> <span data-ttu-id="61c21-220">때 `ToListAsync` 라고 하는 `IQueryable`, 요청된 된 페이지를 포함 하는 목록을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-220">When `ToListAsync` is called on the `IQueryable`, it returns a List containing only the requested page.</span></span> <span data-ttu-id="61c21-221">속성 `HasPreviousPage` 및 `HasNextPage` 설정 또는 해제 하는 데 사용 된 **이전** 및 **다음** 단추 페이징 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-221">The properties `HasPreviousPage` and `HasNextPage` are used to enable or disable **Previous** and **Next** paging buttons.</span></span>

<span data-ttu-id="61c21-222">`CreateAsync` 메서드 만드는 데 사용 되는 `PaginatedList<T>`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-222">The `CreateAsync` method is used to create the `PaginatedList<T>`.</span></span> <span data-ttu-id="61c21-223">생성자를 만들 수 없습니다는 `PaginatedList<T>` 개체 생성자는 비동기 코드를 실행할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-223">A constructor can't create the `PaginatedList<T>` object, constructors can't run asynchronous code.</span></span>

## <a name="add-paging-functionality-to-the-index-method"></a><span data-ttu-id="61c21-224">인덱스 메서드에 페이징 기능을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-224">Add paging functionality to the Index method</span></span>

<span data-ttu-id="61c21-225">*Students/Index.cshtml.cs*, 유형을 업데이트 `Student` 에서 `IList<Student>` 를 `PaginatedList<Student>`:</span><span class="sxs-lookup"><span data-stu-id="61c21-225">In *Students/Index.cshtml.cs*, update the type of `Student` from `IList<Student>` to `PaginatedList<Student>`:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPageType)]

<span data-ttu-id="61c21-226">업데이트는 *Students/Index.cshtml.cs* `OnGetAsync` 를 다음 코드로:</span><span class="sxs-lookup"><span data-stu-id="61c21-226">Update the *Students/Index.cshtml.cs* `OnGetAsync` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage&highlight=1-4,7-14,41-)]

<span data-ttu-id="61c21-227">현재 페이지 인덱스를 추가 하는 위의 코드 `sortOrder`, 및 `currentFilter` 메서드 서명을 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-227">The preceding code adds the page index, the current `sortOrder`, and the `currentFilter` to the method signature.</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage2)]

<span data-ttu-id="61c21-228">모든 매개 변수는 다음 경우에 null:</span><span class="sxs-lookup"><span data-stu-id="61c21-228">All the parameters are null when:</span></span>

* <span data-ttu-id="61c21-229">페이지에서 호출 되는 **학생** 링크 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-229">The page is called from the **Students** link.</span></span>
* <span data-ttu-id="61c21-230">사용자는 페이징 또는 정렬 링크 클릭 하지 않았습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-230">The user hasn't clicked a paging or sorting link.</span></span>

<span data-ttu-id="61c21-231">페이징 링크를 클릭 하면 페이지 인덱스 변수는 표시할 페이지 번호를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-231">When a paging link is clicked, the page index variable contains the page number to display.</span></span>

<span data-ttu-id="61c21-232">`CurrentSort`현재 정렬 순서 Razor 페이지를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-232">`CurrentSort` provides the Razor Page with the current sort order.</span></span> <span data-ttu-id="61c21-233">현재 정렬 순서를 페이징 하는 동안 정렬 순서를 유지 하려면 페이징 링크에 포함 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-233">The current sort order must be included in the paging links to keep the sort order while paging.</span></span>

<span data-ttu-id="61c21-234">`CurrentFilter`현재 필터 문자열로 Razor 페이지를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-234">`CurrentFilter` provides the Razor Page with the current filter string.</span></span> <span data-ttu-id="61c21-235">`CurrentFilter` 값:</span><span class="sxs-lookup"><span data-stu-id="61c21-235">The `CurrentFilter` value:</span></span>

* <span data-ttu-id="61c21-236">페이징 하는 동안 필터 설정을 유지 하기 위해 페이징 링크에 포함 되어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-236">Must be included in the paging links in order to maintain the filter settings during paging.</span></span>
* <span data-ttu-id="61c21-237">페이지 다시 표시 하는 경우 텍스트 상자에 복원 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-237">Must be restored to the text box when the page is redisplayed.</span></span>

<span data-ttu-id="61c21-238">검색 문자열 페이징 하는 동안 변경 되 면 페이지 1로 다시 설정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-238">If the search string is changed while paging, the page is reset to 1.</span></span> <span data-ttu-id="61c21-239">페이지에서 표시할 다른 데이터를 새 필터 발생할 수 있기 때문에 1로 다시 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-239">The page has to be reset to 1 because the new filter can result in different data to display.</span></span> <span data-ttu-id="61c21-240">검색 값을 입력 하는 경우 및 **전송** 을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-240">When a search value is entered and **Submit** is selected:</span></span>

* <span data-ttu-id="61c21-241">검색 문자열이 변경 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-241">The search string is changed.</span></span>
* <span data-ttu-id="61c21-242">`searchString` 매개 변수는 null입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-242">The `searchString` parameter is not null.</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage3)]

<span data-ttu-id="61c21-243">`PaginatedList.CreateAsync` 메서드 학생 페이징을 지원 되는 컬렉션 형식에는 단일 페이지로 학생 쿼리를 변환 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-243">The `PaginatedList.CreateAsync` method converts the student query to a single page of students in a collection type that supports paging.</span></span> <span data-ttu-id="61c21-244">학생 들의 해당 단일 페이지 Razor 페이지에 전달 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-244">That single page of students is passed to the Razor Page.</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage4)]

<span data-ttu-id="61c21-245">두 물음표 `PaginatedList.CreateAsync` 나타냅니다는 [null 병합 연산자](https://docs.microsoft.com/ dotnet/csharp/language-reference/operators/null-conditional-operator)합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-245">The two question marks in `PaginatedList.CreateAsync` represent the [null-coalescing operator](https://docs.microsoft.com/ dotnet/csharp/language-reference/operators/null-conditional-operator).</span></span> <span data-ttu-id="61c21-246">Null 병합 연산자는 null 허용 형식에 대 한 기본값을 정의합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-246">The null-coalescing operator defines a default value for a nullable type.</span></span> <span data-ttu-id="61c21-247">식 `(pageIndex ?? 1)` 의 값을 반환 하는 수단 `pageIndex` 값이 있는 경우.</span><span class="sxs-lookup"><span data-stu-id="61c21-247">The expression `(pageIndex ?? 1)` means return the value of `pageIndex` if it has a value.</span></span> <span data-ttu-id="61c21-248">경우 `pageIndex` 값, 1을 반환 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-248">If `pageIndex` doesn't have a value, return 1.</span></span>

## <a name="add-paging-links-to-the-student-razor-page"></a><span data-ttu-id="61c21-249">Razor 페이지 학생에 페이징 링크 추가</span><span class="sxs-lookup"><span data-stu-id="61c21-249">Add paging links to the student Razor Page</span></span>

<span data-ttu-id="61c21-250">태그가 업데이트 *Students/Index.cshtml*합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-250">Update the markup in *Students/Index.cshtml*.</span></span> <span data-ttu-id="61c21-251">변경 내용은 강조 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-251">The changes are highlighted:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index.cshtml?highlight=28-31,37-40,68-)]

<span data-ttu-id="61c21-252">열 머리글 링크 쿼리 문자열을 사용 하 여 현재 검색 문자열을 전달 하는 `OnGetAsync` 메서드 사용자 필터 결과 내에서 정렬할 수 있도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-252">The column header links use the query string to pass the current search string to the `OnGetAsync` method so that the user can sort within filter results:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index.cshtml?range=28-31)]

<span data-ttu-id="61c21-253">태그 도우미에서 페이징 단추가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-253">The paging buttons are displayed by tag helpers:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index.cshtml?range=72-)]

<span data-ttu-id="61c21-254">응용 프로그램을 실행 하 고 학생 페이지로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-254">Run the app and navigate to the students page.</span></span>

* <span data-ttu-id="61c21-255">있는지 페이징 작동을 위해 서로 다른 정렬 순서에서 페이징 링크를 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-255">To make sure paging works, click the paging links in different sort orders.</span></span>
* <span data-ttu-id="61c21-256">정렬 및 필터링 된 페이징 올바르게 작동 하는지 확인 하려면 검색 문자열을 입력 페이징을 시도 하십시오.</span><span class="sxs-lookup"><span data-stu-id="61c21-256">To verify that paging works correctly with sorting and filtering, enter a search string and try paging.</span></span>

![학생 인덱스 페이징 링크가 있는 페이지](sort-filter-page/_static/paging.png)

<span data-ttu-id="61c21-258">코드를 더 잘 이해 하려면 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-258">To get a better understanding of the code:</span></span>

* <span data-ttu-id="61c21-259">*Student/Index.cshtml.cs*에 중단점을 설정 `switch (sortOrder)`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-259">In *Student/Index.cshtml.cs*, set a breakpoint on `switch (sortOrder)`.</span></span>
* <span data-ttu-id="61c21-260">에 대 한 조사식을 추가 `NameSort`, `DateSort`, `CurrentSort`, 및 `Model.Student.PageIndex`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-260">Add a watch for `NameSort`, `DateSort`, `CurrentSort`, and `Model.Student.PageIndex`.</span></span>
* <span data-ttu-id="61c21-261">*Student/Index.cshtml*에 중단점을 설정 `@Html.DisplayNameFor(model => model.Student[0].LastName)`합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-261">In *Student/Index.cshtml*, set a breakpoint on `@Html.DisplayNameFor(model => model.Student[0].LastName)`.</span></span>

<span data-ttu-id="61c21-262">디버거 단계별로 실행 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-262">Step through the debugger.</span></span>

## <a name="update-the-about-page-to-show-student-statistics"></a><span data-ttu-id="61c21-263">학생 통계를 표시 하도록 정보 페이지를 업데이트</span><span class="sxs-lookup"><span data-stu-id="61c21-263">Update the About page to show student statistics</span></span>

<span data-ttu-id="61c21-264">이 단계에서는 *Pages/About.cshtml* 각 등록 날짜에 대해 등록 한 학생 수를 표시 하도록 업데이트 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-264">In this step, *Pages/About.cshtml* is updated to display how many students have enrolled for each enrollment date.</span></span> <span data-ttu-id="61c21-265">업데이트는 그룹화를 사용 하며 다음 단계로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-265">The update uses grouping, and includes the following steps:</span></span>

* <span data-ttu-id="61c21-266">사용 되는 데이터에 대 한 보기 모델 클래스 만들기는 **에 대 한** 페이지.</span><span class="sxs-lookup"><span data-stu-id="61c21-266">Create a view model class for the data used by the **About** Page.</span></span>
* <span data-ttu-id="61c21-267">Razor 페이지에 대 한 및 코드 숨김 파일을 수정 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-267">Modify the About Razor Page and code-behind file.</span></span>

### <a name="create-the-view-model"></a><span data-ttu-id="61c21-268">뷰 모델 만들기</span><span class="sxs-lookup"><span data-stu-id="61c21-268">Create the view model</span></span>

<span data-ttu-id="61c21-269">만들기는 *SchoolViewModels* 폴더에는 *모델* 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-269">Create a *SchoolViewModels* folder in the *Models* folder.</span></span>

<span data-ttu-id="61c21-270">에 *SchoolViewModels* 폴더를 추가 *EnrollmentDateGroup.cs* 를 다음 코드로:</span><span class="sxs-lookup"><span data-stu-id="61c21-270">In the *SchoolViewModels* folder, add a *EnrollmentDateGroup.cs* with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Models/SchoolViewModels/EnrollmentDateGroup.cs)]

### <a name="update-the-about-code-behind-page"></a><span data-ttu-id="61c21-271">업데이트 정보 코드 숨김 페이지</span><span class="sxs-lookup"><span data-stu-id="61c21-271">Update the About code-behind page</span></span>

<span data-ttu-id="61c21-272">업데이트는 *Pages/About.cshtml.cs* 를 다음 코드로 파일:</span><span class="sxs-lookup"><span data-stu-id="61c21-272">Update the *Pages/About.cshtml.cs* file with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/About.cshtml.cs)]

<span data-ttu-id="61c21-273">LINQ 명령문 학생 엔터티 등록 날짜별으로 그룹화 각 그룹에 있는 엔터티 수를 계산 하 고 컬렉션의 결과 저장할지 `EnrollmentDateGroup` 모델 개체를 보고 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-273">The LINQ statement groups the student entities by enrollment date, calculates the number of entities in each group, and stores the results in a collection of `EnrollmentDateGroup` view model objects.</span></span>

<span data-ttu-id="61c21-274">참고: LINQ `group` 명령 EF 코어에서 현재 지원 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-274">Note: The LINQ `group` command isn't currently supported by EF Core.</span></span> <span data-ttu-id="61c21-275">위의 코드에서 모든 학생 레코드는 SQL Server에서 반환 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-275">In the preceding code, all the student records are returned from SQL Server.</span></span> <span data-ttu-id="61c21-276">`group` 명령은 SQL 서버에 없는 Razor 페이지 응용 프로그램에 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-276">The `group` command is applied in the Razor Pages app, not on the SQL Server.</span></span> <span data-ttu-id="61c21-277">EF 코어 2.1이이 LINQ 지원할 `group` SQL Server에서 발생 하는 연산자와 그룹화 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-277">EF Core 2.1 will support this LINQ `group` operator, and the grouping occurs on the SQL Server.</span></span> <span data-ttu-id="61c21-278">참조 [관계: to SQL groupby () 함수의 변환 하는 기능이 지원](https://github.com/aspnet/EntityFrameworkCore/issues/2341)합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-278">See [Relational: Support translating GroupBy() to SQL](https://github.com/aspnet/EntityFrameworkCore/issues/2341).</span></span> <span data-ttu-id="61c21-279">[EF 코어 2.1](https://github.com/aspnet/EntityFrameworkCore/wiki/roadmap) .NET Core 2.1을 사용 하 여 해제 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-279">[EF Core 2.1](https://github.com/aspnet/EntityFrameworkCore/wiki/roadmap) will be released with .NET Core 2.1.</span></span> <span data-ttu-id="61c21-280">자세한 내용은 참조는 [.NET Core 로드맵](https://github.com/dotnet/core/blob/master/roadmap.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-280">For more information, see the [.NET Core Roadmap](https://github.com/dotnet/core/blob/master/roadmap.md).</span></span>

### <a name="modify-the-about-razor-page"></a><span data-ttu-id="61c21-281">수정 된 Razor 페이지에 대 한</span><span class="sxs-lookup"><span data-stu-id="61c21-281">Modify the About Razor Page</span></span>

<span data-ttu-id="61c21-282">코드는 *Views/Home/About.cshtml* 를 다음 코드로 파일:</span><span class="sxs-lookup"><span data-stu-id="61c21-282">Replace the code in the *Views/Home/About.cshtml* file with the following code:</span></span>

[!code-html[](intro/samples/cu/Pages/About.cshtml)]

<span data-ttu-id="61c21-283">응용 프로그램을 실행 하 고 정보 페이지로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-283">Run the app and navigate to the About page.</span></span> <span data-ttu-id="61c21-284">각 등록 날짜에 대 한 학생 수는 테이블에 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-284">The count of students for each enrollment date is displayed in a table.</span></span>

<span data-ttu-id="61c21-285">문제를 해결할 수 없는를 실행 하는 경우 다운로드는 [이 단계에 대 한 완성 된 앱](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting)합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-285">If you run into problems you can't solve, download the [completed app for this stage](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting).</span></span>

![페이지 정보](sort-filter-page/_static/about.png)

## <a name="additional-resources"></a><span data-ttu-id="61c21-287">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="61c21-287">Additional Resources</span></span>

* [<span data-ttu-id="61c21-288">ASP.NET Core 2.x 소스 디버깅</span><span class="sxs-lookup"><span data-stu-id="61c21-288">Debugging ASP.NET Core 2.x source</span></span>](https://github.com/aspnet/Docs/issues/4155)

<span data-ttu-id="61c21-289">다음 자습서 응용 프로그램 마이그레이션을 사용 하 여 데이터 모델을 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="61c21-289">In the next tutorial, the app uses migrations to update the data model.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="61c21-290">[이전](xref:data/ef-rp/crud)
[다음](xref:data/ef-rp/migrations)</span><span class="sxs-lookup"><span data-stu-id="61c21-290">[Previous](xref:data/ef-rp/crud)
[Next](xref:data/ef-rp/migrations)</span></span>