---
uid: mvc/overview/performance/bundling-and-minification
title: "묶음 및 축소 | Microsoft Docs"
author: Rick-Anderson
description: "묶음 및 축소는 다음 두 가지 기술 요청 부하 시간을 개선 하기 위해 ASP.NET 4.5에서 사용할 수 있습니다. 묶음 및 축소 reducin 여 로드 시간 개선 중..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 08/23/2012
ms.topic: article
ms.assetid: 5894dc13-5d45-4dad-8096-136499120f1d
ms.technology: dotnet-mvc
ms.prod: .net-framework
msc.legacyurl: /mvc/overview/performance/bundling-and-minification
msc.type: authoredcontent
ms.openlocfilehash: e83be2446ef1e3ff1275d06d5b743fb5b9444a6a
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/10/2017
---
<a name="bundling-and-minification"></a><span data-ttu-id="1ad7a-104">묶음 및 축소</span><span class="sxs-lookup"><span data-stu-id="1ad7a-104">Bundling and Minification</span></span>
====================
<span data-ttu-id="1ad7a-105">으로 [Rick Anderson](https://github.com/Rick-Anderson)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-105">by [Rick Anderson](https://github.com/Rick-Anderson)</span></span>

> <span data-ttu-id="1ad7a-106">묶음 및 축소는 다음 두 가지 기술 요청 부하 시간을 개선 하기 위해 ASP.NET 4.5에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-106">Bundling and minification are two techniques you can use in ASP.NET 4.5 to improve request load time.</span></span> <span data-ttu-id="1ad7a-107">묶음 및 축소 서버에 요청 수를 줄이면 및 (예: CSS 및 JavaScript.) 요청 된 자산의 크기 감소 하 여 로드 시간 개선</span><span class="sxs-lookup"><span data-stu-id="1ad7a-107">Bundling and minification improves load time by reducing the number of requests to the server and reducing the size of requested assets (such as CSS and JavaScript.)</span></span>


<span data-ttu-id="1ad7a-108">수를 제한 하는 대부분의 현재 주요 브라우저 [동시 연결](http://www.browserscope.org/?category=network) 당 6 개의 각 호스트 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-108">Most of the current major browsers limit the number of [simultaneous connections](http://www.browserscope.org/?category=network) per each hostname to six.</span></span> <span data-ttu-id="1ad7a-109">즉, 처리 되는 6 개의 요청 하는 동안 호스트에는 자산에 대 한 추가 요청은 브라우저에서 대기 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-109">That means that while six requests are being processed, additional requests for assets on a host will be queued by the browser.</span></span> <span data-ttu-id="1ad7a-110">아래 그림에서는 IE F12 개발자 도구 네트워크 탭에서는 샘플 응용 프로그램의 정보 보기에 필요한 자산에 대 한 타이밍을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-110">In the image below, the IE F12 developer tools network tabs shows the timing for assets required by the About view of a sample application.</span></span>

![M B /](bundling-and-minification/_static/image1.png)

<span data-ttu-id="1ad7a-112">회색 막대는 6 개 연결 제한에서 대기 하는 브라우저에서 요청은 큐에 대기 시간을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-112">The gray bars show the time the request is queued by the browser waiting on the six connection limit.</span></span> <span data-ttu-id="1ad7a-113">노란색 막대는 첫 번째 바이트에는 요청 시간 즉, 요청을 보내고 서버에서 첫 번째 응답을 수신 하는 데 걸린 시간입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-113">The yellow bar is the request time to first byte, that is, the time taken to send the request and receive the first response from the server.</span></span> <span data-ttu-id="1ad7a-114">파란색 막대는 서버에서 응답 데이터를 수신 하는 데 걸린 시간을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-114">The blue bars show the time taken to receive the response data from the server.</span></span> <span data-ttu-id="1ad7a-115">자세한 타이밍 정보를 얻으려면 자산에 대해 두 번 클릭 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-115">You can double-click on an asset to get detailed timing information.</span></span> <span data-ttu-id="1ad7a-116">다음 이미지는 로드에 대 한 타이밍 정보를 표시 하는 예를 들어는 */Scripts/MyScripts/JavaScript6.js* 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-116">For example, the following image shows the timing details for loading the */Scripts/MyScripts/JavaScript6.js* file.</span></span>

![](bundling-and-minification/_static/image2.png)

<span data-ttu-id="1ad7a-117">위의 그림과 **시작** 동시 연결 수를 제한 하는 요청 브라우저 인해 큐에 지정 된 시간을 제공 하는 이벤트입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-117">The preceding image shows the **Start** event, which gives the time the request was queued because of the browser limit the number of simultaneous connections.</span></span> <span data-ttu-id="1ad7a-118">이 경우 요청 46 밀리초 다른 요청을 완료를 기다리는 동안 대기한 날짜입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-118">In this case, the request was queued for 46 milliseconds waiting for another request to complete.</span></span>

## <a name="bundling"></a><span data-ttu-id="1ad7a-119">번들</span><span class="sxs-lookup"><span data-stu-id="1ad7a-119">Bundling</span></span>

<span data-ttu-id="1ad7a-120">번들은 결합 하거나 단일 파일에 여러 파일을 번들로 쉽게 수 있도록 ASP.NET 4.5의 새로운 기능입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-120">Bundling is a new feature in ASP.NET 4.5 that makes it easy to combine or bundle multiple files into a single file.</span></span> <span data-ttu-id="1ad7a-121">CSS, JavaScript 및 다른 번들을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-121">You can create CSS, JavaScript and other bundles.</span></span> <span data-ttu-id="1ad7a-122">파일 수를 줄인 있고 더 적은 HTTP 요청에 첫 번째 페이지 로드 성능을 향상 시킬 수를 의미 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-122">Fewer files means fewer HTTP requests and that can improve first page load performance.</span></span>

<span data-ttu-id="1ad7a-123">다음 이미지는 이전에 있지만이 이번에는 묶음 및 축소를 사용할 수를 표시 된 정보 보기의 동일한 타이밍 보기를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-123">The following image shows the same timing view of the About view shown previously, but this time with bundling and minification enabled.</span></span>

![](bundling-and-minification/_static/image3.png)

## <a name="minification"></a><span data-ttu-id="1ad7a-124">축소</span><span class="sxs-lookup"><span data-stu-id="1ad7a-124">Minification</span></span>

<span data-ttu-id="1ad7a-125">다양 한 스크립트 또는 불필요 한 공백 및 메모를 제거 하 고 한 문자를 변수 이름을 단축 같은 css 서로 다른 코드 최적화를 수행 하는 축소 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-125">Minification performs a variety of different code optimizations to scripts or css, such as removing unnecessary white space and comments and shortening variable names to one character.</span></span> <span data-ttu-id="1ad7a-126">다음 JavaScript 함수를 살펴보세요.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-126">Consider the following JavaScript function.</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample1.js)]

<span data-ttu-id="1ad7a-127">축소 후 함수가 다음과 감소 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-127">After minification, the function is reduced to the following:</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample2.js)]

<span data-ttu-id="1ad7a-128">주석 및 불필요 한 공백을 제거 하는 것 외에도 다음 매개 변수 및 변수 이름은 열의 이름을 (축약 됨) 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-128">In addition to removing the comments and unnecessary whitespace, the following parameters and variable names were renamed (shortened) as follows:</span></span>

| <span data-ttu-id="1ad7a-129">**원문 언어**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-129">**Original**</span></span> | <span data-ttu-id="1ad7a-130">**이름이 변경**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-130">**Renamed**</span></span> |
| --- | --- |
| <span data-ttu-id="1ad7a-131">imageTagAndImageID</span><span class="sxs-lookup"><span data-stu-id="1ad7a-131">imageTagAndImageID</span></span> | n |
| <span data-ttu-id="1ad7a-132">이미지 컨텍스트</span><span class="sxs-lookup"><span data-stu-id="1ad7a-132">imageContext</span></span> | <span data-ttu-id="1ad7a-133">t</span><span class="sxs-lookup"><span data-stu-id="1ad7a-133">t</span></span> |
| <span data-ttu-id="1ad7a-134">imageElement</span><span class="sxs-lookup"><span data-stu-id="1ad7a-134">imageElement</span></span> | <span data-ttu-id="1ad7a-135">i</span><span class="sxs-lookup"><span data-stu-id="1ad7a-135">i</span></span> |

## <a name="impact-of-bundling-and-minification"></a><span data-ttu-id="1ad7a-136">번들의 영향 및 축소</span><span class="sxs-lookup"><span data-stu-id="1ad7a-136">Impact of Bundling and Minification</span></span>

<span data-ttu-id="1ad7a-137">다음 표에서 모든 자산을 개별적으로 나열 하 고 샘플 프로그램에서 묶음 및 축소 (B/M)를 사용 하 여 간의 몇 가지 중요 한 차이점을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-137">The following table shows several important differences between listing all the assets individually and using bundling and minification (B/M) in the sample program.</span></span>

|  | <span data-ttu-id="1ad7a-138">**M B/를 사용 하 여**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-138">**Using B/M**</span></span> | <span data-ttu-id="1ad7a-139">**M B/없이**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-139">**Without B/M**</span></span> | <span data-ttu-id="1ad7a-140">**변경**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-140">**Change**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="1ad7a-141">**파일 요청**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-141">**File Requests**</span></span> | <span data-ttu-id="1ad7a-142">9</span><span class="sxs-lookup"><span data-stu-id="1ad7a-142">9</span></span> | <span data-ttu-id="1ad7a-143">34</span><span class="sxs-lookup"><span data-stu-id="1ad7a-143">34</span></span> | <span data-ttu-id="1ad7a-144">256%</span><span class="sxs-lookup"><span data-stu-id="1ad7a-144">256%</span></span> |
| <span data-ttu-id="1ad7a-145">**보낸 KB**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-145">**KB Sent**</span></span> | <span data-ttu-id="1ad7a-146">3.26</span><span class="sxs-lookup"><span data-stu-id="1ad7a-146">3.26</span></span> | <span data-ttu-id="1ad7a-147">11.92</span><span class="sxs-lookup"><span data-stu-id="1ad7a-147">11.92</span></span> | <span data-ttu-id="1ad7a-148">266%</span><span class="sxs-lookup"><span data-stu-id="1ad7a-148">266%</span></span> |
| <span data-ttu-id="1ad7a-149">**받은 KB**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-149">**KB Received**</span></span> | <span data-ttu-id="1ad7a-150">388.51</span><span class="sxs-lookup"><span data-stu-id="1ad7a-150">388.51</span></span> | <span data-ttu-id="1ad7a-151">530</span><span class="sxs-lookup"><span data-stu-id="1ad7a-151">530</span></span> | <span data-ttu-id="1ad7a-152">36%</span><span class="sxs-lookup"><span data-stu-id="1ad7a-152">36%</span></span> |
| <span data-ttu-id="1ad7a-153">**로드 시간**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-153">**Load Time**</span></span> | <span data-ttu-id="1ad7a-154">510 MS</span><span class="sxs-lookup"><span data-stu-id="1ad7a-154">510 MS</span></span> | <span data-ttu-id="1ad7a-155">780 MS</span><span class="sxs-lookup"><span data-stu-id="1ad7a-155">780 MS</span></span> | <span data-ttu-id="1ad7a-156">53%</span><span class="sxs-lookup"><span data-stu-id="1ad7a-156">53%</span></span> |

<span data-ttu-id="1ad7a-157">보낸 바이트 브라우저 요청에 적용 되는 HTTP 헤더와 매우 자세한 정보는 번들 소프트웨어 크게 감소를 했습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-157">The bytes sent had a significant reduction with bundling as browsers are fairly verbose with the HTTP headers they apply on requests.</span></span> <span data-ttu-id="1ad7a-158">수신된 된 바이트 감소 크게있지 않습니다 때문에 가장 큰 파일 (*Scripts\jquery-ui-1.8.11.min.js* 및 *Scripts\jquery-1.7.1.min.js*) 이미 축소 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-158">The received bytes reduction is not as large because the largest files (*Scripts\jquery-ui-1.8.11.min.js* and *Scripts\jquery-1.7.1.min.js*) are already minified.</span></span> <span data-ttu-id="1ad7a-159">참고: 샘플 프로그램 사용에 대해 타이밍은 [Fiddler](http://www.fiddler2.com/fiddler2/) 느린 네트워크를 시뮬레이션 하는 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-159">Note: The timings on the sample program used the [Fiddler](http://www.fiddler2.com/fiddler2/) tool to simulate a slow network.</span></span> <span data-ttu-id="1ad7a-160">(에서 Fiddler에서 **규칙** 메뉴 선택 **성능** 다음 **모뎀 속도 시뮬레이션**.)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-160">(From the Fiddler **Rules** menu, select **Performance** then **Simulate Modem Speeds**.)</span></span>

## <a name="debugging-bundled-and-minified-javascript"></a><span data-ttu-id="1ad7a-161">번들로 제공 하 고 축소 JavaScript 디버깅</span><span class="sxs-lookup"><span data-stu-id="1ad7a-161">Debugging Bundled and Minified JavaScript</span></span>

<span data-ttu-id="1ad7a-162">개발 환경에서 JavaScript를 디버깅 하는 것이 쉽습니다 (여기서는 [compilation 요소](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx) 에 *Web.config* 파일으로 설정 되어 `debug="true"` ) JavaScript 파일은 하지 번들로 묶여 있으므로 또는 축소 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-162">It's easy to debug your JavaScript in a development environment (where the [compilation Element](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx) in the *Web.config* file is set to `debug="true"` ) because the JavaScript files are not bundled or minified.</span></span> <span data-ttu-id="1ad7a-163">JavaScript 파일은 번들로 제공 하 고 축소 릴리스 빌드를 디버그할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-163">You can also debug a release build where your JavaScript files are bundled and minified.</span></span> <span data-ttu-id="1ad7a-164">다음 방법을 사용 하 여 축소 된 번들에 포함 된 JavaScript 함수를 디버깅 IE F12 개발자 도구를 사용 하 여:</span><span class="sxs-lookup"><span data-stu-id="1ad7a-164">Using the IE F12 developer tools, you debug a JavaScript function included in a minified bundle using the following approach:</span></span>

1. <span data-ttu-id="1ad7a-165">선택 된 **스크립트** 탭을 선택한 다음는 **디버깅을 시작** 단추입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-165">Select the **Script** tab and then select the **Start debugging** button.</span></span>
2. <span data-ttu-id="1ad7a-166">자산 단추를 사용 하 여 디버깅 하려면 JavaScript 함수를 포함 하는 번들을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-166">Select the bundle containing the JavaScript function you want to debug using the assets button.</span></span>  
    ![](bundling-and-minification/_static/image4.png)
3. <span data-ttu-id="1ad7a-167">선택 하 여 축소 된 JavaScript 형식을 **구성 단추** ![](bundling-and-minification/_static/image5.png), 다음을 선택 하 고 **형식 JavaScript**합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-167">Format the minified JavaScript by selecting the **Configuration button** ![](bundling-and-minification/_static/image5.png), and then selecting **Format JavaScript**.</span></span>
4. <span data-ttu-id="1ad7a-168">에 **검색 스크립트** t 입력된 상자에서 디버깅할 함수 이름을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-168">In the **Search Scrip** t input box, select the name of the function you want to debug.</span></span> <span data-ttu-id="1ad7a-169">다음 그림에 **AddAltToImg** 에 입력 된는 **검색 스크립트** t 입력된 상자.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-169">In the following image, **AddAltToImg** was entered in the **Search Scrip** t input box.</span></span>  
    ![](bundling-and-minification/_static/image6.png)

<span data-ttu-id="1ad7a-170">F12 개발자 도구를 사용 하 여 디버깅에 대 한 자세한 내용은 MSDN 문서를 참조 하십시오. [JavaScript 오류 디버그를 F12 개발자 도구를 사용 하 여](https://msdn.microsoft.com/en-us/library/ie/gg699336(v=vs.85).aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-170">For more information on debugging with the F12 developer tools, see the MSDN article [Using the F12 Developer Tools to Debug JavaScript Errors](https://msdn.microsoft.com/en-us/library/ie/gg699336(v=vs.85).aspx).</span></span>

## <a name="controlling-bundling-and-minification"></a><span data-ttu-id="1ad7a-171">제어 묶음 및 축소</span><span class="sxs-lookup"><span data-stu-id="1ad7a-171">Controlling Bundling and Minification</span></span>

<span data-ttu-id="1ad7a-172">묶음 및 축소를 사용 하도록 설정 하거나에서 디버그 특성의 값을 설정 하 여 사용할 수는 [compilation 요소](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx) 에 *Web.config* 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-172">Bundling and minification is enabled or disabled by setting the value of the debug attribute in the [compilation Element](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx)  in the *Web.config* file.</span></span> <span data-ttu-id="1ad7a-173">다음 xml에서 `debug` 가 있으므로 true로 설정 묶음 및 축소를 사용 하지 않도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-173">In the following XML, `debug` is set to true so bundling and minification is disabled.</span></span>

[!code-xml[Main](bundling-and-minification/samples/sample3.xml?highlight=2)]

<span data-ttu-id="1ad7a-174">묶음 및 축소를 사용 하려면 설정는 `debug` 값을 "false"입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-174">To enable bundling and minification, set the `debug` value to "false".</span></span> <span data-ttu-id="1ad7a-175">재정의할 수 있습니다는 *Web.config* 사용 하 여 설정 된 `EnableOptimizations` 속성에는 `BundleTable` 클래스.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-175">You can override the *Web.config* setting with the `EnableOptimizations` property on the `BundleTable` class.</span></span> <span data-ttu-id="1ad7a-176">다음 코드에서는 묶음 및 축소를 사용 하도록 설정 하 고의 모든 설정을 재정의 *Web.config* 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-176">The following code enables bundling and minification and overrides any setting in the *Web.config* file.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample4.cs?highlight=7)]

> [!NOTE]
> <span data-ttu-id="1ad7a-177">하지 않는 한 `EnableOptimizations` 은 `true` 또는 디버그 특성에는 [compilation 요소](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx) 에 *Web.config* 파일으로 설정 되어 `false`, 파일을 번들로 제공 되거나 축소 되지 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-177">Unless `EnableOptimizations` is `true` or the debug attribute in the [compilation Element](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx)  in the *Web.config* file is set to `false`, files will not be bundled or minified.</span></span> <span data-ttu-id="1ad7a-178">또한.min 버전의 파일 사용 되지 않습니다, 그리고 전체 디버그 버전을 선택 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-178">Additionally, the .min version of files will not be used, the full debug versions will be selected.</span></span> <span data-ttu-id="1ad7a-179">`EnableOptimizations`디버그 특성이 재정의 [compilation 요소](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx) 에 *Web.config* 파일</span><span class="sxs-lookup"><span data-stu-id="1ad7a-179">`EnableOptimizations` overrides the debug attribute in the [compilation Element](https://msdn.microsoft.com/en-us/library/s10awwz0.aspx)  in the *Web.config* file</span></span>


## <a name="using-bundling-and-minification-with-aspnet-web-forms-and-web-pages"></a><span data-ttu-id="1ad7a-180">번들을 사용 하 여 및 ASP.NET Web Forms 및 웹 페이지 축소</span><span class="sxs-lookup"><span data-stu-id="1ad7a-180">Using Bundling and Minification with ASP.NET Web Forms and Web Pages</span></span>

- <span data-ttu-id="1ad7a-181">웹 페이지에 대 한 블로그 항목을 참조 [웹 페이지 사이트에 추가 웹 최적화](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-181">For Web Pages, see the blog entry [Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="1ad7a-182">Web Forms, 블로그 항목을 참조 하십시오. [추가 묶음 및 축소를 Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-182">For Web Forms, see the blog entry [Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>

## <a name="using-bundling-and-minification-with-aspnet-mvc"></a><span data-ttu-id="1ad7a-183">번들을 사용 하 여 및 ASP.NET MVC와 함께 축소</span><span class="sxs-lookup"><span data-stu-id="1ad7a-183">Using Bundling and Minification with ASP.NET MVC</span></span>

<span data-ttu-id="1ad7a-184">이 섹션의 번들을 검사 하는 프로젝트 및 축소는 ASP.NET MVC를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-184">In this section we will create an ASP.NET MVC project to examine bundling and minification.</span></span> <span data-ttu-id="1ad7a-185">ASP.NET MVC 인터넷 이라는 새 프로젝트를 먼저 만듭니다 **MvcBM** 기본값을 변경 하지 않고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-185">First, create a new ASP.NET MVC internet project named **MvcBM** without changing any of the defaults.</span></span>

<span data-ttu-id="1ad7a-186">열기는 *앱\_Start\BundleConfig.cs* 파일 및 검사는 `RegisterBundles` 만들고, 등록, 번들을 구성 하는 데 사용 되는 메서드.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-186">Open the *App\_Start\BundleConfig.cs* file and examine the `RegisterBundles` method which is used to create, register and configure bundles.</span></span> <span data-ttu-id="1ad7a-187">다음 코드의 일부를 보여 줍니다.는 `RegisterBundles` 메서드.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-187">The following code shows a portion of the `RegisterBundles` method.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample5.cs)]

<span data-ttu-id="1ad7a-188">위의 코드 만듭니다 라는 새 JavaScript 번들 *~/bundles/jquery* 적절 한 포함 된 (디버그 되거나 축소 되지 않은 하. *vsdoc*) 파일에 *스크립트* 와일드 카드 문자열 "{버전} ~/Scripts/jquery-.js"와 일치 하는 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-188">The  preceding code creates a new JavaScript bundle named *~/bundles/jquery* that includes all the appropriate (that is debug or minified but not .*vsdoc*) files in the *Scripts* folder that match the wild card string "~/Scripts/jquery-{version}.js".</span></span> <span data-ttu-id="1ad7a-189">ASP.NET MVC 4, 즉 디버그 구성을 사용 하면 파일 *jquery 1.7.1.js* 번들에 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-189">For ASP.NET MVC 4, this means with a debug configuration, the file *jquery-1.7.1.js* will be added to the bundle.</span></span> <span data-ttu-id="1ad7a-190">릴리스 구성에서 *jquery 1.7.1.min.js* 추가 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-190">In a release configuration, *jquery-1.7.1.min.js* will be added.</span></span> <span data-ttu-id="1ad7a-191">번들 프레임 워크와 같은 몇 가지 일반적인 규칙을 따릅니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-191">The bundling framework follows several common conventions such as:</span></span>

- <span data-ttu-id="1ad7a-192">"FileX.min.js"와 "FileX.js" 있을 때 릴리스에 대 한 ".min" 파일을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-192">Selecting ".min" file for release when "FileX.min.js" and "FileX.js" exist.</span></span>
- <span data-ttu-id="1ad7a-193">디버그에 대 한 비 ".min" 버전을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-193">Selecting the non ".min" version for debug.</span></span>
- <span data-ttu-id="1ad7a-194">무시 하 고 "-vsdoc" IntelliSense에만 사용 되는 파일 (예: jquery-1.7.1-vsdoc.js) 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-194">Ignoring "-vsdoc" files (such as jquery-1.7.1-vsdoc.js), which are used only by IntelliSense.</span></span>

<span data-ttu-id="1ad7a-195">`{version}` 위에 표시 된 와일드 카드 일치 하는 데 자동으로 적절 한 버전의 jQuery의 jQuery 번들을 만들 프로그램 *스크립트* 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-195">The `{version}` wild card matching shown above is used to automatically create a jQuery bundle with the appropriate version of jQuery in your *Scripts* folder.</span></span> <span data-ttu-id="1ad7a-196">이 예제에서는 와일드 카드를 사용 하 여 다음과 같은 이점이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-196">In this example, using a wild card provides the following benefits:</span></span>

- <span data-ttu-id="1ad7a-197">NuGet을 사용 하 여 위의 묶는 것 코드 또는 보기 페이지에서 jQuery 참조를 변경 하지 않고 새 jQuery 버전으로 업데이트할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-197">Allows you to use NuGet to update to a newer jQuery version without changing the preceding bundling code or jQuery references in your view pages.</span></span>
- <span data-ttu-id="1ad7a-198">자동으로 선택 릴리스에 대 한 ".min" 버전과 디버그 구성에 대 한 전체 버전 작성 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-198">Automatically selects the full version for debug configurations and the ".min" version for release builds.</span></span>

## <a name="using-a-cdn"></a><span data-ttu-id="1ad7a-199">CDN을 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="1ad7a-199">Using a CDN</span></span>

 <span data-ttu-id="1ad7a-200">다음 코드에서는 로컬 jQuery 번들을 CDN jQuery 번들 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-200">The follow code replaces the local jQuery bundle with a CDN jQuery bundle.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample6.cs)]

<span data-ttu-id="1ad7a-201">위의 코드에서 릴리스에서 모드 및 jQuery의 디버그 버전에 인출 되는 로컬로 디버그 모드에서 동안 CDN에서 jQuery는 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-201">In the code above, jQuery will be requested from the CDN while in release mode and the debug version of jQuery will be fetched locally in debug mode.</span></span> <span data-ttu-id="1ad7a-202">CDN을 사용할 경우 CDN 요청이 실패 하는 경우 대체 메커니즘이 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-202">When using a CDN, you should have a fallback mechanism in case the CDN request fails.</span></span> <span data-ttu-id="1ad7a-203">JQuery 해야 CDN 실패 요청에 추가 레이아웃 파일에서는 스크립트의 끝에서 조각 내에 다음 태그 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-203">The following markup fragment from the end of the layout file shows script added to request jQuery should the CDN fail.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample7.cshtml?highlight=5-13)]

## <a name="creating-a-bundle"></a><span data-ttu-id="1ad7a-204">번들 만들기</span><span class="sxs-lookup"><span data-stu-id="1ad7a-204">Creating a Bundle</span></span>

<span data-ttu-id="1ad7a-205">[번들](https://msdn.microsoft.com/en-us/library/system.web.optimization.bundle(v=VS.110).aspx) 클래스 `Include` 메서드 여기서 각 문자열은 리소스의 가상 경로 문자열의 배열을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-205">The [Bundle](https://msdn.microsoft.com/en-us/library/system.web.optimization.bundle(v=VS.110).aspx) class `Include` method takes an array of strings, where each string is a virtual path to resource.</span></span> <span data-ttu-id="1ad7a-206">RegisterBundles 메서드에서 다음 코드는 *앱\_Start\BundleConfig.cs* 파일에 여러 개의 파일은 번들에 추가 표시:</span><span class="sxs-lookup"><span data-stu-id="1ad7a-206">The following code from the RegisterBundles method in the *App\_Start\BundleConfig.cs* file shows how multiple files are added to a bundle:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample8.cs)]

<span data-ttu-id="1ad7a-207">[번들](https://msdn.microsoft.com/en-us/library/system.web.optimization.bundle(v=VS.110).aspx) 클래스 `IncludeDirectory` 메서드 검색 패턴과 일치 하는 디렉터리 (및 필요에 따라 모든 하위 디렉터리)의 모든 파일을 추가 하기 위해 제공 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-207">The [Bundle](https://msdn.microsoft.com/en-us/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` method is provided to add all the files in a directory (and optionally all subdirectories) which match a search pattern.</span></span> <span data-ttu-id="1ad7a-208">[번들](https://msdn.microsoft.com/en-us/library/system.web.optimization.bundle(v=VS.110).aspx) 클래스 `IncludeDirectory` API는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-208">The [Bundle](https://msdn.microsoft.com/en-us/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` API is shown below:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample9.cs)]

<span data-ttu-id="1ad7a-209">번들 Render 메서드를 사용 하 여 뷰에서 참조 됩니다 ( `Styles.Render` CSS에 대 한 및 `Scripts.Render` JavaScript에 대 한).</span><span class="sxs-lookup"><span data-stu-id="1ad7a-209">Bundles are referenced in views using the Render method, ( `Styles.Render` for CSS and `Scripts.Render` for JavaScript).</span></span> <span data-ttu-id="1ad7a-210">다음 태그는 *Views\Shared\\_Layout.cshtml* 파일은 기본 ASP.NET 인터넷 프로젝트 뷰 CSS 및 JavaScript 번들을 참조 하는 방법을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-210">The following markup from the *Views\Shared\\_Layout.cshtml* file shows how the default ASP.NET internet project views reference CSS and JavaScript bundles.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample10.cshtml?highlight=5-6,11)]

<span data-ttu-id="1ad7a-211">Render 메서드 코드 한 줄에 여러 번들을 추가할 수 있도록 문자열의 배열을 사용을 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-211">Notice the Render methods takes an array of strings, so you can add multiple bundles in one line of code.</span></span> <span data-ttu-id="1ad7a-212">일반적으로 자산을 참조 하는 데 필요한 HTML을 생성 하는 렌더링 방법을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-212">You will generally want to use the Render methods which create the necessary HTML to reference the asset.</span></span> <span data-ttu-id="1ad7a-213">사용할 수는 `Url` 자산을 참조 하는 데 필요한 태그 없이 자산에 대 한 URL을 생성 하는 메서드.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-213">You can use the `Url` method to generate the URL to the asset without the markup needed to reference the asset.</span></span> <span data-ttu-id="1ad7a-214">새 HTML5 사용 하려는 경우를 가정해 볼 [비동기](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-214">Suppose you wanted to use the new HTML5 [async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) attribute.</span></span> <span data-ttu-id="1ad7a-215">다음 코드에서는 modernizr를 사용 하 여 참조 하는 방법을 보여 줍니다.는 `Url` 메서드.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-215">The following code shows how to reference modernizr using the `Url` method.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample11.cshtml?highlight=11)]

## <a name="using-the--wildcard-character-to-select-files"></a><span data-ttu-id="1ad7a-216">사용 하는 "\*" 파일을 선택 하려면 와일드 카드 문자</span><span class="sxs-lookup"><span data-stu-id="1ad7a-216">Using the "\*" Wildcard Character to Select Files</span></span>

<span data-ttu-id="1ad7a-217">에 지정 된 가상 경로 `Include` 메서드와 검색 패턴에 `IncludeDirectory` 메서드 하나를 사용할 수 "\*" 접두사 또는 접미사를 마지막 경로 세그먼트에 와일드 카드 문자입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-217">The virtual path specified in the `Include` method and the search pattern in the `IncludeDirectory` method can accept one "\*" wildcard character as a prefix or suffix to in the last path segment.</span></span> <span data-ttu-id="1ad7a-218">검색 문자열은 대/소문자 구분 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-218">The search string is case insensitive.</span></span> <span data-ttu-id="1ad7a-219">`IncludeDirectory` 메서드에 하위 디렉터리를 검색 하는 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-219">The `IncludeDirectory` method has the option of searching subdirectories.</span></span>

<span data-ttu-id="1ad7a-220">다음 JavaScript 파일이 프로젝트 있다고 가정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-220">Consider a project with the following JavaScript files:</span></span>

- <span data-ttu-id="1ad7a-221">*Scripts\Common\AddAltToImg.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-221">*Scripts\Common\AddAltToImg.js*</span></span>
- <span data-ttu-id="1ad7a-222">*Scripts\Common\ToggleDiv.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-222">*Scripts\Common\ToggleDiv.js*</span></span>
- <span data-ttu-id="1ad7a-223">*Scripts\Common\ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-223">*Scripts\Common\ToggleImg.js*</span></span>
- <span data-ttu-id="1ad7a-224">*Scripts\Common\Sub1\ToggleLinks.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-224">*Scripts\Common\Sub1\ToggleLinks.js*</span></span>

![dir imag](bundling-and-minification/_static/image7.png)

<span data-ttu-id="1ad7a-226">다음 표에서 같이 와일드 카드를 사용 하는 번들에 추가 된 파일을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-226">The following table shows the files added to a bundle using the wildcard as shown:</span></span>

| <span data-ttu-id="1ad7a-227">**Call**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-227">**Call**</span></span> | <span data-ttu-id="1ad7a-228">**추가 된 파일 또는 예외 발생**</span><span class="sxs-lookup"><span data-stu-id="1ad7a-228">**Files Added or Exception Raised**</span></span> |
| --- | --- |
| <span data-ttu-id="1ad7a-229">포함 ("~/Scripts/Common/\*.js")</span><span class="sxs-lookup"><span data-stu-id="1ad7a-229">Include("~/Scripts/Common/\*.js")</span></span> | <span data-ttu-id="1ad7a-230">*AddAltToImg.js, ToggleDiv.js, ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-230">*AddAltToImg.js, ToggleDiv.js, ToggleImg.js*</span></span> |
| <span data-ttu-id="1ad7a-231">포함 ("~/Scripts/Common/T\*.js")</span><span class="sxs-lookup"><span data-stu-id="1ad7a-231">Include("~/Scripts/Common/T\*.js")</span></span> | <span data-ttu-id="1ad7a-232">잘못 된 패턴 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-232">Invalid pattern exception.</span></span> <span data-ttu-id="1ad7a-233">와일드 카드 문자는 접두사 또는 접미사에만 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-233">The wildcard character is only allowed on the prefix or suffix.</span></span> |
| <span data-ttu-id="1ad7a-234">포함 ("~/Scripts/Common/\*og.\*")</span><span class="sxs-lookup"><span data-stu-id="1ad7a-234">Include("~/Scripts/Common/\*og.\*")</span></span> | <span data-ttu-id="1ad7a-235">잘못 된 패턴 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-235">Invalid pattern exception.</span></span> <span data-ttu-id="1ad7a-236">하나의 와일드 카드 문자는 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-236">Only one wildcard character is allowed.</span></span> |
| <span data-ttu-id="1ad7a-237">"포함 (" ~/Scripts/Common/T\*")</span><span class="sxs-lookup"><span data-stu-id="1ad7a-237">"Include("~/Scripts/Common/T\*")</span></span> | <span data-ttu-id="1ad7a-238">*ToggleDiv.js, ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-238">*ToggleDiv.js, ToggleImg.js*</span></span> |
| <span data-ttu-id="1ad7a-239">"포함 (" ~/Scripts/Common/\*")</span><span class="sxs-lookup"><span data-stu-id="1ad7a-239">"Include("~/Scripts/Common/\*")</span></span> | <span data-ttu-id="1ad7a-240">잘못 된 패턴 예외입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-240">Invalid pattern exception.</span></span> <span data-ttu-id="1ad7a-241">순수 와일드 카드 세그먼트가 잘못 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-241">A pure wildcard segment is not valid.</span></span> |
| <span data-ttu-id="1ad7a-242">IncludeDirectory ("~/Scripts/Common", "T\*")</span><span class="sxs-lookup"><span data-stu-id="1ad7a-242">IncludeDirectory("~/Scripts/Common", "T\*")</span></span> | <span data-ttu-id="1ad7a-243">*ToggleDiv.js, ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-243">*ToggleDiv.js, ToggleImg.js*</span></span> |
| <span data-ttu-id="1ad7a-244">IncludeDirectory ("~/Scripts/Common", "T\*", true)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-244">IncludeDirectory("~/Scripts/Common", "T\*",true)</span></span> | <span data-ttu-id="1ad7a-245">*ToggleDiv.js, ToggleImg.js, ToggleLinks.js*</span><span class="sxs-lookup"><span data-stu-id="1ad7a-245">*ToggleDiv.js, ToggleImg.js, ToggleLinks.js*</span></span> |

<span data-ttu-id="1ad7a-246">각 파일 번들을 명시적으로 추가 하는 것이 일반적으로 좋습니다 통해 다음과 같은 이유로 파일의 와일드 카드 로드 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-246">Explicitly adding each file to a bundle is generally the preferred over wildcard loading of files for the following reasons:</span></span>

- <span data-ttu-id="1ad7a-247">일반적으로 결과 원하지는 알파벳 순서로 로드 하기 와일드 카드 기본적으로 스크립트에 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-247">Adding scripts by wildcard defaults to loading them in alphabetical order, which is typically not what you want.</span></span> <span data-ttu-id="1ad7a-248">자주 CSS 및 JavaScript 파일 (-알파벳 이외의)은 특정 순서에 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-248">CSS and JavaScript files frequently need to be added in a specific (non-alphabetic) order.</span></span> <span data-ttu-id="1ad7a-249">사용자 지정을 추가 하 여이 위험을 줄일 수 있습니다 [IBundleOrderer](https://msdn.microsoft.com/en-us/library/system.web.optimization.ibundleorderer(VS.110).aspx) 구현 하지만 각 파일은 오류 발생 가능성을 명시적으로 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-249">You can mitigate this risk by adding a custom [IBundleOrderer](https://msdn.microsoft.com/en-us/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation, but explicitly adding each file is less error prone.</span></span> <span data-ttu-id="1ad7a-250">예를 들어 나중에 폴더를 수정 해야 할 수 있는 새 자산을 추가할 수 있습니다 프로그램 [IBundleOrderer](https://msdn.microsoft.com/en-us/library/system.web.optimization.ibundleorderer(VS.110).aspx) 구현 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-250">For example, you might add new assets to a folder in the future which might require you to modify your [IBundleOrderer](https://msdn.microsoft.com/en-us/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation.</span></span>
- <span data-ttu-id="1ad7a-251">특정 파일 보기를 로드 하는 와일드 카드를 사용 하 여 디렉터리에 추가 된 해당 번들 참조 하는 모든 보기에 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-251">View specific files added to a directory using wild card loading can be included in all views referencing that bundle.</span></span> <span data-ttu-id="1ad7a-252">번들에 특정 스크립트 보기를 추가 하는 경우 뷰를 다른 뷰에 번들을 참조 하는 JavaScript 오류가 발생할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-252">If the view specific script is added to a bundle, you may get a JavaScript error on other views that reference the bundle.</span></span>
- <span data-ttu-id="1ad7a-253">CSS 파일에 다른 파일을 두 번 로드 하는 가져온 파일에서 발생 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-253">CSS files that import other files result in the imported files loaded twice.</span></span> <span data-ttu-id="1ad7a-254">예를 들어 다음 코드는 대부분 두 번 로드 jQuery UI 테마 CSS 파일의 번들을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-254">For example, the following code creates a bundle with most of the jQuery UI theme CSS files loaded twice.</span></span> 

    [!code-csharp[Main](bundling-and-minification/samples/sample12.cs)]

 <span data-ttu-id="1ad7a-255">와일드 카드 선택기 "\*.css" 폴더에서 각 CSS 파일에는 포함 하는 *Content\themes\base\jquery.ui.all.css* 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-255">The wild card selector "\*.css" brings in each CSS file in the folder, including the *Content\themes\base\jquery.ui.all.css* file.</span></span> <span data-ttu-id="1ad7a-256">*jquery.ui.all.css* 파일은 다른 CSS 파일을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-256">The *jquery.ui.all.css* file imports other CSS files.</span></span>

## <a name="bundle-caching"></a><span data-ttu-id="1ad7a-257">캐싱 번들</span><span class="sxs-lookup"><span data-stu-id="1ad7a-257">Bundle Caching</span></span>

<span data-ttu-id="1ad7a-258">번들은 HTTP Expires 헤더 1 년에서 번들을 만들 때 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-258">Bundles set the HTTP Expires Header one year from when the bundle is created.</span></span> <span data-ttu-id="1ad7a-259">Fiddler 표시 IE에는 번들에 대 한 조건부 요청 수 없습니다. 이전에 본 페이지로 이동 하면 즉, 많은 경우의 번들에 대 한 IE에서 HTTP GET 요청이 없으면 및 서버에서 HTTP 304 응답 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-259">If you navigate to a previously viewed page, Fiddler shows IE does not make a conditional request for the bundle, that is, there are no HTTP GET requests from IE for the bundles and no HTTP 304 responses from the server.</span></span> <span data-ttu-id="1ad7a-260">IE (각 번들에 대 한 HTTP 304 응답 발생 함)는 F5 키를 가진 각 번들에 대 한 조건부 요청을 적용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-260">You can force IE to make a conditional request for each bundle with the F5 key (resulting in a HTTP 304 response for each bundle).</span></span> <span data-ttu-id="1ad7a-261">사용 하 여 전체 새로 고침을 강제로 수 ^ F5 (각 번들에 대 한 HTTP 200 응답으로 인해 발생 합니다.)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-261">You can force a full refresh by using ^F5 (resulting in a HTTP 200 response for each bundle.)</span></span>

<span data-ttu-id="1ad7a-262">다음 그림에서는 **캐싱** Fiddler 응답 창의 탭:</span><span class="sxs-lookup"><span data-stu-id="1ad7a-262">The following image shows the **Caching** tab of the Fiddler response pane:</span></span>

![fiddler 캐싱 이미지](bundling-and-minification/_static/image8.png)

<span data-ttu-id="1ad7a-264">요청</span><span class="sxs-lookup"><span data-stu-id="1ad7a-264">The request</span></span>   
`http://localhost/MvcBM_time/bundles/AllMyScripts?v=r0sLDicvP58AIXN_mc3QdyVvVj5euZNzdsa2N1PKvb81`  
 <span data-ttu-id="1ad7a-265">번들은 **AllMyScripts** 쿼리 문자열 쌍을 포함 하 고 **v r0sLDicvP58AIXN =\_mc3QdyVvVj5euZNzdsa2N1PKvb81**합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-265">is for the bundle **AllMyScripts** and contains a query string pair **v=r0sLDicvP58AIXN\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span></span> <span data-ttu-id="1ad7a-266">쿼리 문자열 **v** 값 토큰 캐시에 사용 되는 고유 식별자입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-266">The query string **v** has a value token that is a unique identifier used for caching.</span></span> <span data-ttu-id="1ad7a-267">ASP.NET 응용 프로그램 요청으로 번들 변경 되지 않습니다는 **AllMyScripts** 이 토큰을 사용 하 여 번들입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-267">As long as the bundle doesn't change, the ASP.NET application will request the **AllMyScripts** bundle using this token.</span></span> <span data-ttu-id="1ad7a-268">번들에 모든 파일이 변경 되 면 ASP.NET 최적화 프레임 워크는 번들에 대 한 브라우저 요청 최신 번들을 받게 됩니다를 보장 하는 새 토큰을 생성 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-268">If any file in the bundle changes, the ASP.NET optimization framework will generate a new token, guaranteeing that browser requests for the bundle will get the latest bundle.</span></span>

<span data-ttu-id="1ad7a-269">IE9 F12 개발자 도구를 실행 하 고 이전에 로드 된 페이지를 탐색 하는 경우 IE 잘못 표시 각 번들 및 HTTP 304 반환 하는 서버에 대 한 조건부 GET 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-269">If you run the IE9 F12 developer tools and navigate to a previously loaded page, IE incorrectly shows conditional GET requests made to each bundle and the server returning HTTP 304.</span></span> <span data-ttu-id="1ad7a-270">IE9 조건부 요청에서 블로그 항목 여부를 확인 하는 문제에 이유를 읽을 수 [를 사용 하 여 Cdn 및 웹 사이트 성능 향상을 Expires](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-270">You can read why IE9 has problems determining if a conditional request was made in the blog entry [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

## <a name="less-coffeescript-scss-sass-bundling"></a><span data-ttu-id="1ad7a-271">덜, CoffeeScript, SCSS, 번들 Sass 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-271">LESS, CoffeeScript, SCSS, Sass Bundling.</span></span>

<span data-ttu-id="1ad7a-272">묶음 및 축소 프레임 워크와 같은 중간 언어를 처리 하는 메커니즘을 제공 [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [적은](http://www.dotlesscss.org/) 또는 [Coffeescript ](http://coffeescript.org/), 결과 번들에 축소와 같은 변환을 적용 하 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-272">The bundling and minification framework provides a mechanism to process intermediate languages such as [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [LESS](http://www.dotlesscss.org/) or [Coffeescript](http://coffeescript.org/), and apply transforms such as minification to the resulting bundle.</span></span> <span data-ttu-id="1ad7a-273">예를 들어, 추가할 [.less](http://www.dotlesscss.org/) MVC 4 프로젝트에 파일:</span><span class="sxs-lookup"><span data-stu-id="1ad7a-273">For example, to add [.less](http://www.dotlesscss.org/) files to your MVC 4 project:</span></span>

1. <span data-ttu-id="1ad7a-274">덜 콘텐츠에 대 한 폴더를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-274">Create a folder for your LESS content.</span></span> <span data-ttu-id="1ad7a-275">다음 예제에서는 *Content\MyLess* 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-275">The following example uses the *Content\MyLess* folder.</span></span>
2. <span data-ttu-id="1ad7a-276">추가 [.less](http://www.dotlesscss.org/) NuGet 패키지 **점이 없는** 프로젝트에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-276">Add the [.less](http://www.dotlesscss.org/) NuGet package **dotless** to your project.</span></span>  
    <span data-ttu-id="1ad7a-277">![NuGet 점이 없는 설치](bundling-and-minification/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-277">![NuGet dotless install](bundling-and-minification/_static/image9.png)</span></span>
3. <span data-ttu-id="1ad7a-278">구현 하는 클래스를 추가 [IBundleTransform](https://msdn.microsoft.com/en-us/library/system.web.optimization.ibundletransform(VS.110).aspx) 인터페이스입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-278">Add a class that implements the [IBundleTransform](https://msdn.microsoft.com/en-us/library/system.web.optimization.ibundletransform(VS.110).aspx) interface.</span></span> <span data-ttu-id="1ad7a-279">.Less 변환에 대 한 프로젝트에 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-279">For the .less transform, add the following code to your project.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample13.cs)]
4. <span data-ttu-id="1ad7a-280">덜 사용 하 여 파일의 번들을 만든는 `LessTransform` 및 [CssMinify](https://msdn.microsoft.com/en-us/library/system.web.optimization.cssminify(VS.110).aspx) 변환 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-280">Create a bundle of LESS files with the `LessTransform` and the [CssMinify](https://msdn.microsoft.com/en-us/library/system.web.optimization.cssminify(VS.110).aspx) transform.</span></span> <span data-ttu-id="1ad7a-281">다음 코드를 추가 하는 `RegisterBundles` 에서 메서드는 *앱\_Start\BundleConfig.cs* 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-281">Add the following code to the `RegisterBundles` method in the *App\_Start\BundleConfig.cs* file.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample14.cs)]
5. <span data-ttu-id="1ad7a-282">덜 번들 참조 하는 모든 보기에 다음 코드를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-282">Add the following code to any views which references the LESS bundle.</span></span>

    [!code-cshtml[Main](bundling-and-minification/samples/sample15.cshtml)]

## <a name="bundle-considerations"></a><span data-ttu-id="1ad7a-283">번들 고려 사항</span><span class="sxs-lookup"><span data-stu-id="1ad7a-283">Bundle Considerations</span></span>

<span data-ttu-id="1ad7a-284">번들을 만들 때 따라야 하는 좋은 규칙 번들 이름에는 접두사로 "번들"를 포함 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-284">A good convention to follow when creating bundles is to include "bundle" as a prefix in the bundle name.</span></span> <span data-ttu-id="1ad7a-285">이렇게 하면 가능한 [라우팅 충돌](https://forums.asp.net/post/5012037.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-285">This will prevent a possible [routing conflict](https://forums.asp.net/post/5012037.aspx).</span></span>

<span data-ttu-id="1ad7a-286">번들의 파일을 업데이트 한 후에 새 토큰 번들 쿼리 문자열 매개 변수 생성 되 고 전체 번들에는 클라이언트가 요청 번들을 포함 하는 페이지 다음에 다운로드 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-286">Once you update one file in a bundle, a new token is generated for the bundle query string parameter and the full bundle must be downloaded the next time a client requests a page containing the bundle.</span></span> <span data-ttu-id="1ad7a-287">각 자산 개별적으로 나열 됩니다는 기존 태그에서 변경 된 파일만 다운로드할 지 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-287">In traditional markup where each asset is listed individually, only the changed file would be downloaded.</span></span> <span data-ttu-id="1ad7a-288">자산 자주 변경 되는 번들에 대 한 적절 한 후보를 아닐 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-288">Assets that change frequently may not be good candidates for bundling.</span></span>

<span data-ttu-id="1ad7a-289">묶음 및 축소는 주로 첫 번째 페이지 요청 부하 시간을 개선 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-289">Bundling and minification primarily improve the first page request load time.</span></span> <span data-ttu-id="1ad7a-290">브라우저 캐시 자산 (JavaScript, CSS 및 이미지) 웹 페이지를 요청 되 면 페이지는 동일한 사이트 자산과 동일한 요청 하거나 묶음 및 축소 같은 페이지를 요청할 때 모든 성능 향상을 제공 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-290">Once a webpage has been requested, the browser caches the assets (JavaScript, CSS and images) so bundling and minification won't provide any performance boost when requesting the same page, or pages on the same site requesting the same assets.</span></span> <span data-ttu-id="1ad7a-291">설정 하지 않으면는 사용자의 자산에서 올바르게 헤더 만료 묶음 및 축소를 사용 하지 않는, 브라우저 새로 고침 추론 됩니다 자산 부실 몇 일 후 약관을 표시할 브라우저 각 자산에 대 한 유효성 검사 요청을 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-291">If you don't set the expires header correctly on your assets, and you don't use bundling and minification, the browsers freshness heuristics will mark the assets stale after a few days and the browser will require a validation request for each asset.</span></span> <span data-ttu-id="1ad7a-292">이 경우 묶음 및 축소 첫 번째 페이지 요청 후 성능 향상을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-292">In this case, bundling and minification provide a performance increase after the first page request.</span></span> <span data-ttu-id="1ad7a-293">자세한 내용은 블로그를 참조 하십시오. [를 사용 하 여 Cdn 및 웹 사이트 성능 향상을 Expires](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-293">For details, see the blog [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

<span data-ttu-id="1ad7a-294">각 호스트 이름 당 동시 연결 수 6 개의 브라우저 제한을 사용 하 여 완화할 수 있습니다는 [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-294">The browser limitation of six simultaneous connections per each hostname can be mitigated by using a [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span> <span data-ttu-id="1ad7a-295">CDN은 서로 다른 호스트 이름 호스팅 사이트 보다 더 자산 CDN에서에서 요청에 호스팅 환경에는 6 개의 동시 연결 제한 수는 없습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-295">Because the CDN will have a different hostname than your hosting site, asset requests from the CDN will not count against the six simultaneous connections limit to your hosting environment.</span></span> <span data-ttu-id="1ad7a-296">일반적인 패키지 캐싱 및 캐싱 장점 가장자리 CDN 제공할 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-296">A CDN can also provide common package caching and edge caching advantages.</span></span>

<span data-ttu-id="1ad7a-297">번들을 필요로 하는 페이지에서 분할 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-297">Bundles should be partitioned by pages that need them.</span></span> <span data-ttu-id="1ad7a-298">예를 들어 기본 인터넷 응용 프로그램에 대 한 ASP.NET MVC 템플릿에서 만듭니다 jQuery 유효성 검사 번들 jQuery 별개입니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-298">For example, the default ASP.NET MVC template for an internet application creates a jQuery Validation bundle separate from jQuery.</span></span> <span data-ttu-id="1ad7a-299">생성 되는 기본 보기에는 입력 하지 않고 있으며 값을 게시 하지 마십시오, 때문에 유효성 검사 번들을 포함 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-299">Because the default views created have no input and do not post values, they don't include the validation bundle.</span></span>

<span data-ttu-id="1ad7a-300">`System.Web.Optimization` 네임 스페이스 System.Web.Optimization.DLL에서 구현 됩니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-300">The `System.Web.Optimization` namespace is implemented in System.Web.Optimization.DLL.</span></span> <span data-ttu-id="1ad7a-301">활용 WebGrease 라이브러리 (WebGrease.dll) 축소 기능을 차례로 Antlr3.Runtime.dll를 사용 하 여 합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-301">It leverages the WebGrease library (WebGrease.dll) for minification capabilities, which in turn uses Antlr3.Runtime.dll.</span></span>

<span data-ttu-id="1ad7a-302">*Twitter 빠른 게시물 링크와 공유 하 고 사용 합니다. 내 Twitter 핸들은*:[@RickAndMSFT](http://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-302">*I use Twitter to make quick posts and share links. My Twitter handle is*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="1ad7a-303">추가 리소스</span><span class="sxs-lookup"><span data-stu-id="1ad7a-303">Additional Resources</span></span>

- <span data-ttu-id="1ad7a-304">비디오:[묶음 및 최적화](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) 여 [Howard Dierking](https://twitter.com/#!/howard_dierking)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-304">Video:[Bundling and Optimizing](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) by [Howard Dierking](https://twitter.com/#!/howard_dierking)</span></span>
- <span data-ttu-id="1ad7a-305">[웹 페이지 사이트에 웹 최적화 추가](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-305">[Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="1ad7a-306">[추가 묶음 및 축소를 Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="1ad7a-306">[Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>
- <span data-ttu-id="1ad7a-307">[번들의 성능에 미치는 영향 및 웹 검색에 축소](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) 여 [구재석 F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen)[@frystyk](https://twitter.com/frystyk)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-307">[Performance Implications of Bundling and Minification on Web Browsing](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) by [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span></span>
- <span data-ttu-id="1ad7a-308">[Cdn을 사용 하 여 웹 사이트 성능 향상을 위해 만료 되 고](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) Rick anderson[@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-308">[Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) by Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span></span>
- [<span data-ttu-id="1ad7a-309">최소화 RTT (왕복 시간)</span><span class="sxs-lookup"><span data-stu-id="1ad7a-309">Minimize RTT (round-trip times)</span></span>](https://developers.google.com/speed/docs/best-practices/rtt)

## <a name="contributors"></a><span data-ttu-id="1ad7a-310">참가자</span><span class="sxs-lookup"><span data-stu-id="1ad7a-310">Contributors</span></span>

- <span data-ttu-id="1ad7a-311">Hao 둘러싼</span><span class="sxs-lookup"><span data-stu-id="1ad7a-311">Hao Kung</span></span>
- [<span data-ttu-id="1ad7a-312">Howard Dierking</span><span class="sxs-lookup"><span data-stu-id="1ad7a-312">Howard Dierking</span></span>](https://twitter.com/#!/howard_dierking)
- <span data-ttu-id="1ad7a-313">Diana LaRose</span><span class="sxs-lookup"><span data-stu-id="1ad7a-313">Diana LaRose</span></span>
