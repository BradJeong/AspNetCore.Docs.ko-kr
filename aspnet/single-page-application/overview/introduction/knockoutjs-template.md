---
uid: single-page-application/overview/introduction/knockoutjs-template
title: '단일 페이지 응용 프로그램: KnockoutJS 템플릿 | Microsoft Docs'
author: MikeWasson
description: Knockout 서식 파일
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/30/2013
ms.topic: article
ms.assetid: f9c07af0-4b20-4b08-af8f-47fc3df169a2
ms.technology: ''
ms.prod: .net-framework
msc.legacyurl: /single-page-application/overview/introduction/knockoutjs-template
msc.type: authoredcontent
ms.openlocfilehash: e6c0c45bed098a8a1160ff11e4f77244bf55ffd3
ms.sourcegitcommit: 493a215355576cfa481773365de021bcf04bb9c7
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/15/2018
ms.locfileid: "28036897"
---
<a name="single-page-application-knockoutjs-template"></a><span data-ttu-id="e7133-103">단일 페이지 응용 프로그램: KnockoutJS 서식 파일</span><span class="sxs-lookup"><span data-stu-id="e7133-103">Single Page Application: KnockoutJS template</span></span>
====================
<span data-ttu-id="e7133-104">으로 [Mike Wasson](https://github.com/MikeWasson)</span><span class="sxs-lookup"><span data-stu-id="e7133-104">by [Mike Wasson](https://github.com/MikeWasson)</span></span>

> <span data-ttu-id="e7133-105">ASP.NET 및 웹 도구 2012.2의 일부인 Knockout MVC 템플릿</span><span class="sxs-lookup"><span data-stu-id="e7133-105">The Knockout MVC Template is part of ASP.NET and Web Tools 2012.2</span></span>
> 
> [<span data-ttu-id="e7133-106">ASP.NET 및 Web Tools 2012.2 다운로드</span><span class="sxs-lookup"><span data-stu-id="e7133-106">Download ASP.NET and Web Tools 2012.2</span></span>](https://go.microsoft.com/fwlink/?LinkId=282650)


<span data-ttu-id="e7133-107">ASP.NET 및 웹 도구 2012.2 업데이트는 ASP.NET MVC 4에 대 한 단일 페이지 응용 프로그램 (SPA) 서식 파일을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-107">The ASP.NET and Web Tools 2012.2 update includes a Single-Page Application (SPA) template for ASP.NET MVC 4.</span></span> <span data-ttu-id="e7133-108">이 서식 파일은 대화형 클라이언트 쪽 웹 앱을 빌드하는 신속 하 게 시작 하도록 설계 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-108">This template is designed to get you started quickly building interactive client-side web apps.</span></span>

<span data-ttu-id="e7133-109">"단일 페이지 응용 프로그램" (SPA)은 하나의 HTML 페이지를 로드 하 고 다음 새 페이지를 로드 하는 대신 해당 페이지를 동적으로 업데이트 하는 웹 응용 프로그램에 대 한 일반적인 용어입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-109">"Single-page application" (SPA) is the general term for a web application that loads a single HTML page and then updates the page dynamically, instead of loading new pages.</span></span> <span data-ttu-id="e7133-110">초기 로드 이후에 SPA AJAX 요청을 통해 서버와 통신 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-110">After the initial page load, the SPA talks with the server through AJAX requests.</span></span>

![](knockoutjs-template/_static/image1.png)

<span data-ttu-id="e7133-111">AJAX 새로 만들었거나, nothing 하지만 오늘 쉽게 작성 하 고 대형 정교한 SPA 응용 프로그램을 관리 하는 JavaScript 프레임 워크 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-111">AJAX is nothing new, but today there are JavaScript frameworks that make it easier to build and maintain a large sophisticated SPA application.</span></span> <span data-ttu-id="e7133-112">또한 HTML 5 및 CSS3는 보다 쉽게 풍부한 Ui를 만들 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-112">Also, HTML 5 and CSS3 are making it easier to create rich UIs.</span></span>

<span data-ttu-id="e7133-113">시작 하기, SPA 템플릿은 샘플 "할 일 목록" 응용 프로그램을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-113">To get you started, the SPA template creates a sample "To-do list" application.</span></span> <span data-ttu-id="e7133-114">이 자습서에서는 안내 하는 서식 파일의 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-114">In this tutorial, we'll take a guided tour of the template.</span></span> <span data-ttu-id="e7133-115">먼저 할 일 목록 응용 프로그램 자체를 보면 다음 작동 하도록 하는 기술 구성 요소를 검사 합니다 우리 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-115">First we'll look at the To-do list application itself, then examine the technology pieces that make it work.</span></span>

## <a name="create-a-new-spa-template-project"></a><span data-ttu-id="e7133-116">새 SPA 서식 파일 프로젝트 만들기</span><span class="sxs-lookup"><span data-stu-id="e7133-116">Create a New SPA Template Project</span></span>

<span data-ttu-id="e7133-117">요구 사항:</span><span class="sxs-lookup"><span data-stu-id="e7133-117">Requirements:</span></span>

- <span data-ttu-id="e7133-118">Visual Studio 2012 또는 Visual Studio Express 2012 for Web</span><span class="sxs-lookup"><span data-stu-id="e7133-118">Visual Studio 2012 or Visual Studio Express 2012 for Web</span></span>
- <span data-ttu-id="e7133-119">ASP.NET 웹 도구 2012.2 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-119">ASP.NET Web Tools 2012.2 update.</span></span> <span data-ttu-id="e7133-120">업데이트를 설치할 수 [여기](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=ASPDOTNETandWebTools2012_2)합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-120">You can install the update [here](https://www.microsoft.com/web/handlers/webpi.ashx?command=getinstallerredirect&appid=ASPDOTNETandWebTools2012_2).</span></span>

<span data-ttu-id="e7133-121">Visual Studio를 시작 하 고 선택 **새 프로젝트** 시작 페이지에서.</span><span class="sxs-lookup"><span data-stu-id="e7133-121">Start Visual Studio and select **New Project** from the Start page.</span></span> <span data-ttu-id="e7133-122">또는에서 **파일** 메뉴 선택 **새로** 차례로 **프로젝트**합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-122">Or, from the **File** menu, select **New** and then **Project**.</span></span>

<span data-ttu-id="e7133-123">에 **템플릿** 창 선택 **설치 된 템플릿** 확장는 **Visual C#** 노드.</span><span class="sxs-lookup"><span data-stu-id="e7133-123">In the **Templates** pane, select **Installed Templates** and expand the **Visual C#** node.</span></span> <span data-ttu-id="e7133-124">아래 **Visual C#** 선택, **웹**합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-124">Under **Visual C#**, select **Web**.</span></span> <span data-ttu-id="e7133-125">프로젝트 템플릿 목록에서 선택 **ASP.NET MVC 4 웹 응용 프로그램**합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-125">In the list of project templates, select **ASP.NET MVC 4 Web Application**.</span></span> <span data-ttu-id="e7133-126">프로젝트 이름을 지정 하 고 클릭 **확인**합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-126">Name the project and click **OK**.</span></span>

![](knockoutjs-template/_static/image2.png)

<span data-ttu-id="e7133-127">에 **새 프로젝트** 선택 마법사 **단일 페이지 응용 프로그램**합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-127">In the **New Project** wizard, select **Single Page Application**.</span></span>

![](knockoutjs-template/_static/image3.png)

<span data-ttu-id="e7133-128">F5 키를 눌러 응용 프로그램을 빌드하고 실행합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-128">Press F5 to build and run the application.</span></span> <span data-ttu-id="e7133-129">응용 프로그램을 처음 실행할 때 로그인 화면을 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-129">When the application first runs, it displays a login screen.</span></span>

![](knockoutjs-template/_static/image4.png)

<span data-ttu-id="e7133-130">클릭는 &quot;등록&quot; 에 연결 하 고 새 사용자를 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-130">Click the &quot;Sign up&quot; link and create a new user.</span></span>

![](knockoutjs-template/_static/image5.png)

<span data-ttu-id="e7133-131">에 로그인 한 후 응용 프로그램 기본 할 일 목록에 항목 두 개 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-131">After you log in, the application creates a default Todo list with two items.</span></span> <span data-ttu-id="e7133-132">"할 일 목록 추가" 클릭 하면 새 목록을 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-132">You can click "Add Todo list" to add a new list.</span></span>

![](knockoutjs-template/_static/image6.png)

<span data-ttu-id="e7133-133">목록 바꾸고는 목록 항목을 추가할에 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-133">Rename the list, add items to the list, and check them off.</span></span> <span data-ttu-id="e7133-134">항목을 삭제 하거나 전체 목록을 삭제할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-134">You can also delete items or delete an entire list.</span></span> <span data-ttu-id="e7133-135">서버에서 데이터베이스에 변경 내용을 자동으로 저장 됩니다 (실제로 LocalDB이 시점에서 응용 프로그램을 로컬로 실행 중인 때문에).</span><span class="sxs-lookup"><span data-stu-id="e7133-135">The changes are automatically persisted to a database on the server (actually LocalDB at this point, because you are running the application locally).</span></span>

![](knockoutjs-template/_static/image7.png)

## <a name="architecture-of-the-spa-template"></a><span data-ttu-id="e7133-136">SPA 서식 파일의 아키텍처</span><span class="sxs-lookup"><span data-stu-id="e7133-136">Architecture of the SPA Template</span></span>

<span data-ttu-id="e7133-137">이 다이어그램에서는 응용 프로그램에 대 한 기본 구성 요소를 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-137">This diagram shows the main building blocks for the application.</span></span>

![](knockoutjs-template/_static/image8.png)

<span data-ttu-id="e7133-138">서버 쪽에서 ASP.NET MVC HTML을 사용 되 고 폼 기반 인증도 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-138">On the server side, ASP.NET MVC serves the HTML and also handles forms-based authentication.</span></span>

<span data-ttu-id="e7133-139">ASP.NET Web API ToDoLists 및 가져오기, 만들기, 업데이트 및 삭제를 포함 하 여 ToDoItems와 관련 된 모든 요청을 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-139">ASP.NET Web API handles all requests that relate to the ToDoLists and ToDoItems, including getting, creating, updating and deleting.</span></span> <span data-ttu-id="e7133-140">클라이언트 웹 API를 사용 하 여 JSON 형식의 데이터를 교환합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-140">The client exchanges data with Web API in JSON format.</span></span>

<span data-ttu-id="e7133-141">Entity Framework (EF)는 O/RM 계층입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-141">Entity Framework (EF) is the O/RM layer.</span></span> <span data-ttu-id="e7133-142">ASP.NET의 개체 지향 환경 및 기본 데이터베이스 간을 중재 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-142">It mediates between the object-oriented world of ASP.NET and the underlying database.</span></span> <span data-ttu-id="e7133-143">데이터베이스는 LocalDB를 사용 하지만이 Web.config 파일에서 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-143">The database uses LocalDB but you can change this in the Web.config file.</span></span> <span data-ttu-id="e7133-144">일반적으로 LocalDB를 사용 하 여 로컬 개발 하는 다음 EF 코드 중심 마이그레이션을 사용 하 여 SQL 데이터베이스 서버에 배포 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-144">Typically you would use LocalDB for local development and then deploy to a SQL database on the server, using EF code-first migration.</span></span>

<span data-ttu-id="e7133-145">클라이언트 쪽에서 Knockout.js 라이브러리 AJAX 요청에서 페이지 업데이트를 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-145">On the client side, the Knockout.js library handles page updates from AJAX requests.</span></span> <span data-ttu-id="e7133-146">Knockout은 데이터 바인딩을 사용 하 여 최신 데이터로 페이지를 동기화 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-146">Knockout uses data binding to synchronize the page with the latest data.</span></span> <span data-ttu-id="e7133-147">이런 방식으로 없는 JSON 데이터를 안내 하 고 DOM을 업데이트 하는 코드 작성</span><span class="sxs-lookup"><span data-stu-id="e7133-147">That way, you don't have to write any of the code that walks through the JSON data and updates the DOM.</span></span> <span data-ttu-id="e7133-148">대신, 선언적 특성을 Knockout 데이터를 표시 하는 방법을 알려 주는 HTML에 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-148">Instead, you put declarative attributes in the HTML that tell Knockout how to present the data.</span></span>

<span data-ttu-id="e7133-149">이 아키텍처의 큰 장점은 응용 프로그램 논리에서 프레젠테이션 계층을 분리 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-149">A big advantage of this architecture is that it separates the presentation layer from the application logic.</span></span> <span data-ttu-id="e7133-150">웹 페이지에 어떻게 나타나는지에 대 한 지식이 없어도 웹 API 부분을 만들 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-150">You can create the Web API portion without knowing anything about how your web page will look.</span></span> <span data-ttu-id="e7133-151">클라이언트 쪽에서 모델을 만들 있습니다 "보기"를 해당 데이터를 표시 하 고 보기 모델 HTML에 바인딩할 Knockout를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-151">On the client side, you create a "view model" to represent that data, and the view model uses Knockout to bind to the HTML.</span></span> <span data-ttu-id="e7133-152">뷰 모델을 변경 하지 않고 HTML을 쉽게 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-152">That lets you easily change the HTML without changing the view model.</span></span> <span data-ttu-id="e7133-153">(에서 살펴보게 Knockout 잠시 후.)</span><span class="sxs-lookup"><span data-stu-id="e7133-153">(We'll look at Knockout a bit later.)</span></span>

## <a name="models"></a><span data-ttu-id="e7133-154">모델</span><span class="sxs-lookup"><span data-stu-id="e7133-154">Models</span></span>

<span data-ttu-id="e7133-155">Visual Studio 프로젝트 모델 폴더는 서버 쪽에서 사용 되는 모델을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-155">In the Visual Studio project, the Models folder contains the models that are used on the server side.</span></span> <span data-ttu-id="e7133-156">(클라이언트 쪽에서 모델도는, 해당 살펴보겠습니다.)</span><span class="sxs-lookup"><span data-stu-id="e7133-156">(There are also models on the client side; we'll get to those.)</span></span>

![](knockoutjs-template/_static/image9.png)

<span data-ttu-id="e7133-157">**TodoItem, TodoList**</span><span class="sxs-lookup"><span data-stu-id="e7133-157">**TodoItem, TodoList**</span></span>

<span data-ttu-id="e7133-158">이 Entity Framework Code First에 대 한 데이터베이스 모델입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-158">These are the database models for Entity Framework Code First.</span></span> <span data-ttu-id="e7133-159">이러한 모델 서로를 가리키는 속성을 갖고 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-159">Notice that these models have properties that point to each other.</span></span> <span data-ttu-id="e7133-160">`ToDoList` ToDoItems, 및 각의 컬렉션을 포함 `ToDoItem` 다시 ToDoList 부모에 대 한 참조가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-160">`ToDoList` contains a collection of ToDoItems, and each `ToDoItem` has a reference back to its parent ToDoList.</span></span> <span data-ttu-id="e7133-161">이러한 속성은 탐색 속성을 라고 하 고 할 일 목록 및 해당 할 일 항목 대 다 관계를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-161">These properties are called navigation properties, and they represent the one-to-many relation a to-do list and its to-do items.</span></span>

<span data-ttu-id="e7133-162">`ToDoItem` 클래스도 사용 하는 **[ForeignKey]** 되도록 지정 하려면 특성 `ToDoListId` 는 외래 키에 `ToDoList` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-162">The `ToDoItem` class also uses the **[ForeignKey]** attribute to specify that `ToDoListId` is a foreign key into the `ToDoList` table.</span></span> <span data-ttu-id="e7133-163">데이터베이스에 외래 키 제약 조건을 추가할 EF를 인지를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-163">This tells EF to add a foreign-key constraint to the database.</span></span>

[!code-csharp[Main](knockoutjs-template/samples/sample1.cs)]

<span data-ttu-id="e7133-164">**TodoItemDto, TodoListDto**</span><span class="sxs-lookup"><span data-stu-id="e7133-164">**TodoItemDto, TodoListDto**</span></span>

<span data-ttu-id="e7133-165">이러한 클래스는 클라이언트에 전송 될 데이터를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-165">These classes define the data that will be sent to the client.</span></span> <span data-ttu-id="e7133-166">"DTO"는 "데이터 전송 개체입니다."를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-166">"DTO" stands for "data transfer object."</span></span> <span data-ttu-id="e7133-167">DTO 엔터티를 JSON으로 serialize 되는 방식을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-167">The DTO defines how the entities will be serialized into JSON.</span></span> <span data-ttu-id="e7133-168">일반적으로 Dto를 사용 하는 몇 가지 이유가 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-168">In general, there are several reasons to use DTOs:</span></span>

- <span data-ttu-id="e7133-169">제어 하려면 어떤 속성이 serialize 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-169">To control which properties are serialized.</span></span> <span data-ttu-id="e7133-170">DTO 도메인 모델에서 속성의 하위 집합을 포함할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-170">The DTO can contain a subset of the properties from the domain model.</span></span> <span data-ttu-id="e7133-171">또는 단순히 (을 중요 한 데이터를 숨기려면) 보안상의 이유로 이렇게 할 수 있습니다 있습니다 보낸 데이터의 양을 줄일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-171">You might do this for security reasons (to hide sensitive data) or simply to reduce the amount of data that you send.</span></span>
- <span data-ttu-id="e7133-172">예를 들어 데이터의 모양을 변경 하려면를 더 복잡 한 데이터 구조를 평면화 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-172">To change the shape of the data – e.g. to flatten a more complex data structure.</span></span>
- <span data-ttu-id="e7133-173">DTO (분리)에서 모든 비즈니스 논리를 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-173">To keep any business logic out of the DTO (separation of concerns).</span></span>
- <span data-ttu-id="e7133-174">경우 몇 가지 이유로 도메인 모델을 직렬화 할 수 없습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-174">If your domain models cannot be serialized for some reason.</span></span> <span data-ttu-id="e7133-175">예를 들어 순환 참조 문제가 발생할 수 있습니다는 개체를 serialize 하는 경우 Web API에서이 문제를 처리 하는 방법 (참조 [순환 개체 참조를 처리](../../../web-api/overview/formats-and-model-binding/json-and-xml-serialization.md#handling_circular_object_references)); 한 DTO를 사용 하 여 문제를 모두 방지 단순히 있지만 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-175">For example, circular references can cause problems when you serialize an object There are ways to handle this problem in Web API (see [Handling Circular Object References](../../../web-api/overview/formats-and-model-binding/json-and-xml-serialization.md#handling_circular_object_references)); but using a DTO simply avoids the problem altogether.</span></span>

<span data-ttu-id="e7133-176">SPA 서식 파일은 Dto 도메인 모델와 동일한 데이터를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-176">In the SPA template, the DTOs contains the same data as the domain models.</span></span> <span data-ttu-id="e7133-177">그러나 이들 프로토콜은 여전히 유용 탐색 속성에서 순환 참조를 방지 하 고 일반적인 DTO 패턴을 보여 줍니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-177">However, they are still useful because they avoid circular references from the navigation properties, and they demonstrate the general DTO pattern.</span></span>

<span data-ttu-id="e7133-178">**AccountModels.cs**</span><span class="sxs-lookup"><span data-stu-id="e7133-178">**AccountModels.cs**</span></span>

<span data-ttu-id="e7133-179">이 파일 사이트 멤버 자격에 대 한 모델을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-179">This file contains models for site membership.</span></span> <span data-ttu-id="e7133-180">`UserProfile` 클래스 DB 멤버 자격에 사용자 프로필에 대 한 스키마를 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-180">The `UserProfile` class defines the schema for user profiles in the membership DB.</span></span> <span data-ttu-id="e7133-181">(이 경우 유일한 정보는 사용자 ID와 사용자 이름입니다.) 이 파일의 다른 모델 클래스는 사용자를 등록 및 로그인 양식을 만드는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-181">(In this case, the only information is the user ID and the user name.) The other model classes in this file are used to create the user registration and login forms.</span></span>

## <a name="entity-framework"></a><span data-ttu-id="e7133-182">Entity Framework</span><span class="sxs-lookup"><span data-stu-id="e7133-182">Entity Framework</span></span>

<span data-ttu-id="e7133-183">SPA 템플릿은 EF Code First 사용합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-183">The SPA template uses EF Code First.</span></span> <span data-ttu-id="e7133-184">Code First 개발에 코드에서 먼저 모델을 정의 하 고 EF 모델을 사용 하 여 데이터베이스를 만들 수는 다음 키를 누릅니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-184">In Code First development, you define the models first in code, and then EF uses the model to create the database.</span></span> <span data-ttu-id="e7133-185">기존 데이터베이스와 EF를 사용할 수도 있습니다 ([Database First](https://msdn.microsoft.com/data/jj206878.aspx)).</span><span class="sxs-lookup"><span data-stu-id="e7133-185">You can also use EF with an existing database ([Database First](https://msdn.microsoft.com/data/jj206878.aspx)).</span></span>

<span data-ttu-id="e7133-186">`TodoItemContext` 모델 폴더의 클래스에서 파생 **DbContext**합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-186">The `TodoItemContext` class in the Models folder derives from **DbContext**.</span></span> <span data-ttu-id="e7133-187">이 클래스는 모델 및 EF 간의 "글 루"를 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-187">This class provides the "glue" between the models and EF.</span></span> <span data-ttu-id="e7133-188">`TodoItemContext` 보유 한 `ToDoItem` 컬렉션 및 `TodoList` 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-188">The `TodoItemContext` holds a `ToDoItem` collection and a `TodoList` collection.</span></span> <span data-ttu-id="e7133-189">데이터베이스를 쿼리하려면 하기만 하면 이러한 컬렉션에 대 한 LINQ 쿼리를 작성 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-189">To query the database, you simply write a LINQ query against these collections.</span></span> <span data-ttu-id="e7133-190">예를 들어 모든 사용자 "Alice"에 대 한 일 목록을 선택 하는 방법을 같습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-190">For example, here is how you can select all of the to-do lists for user "Alice":</span></span>

[!code-csharp[Main](knockoutjs-template/samples/sample2.cs)]

<span data-ttu-id="e7133-191">수는 컬렉션에 새 항목 추가, 항목, 업데이트 또는 컬렉션에서 항목을 삭제할 수 있고 데이터베이스에 변경 내용을 유지 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-191">You can also add new items to the collection, update items, or delete items from the collection, and persist the changes to the database.</span></span>

## <a name="aspnet-web-api-controllers"></a><span data-ttu-id="e7133-192">ASP.NET Web API 컨트롤러</span><span class="sxs-lookup"><span data-stu-id="e7133-192">ASP.NET Web API Controllers</span></span>

<span data-ttu-id="e7133-193">ASP.NET Web API에서 컨트롤러는 HTTP 요청을 처리 하는 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-193">In ASP.NET Web API, controllers are objects that handle HTTP requests.</span></span> <span data-ttu-id="e7133-194">SPA 템플릿은 웹 API를 사용 하 여 CRUD 작업에 사용할 수 있도록 언급 했 듯이 `ToDoList` 및 `ToDoItem` 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="e7133-194">As mentioned, the SPA template uses Web API to enable CRUD operations on `ToDoList` and `ToDoItem` instances.</span></span> <span data-ttu-id="e7133-195">컨트롤러는 솔루션의 컨트롤러 폴더에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-195">The controllers are located in the Controllers folder of the solution.</span></span>

![](knockoutjs-template/_static/image10.png)

- <span data-ttu-id="e7133-196">`TodoController`: 할 일 항목에 대 한 HTTP 요청을 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-196">`TodoController`: Handles HTTP requests for to-do items</span></span>
- <span data-ttu-id="e7133-197">`TodoListController`: 할 일 목록에 대 한 HTTP 요청을 처리합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-197">`TodoListController`: Handles HTTP requests for to-do lists.</span></span>

<span data-ttu-id="e7133-198">이러한 이름은 Web API 컨트롤러 이름에 대 한 URI 경로 일치 하기 때문에 중요 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-198">These names are significant, because Web API matches the URI path to the controller name.</span></span> <span data-ttu-id="e7133-199">(Web API 컨트롤러에 HTTP 요청을 라우팅하 하는 방법을 알아보려면 참조 [ASP.NET Web API에서 라우팅](../../../web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api.md).)</span><span class="sxs-lookup"><span data-stu-id="e7133-199">(To learn how Web API routes HTTP requests to controllers, see [Routing in ASP.NET Web API](../../../web-api/overview/web-api-routing-and-actions/routing-in-aspnet-web-api.md).)</span></span>

<span data-ttu-id="e7133-200">에 `ToDoListController` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-200">Let's look at the `ToDoListController` class.</span></span> <span data-ttu-id="e7133-201">단일 데이터 멤버를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-201">It contains a single data member:</span></span>

[!code-csharp[Main](knockoutjs-template/samples/sample3.cs)]

<span data-ttu-id="e7133-202">`TodoItemContext` 앞에서 설명한 대로, EF와 통신 하는 데 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-202">The `TodoItemContext` is used to communicate with EF, as described earlier.</span></span> <span data-ttu-id="e7133-203">컨트롤러에서 메서드는 CRUD 작업을 구현합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-203">The methods on the controller implement the CRUD operations.</span></span> <span data-ttu-id="e7133-204">Web API 컨트롤러 메서드를 클라이언트에서 HTTP 요청을 다음과 같이 매핑합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-204">Web API maps HTTP requests from the client to controller methods, as follows:</span></span>

| <span data-ttu-id="e7133-205">HTTP 요청</span><span class="sxs-lookup"><span data-stu-id="e7133-205">HTTP Request</span></span> | <span data-ttu-id="e7133-206">컨트롤러 메서드</span><span class="sxs-lookup"><span data-stu-id="e7133-206">Controller Method</span></span> | <span data-ttu-id="e7133-207">설명</span><span class="sxs-lookup"><span data-stu-id="e7133-207">Description</span></span> |
| --- | --- | --- |
| <span data-ttu-id="e7133-208">GET /api/todo</span><span class="sxs-lookup"><span data-stu-id="e7133-208">GET /api/todo</span></span> | `GetTodoLists` | <span data-ttu-id="e7133-209">할 일 목록 컬렉션을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-209">Gets a collection of to-do lists.</span></span> |
| <span data-ttu-id="e7133-210">GET /api/todo/*id*</span><span class="sxs-lookup"><span data-stu-id="e7133-210">GET /api/todo/*id*</span></span> | `GetTodoList` | <span data-ttu-id="e7133-211">ID로 할 일 목록을 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-211">Gets a to-do list by ID</span></span> |
| <span data-ttu-id="e7133-212">PUT/api/todo/*id*</span><span class="sxs-lookup"><span data-stu-id="e7133-212">PUT /api/todo/*id*</span></span> | `PutTodoList` | <span data-ttu-id="e7133-213">할 일 목록을 업데이트합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-213">Updates a to-do list.</span></span> |
| <span data-ttu-id="e7133-214">POST /api/todo</span><span class="sxs-lookup"><span data-stu-id="e7133-214">POST /api/todo</span></span> | `PostTodoList` | <span data-ttu-id="e7133-215">할 일 목록을 새로 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-215">Creates a new to-do list.</span></span> |
| <span data-ttu-id="e7133-216">DELETE /api/todo/*id*</span><span class="sxs-lookup"><span data-stu-id="e7133-216">DELETE /api/todo/*id*</span></span> | `DeleteTodoList` | <span data-ttu-id="e7133-217">할 일 목록을 삭제합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-217">Deletes a TODO list.</span></span> |

<span data-ttu-id="e7133-218">일부 작업에 대 한 Uri는 ID 값에 대 한 자리 표시 자가 들어 있는지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-218">Notice that the URIs for some operations contain placeholders for the ID value.</span></span> <span data-ttu-id="e7133-219">예를 들어 목록을 삭제 하려면에-42 ID로, URI가 `/api/todo/42`합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-219">For example, to delete a to-list with an ID of 42, the URI is `/api/todo/42`.</span></span>

<span data-ttu-id="e7133-220">CRUD 작업에 대해 웹 API를 사용 하는 방법에 대 한 자세한 참조 [CRUD 작업을 지원 합니다. 해당 웹 API를 만드는](../../../web-api/overview/older-versions/creating-a-web-api-that-supports-crud-operations.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-220">To learn more about using Web API for CRUD operations, see [Creating a Web API that Supports CRUD Operations](../../../web-api/overview/older-versions/creating-a-web-api-that-supports-crud-operations.md).</span></span> <span data-ttu-id="e7133-221">이 컨트롤러에 대 한 코드는 매우 간단 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-221">The code for this controller is fairly straightforward.</span></span> <span data-ttu-id="e7133-222">다음은 몇 가지 흥미로운 포인트입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-222">Here are some interesting points:</span></span>

- <span data-ttu-id="e7133-223">`GetTodoLists` 메서드는 LINQ 쿼리를 사용 하 여 로그인 한 사용자의 ID로 결과를 필터링 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-223">The `GetTodoLists` method uses a LINQ query to filter the results by the ID of the logged-in user.</span></span> <span data-ttu-id="e7133-224">이런 방식으로 사용자 님에 속하는 데이터가 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-224">That way, a user only sees the data that belongs to him or her.</span></span> <span data-ttu-id="e7133-225">또한 변환 하는 Select 문을 사용 하는 것을 알는 `ToDoList` 인스턴스를 `TodoListDto` 인스턴스.</span><span class="sxs-lookup"><span data-stu-id="e7133-225">Also, notice that a Select statement is used to convert the `ToDoList` instances into `TodoListDto` instances.</span></span>
- <span data-ttu-id="e7133-226">PUT 및 POST 메서드가 데이터베이스를 수정 하기 전에 모델 상태를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-226">The PUT and POST methods check the model state before modifying the database.</span></span> <span data-ttu-id="e7133-227">경우 **ModelState.IsValid** 이 false 이면 이러한 메서드는 HTTP 400 잘못 된 요청을 반환 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-227">If **ModelState.IsValid** is false, these methods return HTTP 400, Bad Request.</span></span> <span data-ttu-id="e7133-228">모델 유효성 검사의 웹 API에 대 한 자세한 설명 [모델 유효성 검사](../../../web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-228">Read more about model validation in Web API at [Model Validation](../../../web-api/overview/formats-and-model-binding/model-validation-in-aspnet-web-api.md).</span></span>
- <span data-ttu-id="e7133-229">컨트롤러 클래스도으로 데코레이팅되 어는 **[Authorize]** 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-229">The controller class is also decorated with the **[Authorize]** attribute.</span></span> <span data-ttu-id="e7133-230">이 특성은 HTTP 요청이 인증 되었는지 여부를 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-230">This attribute checks whether the HTTP request is authenticated.</span></span> <span data-ttu-id="e7133-231">클라이언트가 HTTP 401 수신 요청이 인증 되지 않은 경우 권한 없음.</span><span class="sxs-lookup"><span data-stu-id="e7133-231">If the request is not authenticated, the client receives HTTP 401, Unauthorized.</span></span> <span data-ttu-id="e7133-232">인증에 대해 자세히 읽어보세요 [인증 및 ASP.NET Web API에서 권한 부여](../../../web-api/overview/security/authentication-and-authorization-in-aspnet-web-api.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-232">Read more about authentication at [Authentication and Authorization in ASP.NET Web API](../../../web-api/overview/security/authentication-and-authorization-in-aspnet-web-api.md).</span></span>

<span data-ttu-id="e7133-233">`TodoController` 클래스는 매우 비슷합니다 `TodoListController`합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-233">The `TodoController` class is very similar to `TodoListController`.</span></span> <span data-ttu-id="e7133-234">가장 큰 차이점은 클라이언트와 각 할 일 목록 함께 할 일 항목 가져오기 때문는 GET 메서드를 정의 하지 않습니다입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-234">The biggest difference is that it does not define any GET methods, because the client will get the to-do items along with each to-do list.</span></span>

## <a name="mvc-controllers-and-views"></a><span data-ttu-id="e7133-235">MVC 컨트롤러와 뷰</span><span class="sxs-lookup"><span data-stu-id="e7133-235">MVC Controllers and Views</span></span>

<span data-ttu-id="e7133-236">MVC 컨트롤러도 솔루션의 컨트롤러 폴더에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-236">The MVC controllers are also located in the Controllers folder of the solution.</span></span> <span data-ttu-id="e7133-237">`HomeController` 응용 프로그램에 대 한 기본 HTML을 렌더링합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-237">`HomeController` renders the main HTML for the application.</span></span> <span data-ttu-id="e7133-238">홈 컨트롤러에 대 한 보기 Views/Home/Index.cshtml에 정의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-238">The view for the Home controller is defined in Views/Home/Index.cshtml.</span></span> <span data-ttu-id="e7133-239">사용자 로그인 여부에 따라 다른 콘텐츠를 렌더링 하는 홈 보기:</span><span class="sxs-lookup"><span data-stu-id="e7133-239">The Home view renders different content depending on whether the user is logged in:</span></span>

[!code-cshtml[Main](knockoutjs-template/samples/sample4.cshtml)]

<span data-ttu-id="e7133-240">사용자가 로그인 하는 경우 주 UI 볼 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-240">When users are logged in, they see the main UI.</span></span> <span data-ttu-id="e7133-241">그렇지 않으면 정보가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-241">Otherwise, they see the login panel.</span></span> <span data-ttu-id="e7133-242">서버 쪽에서이 조건부 렌더링을 수행 하는 참고 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-242">Note that this conditional rendering happens on the server side.</span></span> <span data-ttu-id="e7133-243">클라이언트 쪽에서 중요 한 콘텐츠를 숨기 제거해 서는 안 & #8212anything HTTP 응답에 전송 하는 원시 HTTP 메시지를 감시 하는 사람에 게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-243">Never try to hide sensitive content on the client side&#8212anything that you send in an HTTP response is visible to someone who is watching the raw HTTP messages.</span></span>

## <a name="client-side-javascript-and-knockoutjs"></a><span data-ttu-id="e7133-244">클라이언트 쪽 JavaScript 및 Knockout.js</span><span class="sxs-lookup"><span data-stu-id="e7133-244">Client-Side JavaScript and Knockout.js</span></span>

<span data-ttu-id="e7133-245">이제 클라이언트 응용 프로그램의 서버 쪽에서 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-245">Now let's turn from the server side of the application to the client.</span></span> <span data-ttu-id="e7133-246">SPA 템플릿은 부드러운, 대화형 UI를 만들기 위해 jQuery 및 Knockout.js의 조합을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-246">The SPA template uses a combination of jQuery and Knockout.js to create a smooth, interactive UI.</span></span> <span data-ttu-id="e7133-247">Knockout.js 쉽게 HTML 데이터에 바인딩할 수 있는 JavaScript 라이브러리가입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-247">Knockout.js is a JavaScript library that makes it easy to bind HTML to data.</span></span> <span data-ttu-id="e7133-248">Knockout.js "모델-뷰-ViewModel" 이라는 패턴을 사용 하 여</span><span class="sxs-lookup"><span data-stu-id="e7133-248">Knockout.js uses a pattern called "Model-View-ViewModel."</span></span>

- <span data-ttu-id="e7133-249">모델은 도메인 데이터 (할 일 목록 및 할 일 항목).</span><span class="sxs-lookup"><span data-stu-id="e7133-249">The model is the domain data (ToDo lists and ToDo items).</span></span>
- <span data-ttu-id="e7133-250">보기는 HTML 문서입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-250">The view is the HTML document.</span></span>
- <span data-ttu-id="e7133-251">뷰 모델은 모델 데이터를 보유 하는 JavaScript 개체입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-251">The view-model is a JavaScript object that holds the model data.</span></span> <span data-ttu-id="e7133-252">뷰 모델은 UI의 코드 추상화입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-252">The view-model is a code abstraction of the UI.</span></span> <span data-ttu-id="e7133-253">그는 HTML 표현의 알지 못합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-253">It has no knowledge of the HTML representation.</span></span> <span data-ttu-id="e7133-254">대신, "목록 등의 할 일 항목" 보기의 추상 기능을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-254">Instead, it represents abstract features of the view, such as "a list of ToDo items".</span></span>

<span data-ttu-id="e7133-255">뷰 데이터 바인딩된 뷰 모델에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-255">The view is data-bound to the view-model.</span></span> <span data-ttu-id="e7133-256">뷰 모델에 대 한 업데이트는 자동으로 보기에 반영 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-256">Updates to the view-model are automatically reflected in the view.</span></span> <span data-ttu-id="e7133-257">바인딩에 다른 방향으로도 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-257">Bindings work the other direction as well.</span></span> <span data-ttu-id="e7133-258">이벤트 (예: 클릭) DOM에 데이터 바인딩된 함수에의 보기 모델에 AJAX 호출을 트리거하는 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-258">Events in the DOM (such as clicks) are data-bound to functions on the view model, which trigger AJAX calls.</span></span>

<span data-ttu-id="e7133-259">SPA 서식 파일에서는 세 가지 계층으로 클라이언트 쪽 JavaScript 구분 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-259">The SPA template organizes the client-side JavaScript into three layers:</span></span>

- <span data-ttu-id="e7133-260">todo.datacontext.js: AJAX 요청을 보냅니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-260">todo.datacontext.js: Sends AJAX requests.</span></span>
- <span data-ttu-id="e7133-261">todo.model.js: 모델을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-261">todo.model.js: Defines the models.</span></span>
- <span data-ttu-id="e7133-262">todo.viewmodel.js: 보기 모델을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-262">todo.viewmodel.js: Defines the view model.</span></span>

![](knockoutjs-template/_static/image11.png)

<span data-ttu-id="e7133-263">이러한 스크립트 파일은 솔루션의 스크립트/응용 프로그램 폴더에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-263">These script files are located in the Scripts/app folder of the solution.</span></span>

![](knockoutjs-template/_static/image12.png)

<span data-ttu-id="e7133-264">**todo.datacontext** Web API 컨트롤러에 대 한 모든 AJAX 호출을 처리 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-264">**todo.datacontext** handles all AJAX calls to the Web API controllers.</span></span> <span data-ttu-id="e7133-265">(AJAX 호출의 로깅을 위한에 정의 되어 다른 곳에서 ajaxlogin.js.)</span><span class="sxs-lookup"><span data-stu-id="e7133-265">(The AJAX calls for logging in are defined elsewhere, in ajaxlogin.js.)</span></span>

<span data-ttu-id="e7133-266">**todo.model.js** 할 일 목록에 대 한 클라이언트 쪽 (브라우저) 모델을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-266">**todo.model.js** defines the client-side (browser) models for the to-do lists.</span></span> <span data-ttu-id="e7133-267">모델 클래스: todoItem 및 todoList 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-267">There are two model classes: todoItem and todoList.</span></span>

<span data-ttu-id="e7133-268">모델 클래스에서 속성 중 상당수는 "ko.observable" 유형입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-268">Many of the properties in the model classes are of type "ko.observable".</span></span> <span data-ttu-id="e7133-269">관찰 가능 개체는 Knockout 해당 매직을 수행 하는 방법.</span><span class="sxs-lookup"><span data-stu-id="e7133-269">Observables are how Knockout does its magic.</span></span> <span data-ttu-id="e7133-270">[Knockout 설명서](http://knockoutjs.com/documentation/introduction.html): observable은 "JavaScript 개체를 변경 하는 방법에 대 한 구독자에 게 알릴 수 있습니다."</span><span class="sxs-lookup"><span data-stu-id="e7133-270">From the [Knockout documentation](http://knockoutjs.com/documentation/introduction.html): An observable is a "JavaScript object that can notify subscribers about changes."</span></span> <span data-ttu-id="e7133-271">관찰 가능 개체의 값이 변경 될 때 Knockout 해당 관찰 가능 개체에 바인딩되는 HTML 요소를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-271">When the value of an observable changes, Knockout updates any HTML elements that are bound to those observables.</span></span> <span data-ttu-id="e7133-272">예를 들어 todoItem 제목과 isDone 속성에 대 한 관찰 가능 개체에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-272">For example, todoItem has observables for the title and isDone properties:</span></span>

[!code-javascript[Main](knockoutjs-template/samples/sample5.js)]

<span data-ttu-id="e7133-273">코드에는 관찰 가능 개체를 구독할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-273">You can also subscribe to an observable in code.</span></span> <span data-ttu-id="e7133-274">예를 들어 todoItem 클래스 "isDone" 및 "title" 속성의 변화에 따라 구독:</span><span class="sxs-lookup"><span data-stu-id="e7133-274">For example, the todoItem class subscribes to changes in the "isDone" and "title" properties:</span></span>

[!code-javascript[Main](knockoutjs-template/samples/sample6.js)]

<span data-ttu-id="e7133-275">**뷰 모델**</span><span class="sxs-lookup"><span data-stu-id="e7133-275">**View Model**</span></span>

<span data-ttu-id="e7133-276">뷰 모델 todo.viewmodel.js에 정의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-276">The view model is defined in todo.viewmodel.js.</span></span> <span data-ttu-id="e7133-277">보기 모델은 중심점 응용 프로그램 도메인 데이터를 HTML 페이지 요소를 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-277">The view model is the central point where the application binds the HTML page elements to the domain data.</span></span> <span data-ttu-id="e7133-278">SPA 서식 파일을 보기 모델을 observable todoLists 배열을 포함합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-278">In the SPA template, the view model contains an observable array of todoLists.</span></span> <span data-ttu-id="e7133-279">보기 모델에 다음 코드를 지시 Knockout 바인딩을 적용 하려면:</span><span class="sxs-lookup"><span data-stu-id="e7133-279">The following code in the view model tells Knockout to apply the bindings:</span></span>

[!code-javascript[Main](knockoutjs-template/samples/sample7.js)]

## <a name="html-and-data-binding"></a><span data-ttu-id="e7133-280">HTML 및 데이터 바인딩</span><span class="sxs-lookup"><span data-stu-id="e7133-280">HTML and Data Binding</span></span>

<span data-ttu-id="e7133-281">페이지에 대 한 기본 HTML Views/Home/Index.cshtml에 정의 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-281">The main HTML for the page is defined in Views/Home/Index.cshtml.</span></span> <span data-ttu-id="e7133-282">데이터 바인딩, 사용 중 이므로 HTML이 어떤 실제로 렌더링할 방법을 위한 템플릿일 뿐입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-282">Because we are using data-binding, the HTML is only a template for what actually gets rendered.</span></span> <span data-ttu-id="e7133-283">사용 하 여 knockout *선언적* 바인딩.</span><span class="sxs-lookup"><span data-stu-id="e7133-283">Knockout uses *declarative* bindings.</span></span> <span data-ttu-id="e7133-284">데이터 요소에 "데이터 바인딩" 특성을 추가 하 여 페이지 요소에 바인딩할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-284">You bind page elements to data by adding a "data-bind" attribute to the element.</span></span> <span data-ttu-id="e7133-285">Knockout 설명서에서 가져온 매우 간단한 예제는 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-285">Here is a very simple example, taken from the Knockout documentation:</span></span>

[!code-html[Main](knockoutjs-template/samples/sample8.html)]

<span data-ttu-id="e7133-286">이 예에서는 Knockout 업데이트의 콘텐츠는  **&lt;걸쳐&gt;**  의 값을 가진 요소가 `myItems.count()`합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-286">In this example, Knockout updates the contents of the **&lt;span&gt;** element with the value of `myItems.count()`.</span></span> <span data-ttu-id="e7133-287">이 값이 변경 될 때마다 Knockout 문서를 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-287">Whenever this value changes, Knockout updates the document.</span></span>

<span data-ttu-id="e7133-288">Knockout 다양 한 다양 한 바인딩 유형 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-288">Knockout provides a number of different binding types.</span></span> <span data-ttu-id="e7133-289">일부 SPA 서식 파일에 사용 되는 바인딩은 다음과 같습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-289">Here are some of the bindings used in the SPA template:</span></span>

- <span data-ttu-id="e7133-290">**foreach**: 하면 루프를 반복 하 고 동일한 태그 목록에서 각 항목에 적용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-290">**foreach**: Lets you iterate through a loop and apply the same markup to each item in the list.</span></span> <span data-ttu-id="e7133-291">할 일 목록 및 할 일 항목을 렌더링 하는이 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-291">This is used to render the to-do lists and to-do items.</span></span> <span data-ttu-id="e7133-292">내에서 **foreach**, 바인딩이 목록 요소에 적용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-292">Within the **foreach**, the bindings are applied to the elements of the list.</span></span>
- <span data-ttu-id="e7133-293">**표시**: 표시 유형을 전환 하는 데 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-293">**visible**: Used to toggle visibility.</span></span> <span data-ttu-id="e7133-294">컬렉션이 비어 있는 경우에 태그를 숨기 거 나 오류 메시지가 표시 되도록 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-294">Hide markup when a collection is empty, or make the error message visible.</span></span>
- <span data-ttu-id="e7133-295">**값**: 양식 값을 채우는 데 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-295">**value**: Used to populate form values.</span></span>
- <span data-ttu-id="e7133-296">**클릭**: click 이벤트의 보기 모델에 대해 함수를 바인딩합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-296">**click**: Binds a click event to a function on the view model.</span></span>

## <a name="anti-csrf-protection"></a><span data-ttu-id="e7133-297">앤티 CSRF 보호</span><span class="sxs-lookup"><span data-stu-id="e7133-297">Anti-CSRF Protection</span></span>

<span data-ttu-id="e7133-298">교차 사이트 요청 위조 CSRF ()은 악성 사이트를 사용자가 현재 로그인 취약 한 사이트에 요청을 보냅니다는 방식의 공격입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-298">Cross-Site Request Forgery (CSRF) is an attack where a malicious site sends a request to a vulnerable site where the user is currently logged in.</span></span> <span data-ttu-id="e7133-299">ASP.NET MVC에서 CSRF 공격을 방지 하려면 다음을 사용 합니다. *위조 방지 토큰*, 요청 확인 토큰 라고도 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-299">To help prevent CSRF attacks, ASP.NET MVC uses *anti-forgery tokens*, also called request verification tokens.</span></span> <span data-ttu-id="e7133-300">이 아이디어는 서버를 웹 페이지에는 임의로 생성 된 토큰을 넣습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-300">The idea is that the server puts a randomly generated token into a web page.</span></span> <span data-ttu-id="e7133-301">클라이언트 데이터를 서버에 전송할 때는 요청 메시지에이 값을 포함 해야 것입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-301">When the client submits data to the server, it must include this value in the request message.</span></span>

<span data-ttu-id="e7133-302">위조 방지 토큰에는 악의적인 페이지 동일 원본 정책으로 인해 사용자의 토큰을 읽을 수 없으므로 작동 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-302">Anti-forgery tokens work because the malicious page cannot read the user's tokens, due to same-origin policies.</span></span> <span data-ttu-id="e7133-303">(동일 원본 정책에서 다른 사용자의 콘텐츠에 액세스 하는 두 개의 다른 사이트에서 호스팅되는 문서를 방지 합니다.)</span><span class="sxs-lookup"><span data-stu-id="e7133-303">(Same-origin policies prevent documents hosted on two different sites from accessing each other's content.)</span></span>

<span data-ttu-id="e7133-304">ASP.NET MVC 위조 방지 토큰에 대 한 기본 제공 지원을 통해 제공 된 [AntiForgery](https://msdn.microsoft.com/library/system.web.helpers.antiforgery.aspx) 클래스 및 [[ValidateAntiForgeryToken]](https://msdn.microsoft.com/library/system.web.mvc.validateantiforgerytokenattribute.aspx) 특성입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-304">ASP.NET MVC provides built-in support for anti-forgery tokens, through the [AntiForgery](https://msdn.microsoft.com/library/system.web.helpers.antiforgery.aspx) class and the [[ValidateAntiForgeryToken]](https://msdn.microsoft.com/library/system.web.mvc.validateantiforgerytokenattribute.aspx) attribute.</span></span> <span data-ttu-id="e7133-305">현재이 기능에 포함 되어 있지 웹 API입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-305">Currently, this functionality is not built into Web API.</span></span> <span data-ttu-id="e7133-306">그러나 SPA 서식 파일에는 웹 API에 대 한 사용자 지정 구현이 포함 되어 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-306">However, the SPA template includes a custom implementation for Web API.</span></span> <span data-ttu-id="e7133-307">이 코드에 정의 된는 `ValidateHttpAntiForgeryTokenAttribute` 솔루션의 필터 폴더에 있는 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-307">This code is defined in the `ValidateHttpAntiForgeryTokenAttribute` class, which is located in the Filters folder of the solution.</span></span> <span data-ttu-id="e7133-308">앤티 CSRF 웹 API에 대 한 자세한 참조 [방지 교차 사이트 요청 위조 (CSRF) 공격](../../../web-api/overview/security/preventing-cross-site-request-forgery-csrf-attacks.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-308">To learn more about anti-CSRF in Web API, see [Preventing Cross-Site Request Forgery (CSRF) Attacks](../../../web-api/overview/security/preventing-cross-site-request-forgery-csrf-attacks.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="e7133-309">결론</span><span class="sxs-lookup"><span data-stu-id="e7133-309">Conclusion</span></span>

<span data-ttu-id="e7133-310">SPA 템플릿은 현대적이 고 대화형 웹 응용 프로그램을 신속 하 게 작성을 시작 하도록 설계 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-310">The SPA template is designed to get you started quickly writing modern, interactive web applications.</span></span> <span data-ttu-id="e7133-311">Knockout.js 라이브러리를 사용 하 여 데이터 및 응용 프로그램 논리에서 프레젠테이션 (HTML 태그)를 구분 합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-311">It uses the Knockout.js library to separate presentation (HTML markup) from the data and application logic.</span></span> <span data-ttu-id="e7133-312">있지만 Knockout는 SPA를 만드는 데 사용할 수 있는 유일한 JavaScript 라이브러리가 아닙니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-312">But Knockout is not the only JavaScript library you can use to create a SPA.</span></span> <span data-ttu-id="e7133-313">다른 옵션을 탐색 하려는 경우에 대해 살펴봅니다는 [SPA 템플릿 커뮤니티에서 만든](../templates/index.md)합니다.</span><span class="sxs-lookup"><span data-stu-id="e7133-313">If you want to explore some other options, take a look at the [community-created SPA templates](../templates/index.md).</span></span>
