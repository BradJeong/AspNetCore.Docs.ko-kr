---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-the-production-web-application-to-use-the-production-database-cs
title: 프로덕션 데이터베이스 (C#)를 사용 하 여 프로덕션 웹 응용 프로그램 구성 | Microsoft Docs
author: rick-anderson
description: 이전 자습서에서 설명 했 듯이 구성 정보를 개발 및 프로덕션 환경 간에 다도 드물지 않습니다. 이 es 중...
ms.author: aspnetcontent
manager: wpickett
ms.date: 04/23/2009
ms.topic: article
ms.assetid: 0177dabd-d888-449f-91b2-24190cf5e842
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/configuring-the-production-web-application-to-use-the-production-database-cs
msc.type: authoredcontent
ms.openlocfilehash: 7fef7ecab0e51790ff7737b16500f6c2bb5eecdf
ms.sourcegitcommit: f8852267f463b62d7f975e56bea9aa3f68fbbdeb
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 04/06/2018
---
<a name="configuring-the-production-web-application-to-use-the-production-database-c"></a><span data-ttu-id="e4ef8-104">프로덕션 데이터베이스 (C#)를 사용 하 여 프로덕션 웹 응용 프로그램 구성</span><span class="sxs-lookup"><span data-stu-id="e4ef8-104">Configuring the Production Web Application to Use the Production Database (C#)</span></span>
====================
<span data-ttu-id="e4ef8-105">으로 [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="e4ef8-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="e4ef8-106">[코드를 다운로드](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_08_CS.zip) 또는 [PDF 다운로드](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial08_DBConfig_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="e4ef8-106">[Download Code](http://download.microsoft.com/download/E/6/F/E6FE3A1F-EE3A-4119-989A-33D1A9F6F6DD/ASPNET_Hosting_Tutorial_08_CS.zip) or [Download PDF](http://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial08_DBConfig_cs.pdf)</span></span>

> <span data-ttu-id="e4ef8-107">이전 자습서에서 설명 했 듯이 구성 정보를 개발 및 프로덕션 환경 간에 다도 드물지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-107">As discussed in earlier tutorials, it is not uncommon for configuration information to differ between the development and production environments.</span></span> <span data-ttu-id="e4ef8-108">이 개발 및 프로덕션 환경 간에 데이터베이스 연결 문자열 다르게 데이터 기반 웹 응용 프로그램의 경우 특히 그렇습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-108">This is especially true for data-driven web applications, as the database connection strings differ between the development and production environments.</span></span> <span data-ttu-id="e4ef8-109">이 자습서에는 프로덕션 환경 보다 자세히 적절 한 연결 문자열을 포함 하도록 구성할 수 있는 방법을 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-109">This tutorial explores ways to configure the production environment to include the appropriate connection string in more detail.</span></span>


## <a name="introduction"></a><span data-ttu-id="e4ef8-110">소개</span><span class="sxs-lookup"><span data-stu-id="e4ef8-110">Introduction</span></span>

<span data-ttu-id="e4ef8-111">데이터 기반 웹 응용 프로그램은 일반적으로 프로덕션 환경에서 되었을 때 보다 개발에 있을 때 다른 데이터베이스를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-111">Data-driven web applications usually use a different database when in development than when in production.</span></span> <span data-ttu-id="e4ef8-112">웹 호스트 공급자에 의해 호스팅되며 로컬로 개발 된 응용 프로그램의 경우 개발 데이터베이스 일반적으로 컴퓨터에 있는 개발자 s 동안 프로덕션 데이터베이스를 웹 호스팅 회사의 기관에서 데이터베이스 서버에서 호스팅됩니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-112">For applications hosted by a web host provider and developed locally, the development database typically resides on the developer s computer while the production database is hosted on a database server at the web hosting company s facility.</span></span> <span data-ttu-id="e4ef8-113">데이터 기반 웹 응용 프로그램을 배포 하려면 개발 데이터베이스를 프로덕션 데이터베이스 서버에 복사 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-113">Deploying a data-driven web application entails copying the development database to the production database server.</span></span> <span data-ttu-id="e4ef8-114">이전 자습서의이 단계를 수행 하는 방법을 찾았습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-114">In the previous tutorial we looked at ways to accomplish this step.</span></span>

<span data-ttu-id="e4ef8-115">웹 응용 프로그램에 정보를 사용 하는 *연결 문자열* 데이터베이스와 연결을 설정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-115">The web application uses the information in a *connection string* to establish a connection with the database.</span></span> <span data-ttu-id="e4ef8-116">일반적으로에 저장 된 연결 문자열 `Web.config`, 데이터베이스 서버 이름, 데이터베이스, 보안 컨텍스트 및 기타 정보의 이름을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-116">The connection string, which is typically stored in `Web.config`, specifies the database server name, the name of the database, the security context, and other information.</span></span> <span data-ttu-id="e4ef8-117">웹 응용 프로그램에서 사용 되는 데이터베이스 개발 또는 프로덕션 환경에서 웹 응용 프로그램의 실행 여부에 따라 달라, 연결 문자열은 두 환경 간에 달라 야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-117">Because the database used by the web application depends on whether the web application is running in the development or production environments, the connection strings must differ between the two environments.</span></span>

<span data-ttu-id="e4ef8-118">구성 정보를 개발 및 프로덕션 환경 간에 다도 드물지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-118">It is not uncommon for configuration information to differ between the development and production environments.</span></span> <span data-ttu-id="e4ef8-119">*일반적인 구성 차이점 간의 개발 및 프로덕션* 자습서에 대 한 간단한 설명은 뿐만 아니라 이러한 두 가지 환경 간에 별도 구성 정보를 유지 관리에 대 한 기술 설명 데이터베이스 연결 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-119">The *Common Configuration Differences Between Development and Production* tutorial discussed techniques for maintaining separate configuration information between these two environments, as well as a brief discussion on database connection strings.</span></span> <span data-ttu-id="e4ef8-120">이 자습서에는 프로덕션 환경 보다 자세히 적절 한 연결 문자열을 포함 하도록 구성할 수 있는 방법을 탐색 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-120">This tutorial explores ways to configure the production environment to include the appropriate connection string in more detail.</span></span>

## <a name="examining-the-connection-string-information"></a><span data-ttu-id="e4ef8-121">연결 문자열 정보를 검토합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-121">Examining the Connection String Information</span></span>

<span data-ttu-id="e4ef8-122">책 검토 웹 응용 프로그램에서 사용 하는 연결 문자열은 응용 프로그램의 구성 파일에 저장 `Web.config`합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-122">The connection string used by the Book Reviews web application is stored in the application s configuration file, `Web.config`.</span></span> <span data-ttu-id="e4ef8-123">`Web.config` 연결 문자열에 적절 하 게 저장 하기 위한 특별 한 섹션이 포함 되어 [ &lt;connectionStrings&gt;](https://msdn.microsoft.com/library/bf7sd233.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-123">`Web.config` includes a special section for storing connection strings, aptly named [&lt;connectionStrings&gt;](https://msdn.microsoft.com/library/bf7sd233.aspx).</span></span> <span data-ttu-id="e4ef8-124">`Web.config` 책 검토 웹 사이트에이 섹션에 정의 된 하나의 연결 문자열에 대 한 파일 `ReviewsConnectionString`:</span><span class="sxs-lookup"><span data-stu-id="e4ef8-124">The `Web.config` file for the Book Reviews website has one connection string defined in this section named `ReviewsConnectionString`:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-cs/samples/sample1.xml)]

<span data-ttu-id="e4ef8-125">데이터 원본 연결 문자열-=. \SQLEXPRESS; AttachDbFilename = | DataDirectory|\Reviews.mdf;Integrated 보안 = True; 사용자 인스턴스 = True-각 옵션 및 세미콜론으로 구분 하는 옵션/값 쌍 및 등호로 구분 된 값을 가진 다양 한 옵션 및 값으로 구성 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-125">The connection string - Data Source=.\SQLEXPRESS;AttachDbFilename=|DataDirectory|\Reviews.mdf;Integrated Security=True;User Instance=True - is composed of a number of options and values, with option/value pairs delimited by a semicolon and each option and value delimited by an equals sign.</span></span> <span data-ttu-id="e4ef8-126">이 연결 문자열에서 사용 되는 네 가지 옵션이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-126">The four options used in this connection string are:</span></span>

- <span data-ttu-id="e4ef8-127">`Data Source` -(있는 경우) 데이터베이스 서버 및 데이터베이스 서버 인스턴스 이름의 위치를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-127">`Data Source` - specifies the location of the database server and the database server instance name (if any).</span></span> <span data-ttu-id="e4ef8-128">값을 `.\SQLEXPRESS`, 한 예로 데이터베이스 서버 및 인스턴스 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-128">The value, `.\SQLEXPRESS`, is an example where there is a database server and an instance name.</span></span> <span data-ttu-id="e4ef8-129">기간 응용 프로그램;와 같은 컴퓨터에 데이터베이스 서버를 지정 합니다. 인스턴스 이름이 `SQLEXPRESS`합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-129">The period specifies that the database server is on the same computer as the application; the instance name is `SQLEXPRESS`.</span></span>
- <span data-ttu-id="e4ef8-130">`AttachDbFilename` -데이터베이스 파일의 위치를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-130">`AttachDbFilename` - specifies the location of the database file.</span></span> <span data-ttu-id="e4ef8-131">자리 표시자를 포함 하는 값 `|DataDirectory|`, 응용 프로그램 s의 전체 경로 됨 `App_Data` 런타임 시 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-131">The value contains the placeholder `|DataDirectory|`, which is resolved to the full path of the application s `App_Data` folder at runtime.</span></span>
- <span data-ttu-id="e4ef8-132">`Integrated Security` -계정 자격 증명 (true) (false) 데이터베이스 또는 현재 Windows에 연결할 때 지정 된 사용자 이름/암호를 사용할지 여부를 나타내는 부울 값입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-132">`Integrated Security` - a Boolean value that indicates whether to use a specified username/password when connecting to the database (false) or the current Windows account credentials (true).</span></span>
- <span data-ttu-id="e4ef8-133">`User Instance` -SQL Server Express Edition 비관리 사용자에 게 로컬 컴퓨터에 연결 하 고 SQL Server Express Edition 데이터베이스에 연결할 수 있도록 할지 여부를 나타내는 관련 구성 옵션입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-133">`User Instance` - a configuration option specific to the SQL Server Express Editions that indicates whether to allow non-Administrative users on the local computer attach and connect to a SQL Server Express Edition database.</span></span> <span data-ttu-id="e4ef8-134">참조 [SQL Server Express 사용자 인스턴스](https://msdn.microsoft.com/library/ms254504.aspx) 이 설정에 대 한 자세한 내용은 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-134">See [SQL Server Express User Instances](https://msdn.microsoft.com/library/ms254504.aspx) for more information on this setting.</span></span>
  

<span data-ttu-id="e4ef8-135">허용 가능한 연결 문자열 옵션 사용 중인 ADO.NET 데이터베이스 공급자에 연결 하는 데이터베이스에 따라 다릅니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-135">The allowable connection string options depend on the database you are connecting to and the ADO.NET database provider being used.</span></span> <span data-ttu-id="e4ef8-136">예를 들어 Oracle 데이터베이스에 연결 하는 데 사용 되는 데이터베이스에서와 다른 Microsoft SQL Server에 연결 하기 위한 연결 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-136">For example, the connection string for connecting to a Microsoft SQL Server database differs from that used to connect to an Oracle database.</span></span> <span data-ttu-id="e4ef8-137">마찬가지로, SqlClient 공급자를 사용 하 여 Microsoft SQL Server 데이터베이스에 연결 하는 OLE DB 공급자를 사용할 때 보다 다른 연결 문자열을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-137">Likewise, connecting to a Microsoft SQL Server database using the SqlClient provider uses a different connection string than when using the OLE-DB provider.</span></span>

<span data-ttu-id="e4ef8-138">같은 사이트를 사용 하 여 수동으로 데이터베이스 연결 문자열을 빌드할 수 [ConnectionStrings.com](http://www.connectionstrings.com/) 사용할 수 있는 옵션과 각 옵션에 대 한 리소스로 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-138">You can build the database connection string by hand using a site like [ConnectionStrings.com](http://www.connectionstrings.com/) as a resource for what options are available.</span></span> <span data-ttu-id="e4ef8-139">그러나 보다 쉬운 접근을 Visual Studio에서 서버 탐색기에 데이터베이스를 추가 하는 다음 속성 창에서 연결 문자열을 잡고를 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-139">However, an easier approach is to add the database to the Server Explorer in Visual Studio and then to grab the connection string from the Properties window.</span></span> <span data-ttu-id="e4ef8-140">프로덕션 데이터베이스 서버에 연결 문자열을 생성 하기 위한 마지막 기술을 사용 하 여 s를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-140">Let s use this latter technique for constructing the connection string to the production database server.</span></span>

<span data-ttu-id="e4ef8-141">Visual Studio를 열고 서버 탐색기 창으로 이동 합니다 (Visual Web Developer에서이 창을 라고 데이터베이스 탐색기).</span><span class="sxs-lookup"><span data-stu-id="e4ef8-141">Open Visual Studio and then navigate to the Server Explorer window (in Visual Web Developer, this window is called Database Explorer).</span></span> <span data-ttu-id="e4ef8-142">데이터 연결 옵션 단추로 클릭 하 고 상황에 맞는 메뉴에서 추가 연결 옵션을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-142">Right-click on the Data Connections option and choose the Add Connection option from the context menu.</span></span> <span data-ttu-id="e4ef8-143">그림 1에 표시 된 마법사가 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-143">This brings up the wizard shown in Figure 1.</span></span> <span data-ttu-id="e4ef8-144">적절 한 데이터 원본을 선택 하 고 계속을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-144">Choose the appropriate data source and click Continue.</span></span>


<span data-ttu-id="e4ef8-145">[![서버 탐색기에 새 데이터베이스를 추가 하려면 선택 합니다.](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image2.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="e4ef8-145">[![Choose to Add a New Database to the Server Explorer](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image2.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image1.jpg)</span></span> 

<span data-ttu-id="e4ef8-146">**그림 1**: 서버 탐색기에 새 데이터베이스를 추가 하도록 선택 ([전체 크기 이미지를 보려면 클릭](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="e4ef8-146">**Figure 1**: Choose to Add a New Database to the Server Explorer ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image3.jpg))</span></span>


<span data-ttu-id="e4ef8-147">그런 다음 다양 한 데이터베이스 연결 정보 지정 (그림 2 참조).</span><span class="sxs-lookup"><span data-stu-id="e4ef8-147">Next, specify the various database connection information (see Figure 2).</span></span> <span data-ttu-id="e4ef8-148">웹 호스팅 회사에 게 등록 하는 경우 해야 제공한 정보-데이터베이스 서버 이름, 데이터베이스 이름, 사용자 이름 및 암호를 사용 하는 데이터베이스에 연결 하 고 등 데이터베이스에 연결 하는 방법에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-148">When you signed up with your web hosting company they should have provided information on how to connect to the database - the database server name, the database name, the username and password to use to connect to the database, and so on.</span></span> <span data-ttu-id="e4ef8-149">이 정보를 입력 한 후이 마법사를 완료 하 고 서버 탐색기에 데이터베이스를 추가 하려면 확인을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-149">After entering this information click OK to complete this wizard and to add the database to the Server Explorer.</span></span>


<span data-ttu-id="e4ef8-150">[![데이터베이스 연결 정보를 지정 합니다.](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image5.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="e4ef8-150">[![Specify the Database Connection Information](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image5.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image4.jpg)</span></span> 

<span data-ttu-id="e4ef8-151">**그림 2**: 데이터베이스 연결 정보 지정 ([전체 크기 이미지를 보려면 클릭](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="e4ef8-151">**Figure 2**: Specify the Database Connection Information ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image6.jpg))</span></span>


<span data-ttu-id="e4ef8-152">이제 프로덕션 환경 데이터베이스 서버 탐색기에 나열 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-152">The production environment database should now be listed in the Server Explorer.</span></span> <span data-ttu-id="e4ef8-153">서버 탐색기에서 데이터베이스를 선택 하 고 속성 창으로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-153">Select the database from the Server Explorer and go to the Properties window.</span></span> <span data-ttu-id="e4ef8-154">있습니다 라는 데이터베이스의 연결 문자열과 함께 연결 문자열 속성을 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-154">There you will find a property named Connection String with the database s connection string.</span></span> <span data-ttu-id="e4ef8-155">프로덕션 및 SqlClient 공급자는 Microsoft SQL Server 데이터베이스를 사용할 경우 연결 문자열이 다음과 비슷하게 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-155">Assuming you are using a Microsoft SQL Server database on production and the SqlClient provider your connection string should look similar to the following:</span></span>

<span data-ttu-id="e4ef8-156"><strong>데이터 원본 =<em>serverName</em>; 초기 카탈로그 =<em>databaseName</em>; 보안 정보 유지 = True; 사용자 ID =<em>username</em>; 암호 =*암호</strong>*</span><span class="sxs-lookup"><span data-stu-id="e4ef8-156"><strong>Data Source=<em>serverName</em>; Initial Catalog=<em>databaseName</em>; Persist Security Info=True; User ID=<em>username</em>; Password=*password</strong>*</span></span>

<span data-ttu-id="e4ef8-157">여기서 *serverName*, *databaseName*, *username*, 및 *암호* 데이터베이스 서버 이름, 데이터베이스에 대 한 값으로는 이름 및 사용자 이름 및 암호 웹 호스트 귀사에 게 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-157">Where *serverName*, *databaseName*, *username*, and *password* are with the values for the database server name, the database name, and the username and password supplied to you by your web host company.</span></span>

## <a name="deploying-the-book-reviews-web-application"></a><span data-ttu-id="e4ef8-158">책 검토 웹 응용 프로그램 배포</span><span class="sxs-lookup"><span data-stu-id="e4ef8-158">Deploying the Book Reviews Web Application</span></span>

<span data-ttu-id="e4ef8-159">이전 자습서 개발 데이터베이스를 프로덕션 환경에 복사를 진행 하면서 하지만 데이터 기반 응용 프로그램 배포를 탐색 하지 못했습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-159">The preceding tutorial stepped through copying the development database to the production environment, but did not explore deploying the data-driven application.</span></span> <span data-ttu-id="e4ef8-160">이 시점에서 프로덕션 환경 데이터베이스를 포함 하지만 정적 검토 된 책을 검토 하는 응용 프로그램의 버전을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-160">At this point the production environment contains the database but is using the version of the Book Reviews application with static reviews.</span></span> <span data-ttu-id="e4ef8-161">업데이트 된 구성 정보와 함께 프로덕션 서버에 새, 데이터 기반 응용 프로그램을 배포 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-161">We need to deploy the new, data-driven application to the production server along with the updated configuration information.</span></span>

<span data-ttu-id="e4ef8-162">데이터 기반 응용 프로그램 배포 개발 환경에서 프로덕션 환경에 잠시 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-162">Take a moment to deploy the data-driven application from the development environment to production.</span></span> <span data-ttu-id="e4ef8-163">이 프로세스를 이전 자습서에서 자세히 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-163">This process was covered in detail in previous tutorials.</span></span> <span data-ttu-id="e4ef8-164">세부 정보를 보려면 참고는 *FTP 클라이언트를 사용 하 여 웹 사이트 배포* 또는 *배포 사용자 웹 사이트를 사용 하 여 Visual Studio* 자습서입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-164">If you need a refresher, see the *Deploying Your Website Using an FTP Client* or the *Deploying Your Website Using Visual Studio* tutorials.</span></span> <span data-ttu-id="e4ef8-165">프로덕션 데이터베이스 연결 문자열을 대체 하는 의미 프로덕션 환경에서 사용 되는 인지 확인 해야 합니다 `Web.config` 파일을 배포 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-165">You will need to ensure that the production database connection string is the one used in the production environment, which means that an alternate `Web.config` file must be deployed.</span></span> <span data-ttu-id="e4ef8-166">특히,이 수정할 `Web.config` 파일의 `<connectionStrings>` 요소 프로덕션 데이터베이스 연결 문자열을 포함 해야 하 고 다음과 비슷해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-166">Specifically, this modified `Web.config` file s `<connectionStrings>` element needs to contain the production database connection string and should look similar to the following:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-cs/samples/sample2.xml)]

<span data-ttu-id="e4ef8-167">연결 문자열에 `<connectionStrings>` 요소 이름이 (`ReviewsConnectionString`), 이제 개발 데이터베이스 연결 문자열 대신 프로덕션 데이터베이스 연결 문자열을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-167">Note that the connection string in the `<connectionStrings>` element is named the same (`ReviewsConnectionString`), but now contains the production database connection string instead of the development database connection string.</span></span>

<span data-ttu-id="e4ef8-168">배포 워크플로 더욱 형식화 없는 경우 수동으로 수정 하거나는 `Web.config` (개발 데이터베이스 연결 문자열을 사용 하 여으로 되돌아가도록 기억 합니다. 배포 하기 전에 프로덕션 데이터베이스 연결 문자열을 사용 하는 파일 나중에) 하거나 별도 유지 관리 `Web.config` 파일을 프로덕션 환경 구성 정보는 프로덕션 환경으로 배포 프로세스의 일부로 업로드를 가져옵니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-168">Unless you have a more formalized deployment workflow, either manually modify the `Web.config` file to use the production database connection string before deploying (remembering to revert it back to using the development database connection string afterwards) or maintain a separate `Web.config` file with the production environment configuration information that gets uploaded to the production environment as part of the deployment process.</span></span>

> [!NOTE]
> <span data-ttu-id="e4ef8-169">실수로 배포 하는 경우는 `Web.config` 프로덕션에서 응용 프로그램 데이터베이스에 연결 하려고 할 때 오류가 됩니다 개발 데이터베이스 연결 문자열이 포함 된 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-169">If you accidentally deploy a `Web.config` file that contains the development database connection string then there will be an error when the application on production attempts to connect to the database.</span></span> <span data-ttu-id="e4ef8-170">이 오류도 매니페스트는 `SqlException` 보고 서버를 찾을 수 없거나 액세스할 수 없으므로 메시지를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-170">This error manifests as a `SqlException` with a message reporting that the server was not found or was not accessible.</span></span>


<span data-ttu-id="e4ef8-171">사이트에 프로덕션에 배포 된 후 브라우저를 통해 프로덕션 사이트를 방문 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-171">Once the site has been deployed to production, visit the production site through your browser.</span></span> <span data-ttu-id="e4ef8-172">참조 해야 하며 데이터 기반 응용 프로그램을 로컬로 실행할 때와 동일한 사용자 환경을 즐길 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-172">You should see and enjoy the same user experience as when running the data-driven application locally.</span></span> <span data-ttu-id="e4ef8-173">물론 프로덕션에 웹 사이트를 방문할 때 사이트는 연결 된 프로덕션 데이터베이스 서버는 데이터베이스를 사용 하 여 개발에서 개발 환경에서 웹 사이트를 방문 하는 반면 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-173">Of course when you visit the website on production the site is powered by the production database server, whereas visiting the website in the development environment uses the database in development.</span></span> <span data-ttu-id="e4ef8-174">그림 3는 *업무량이 직접 ASP.NET 3.5 24 시간 동안에서* (참고의 브라우저 주소 표시줄에 URL) 프로덕션 환경에서 웹 사이트에서 페이지를 검토 하세요.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-174">Figure 3 shows the *Teach Yourself ASP.NET 3.5 in 24 Hours* review page from the website in the production environment (note the URL in the browser s Address bar).</span></span>


<span data-ttu-id="e4ef8-175">[![데이터 기반 응용 프로그램은 이제 사용 가능한에서 프로덕션!](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image8.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="e4ef8-175">[![The Data-Driven Application is Now Available On Production!](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image8.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image7.jpg)</span></span> 

<span data-ttu-id="e4ef8-176">**그림 3**: The Data-Driven 응용 프로그램은 이제 사용 가능한에서 프로덕션!</span><span class="sxs-lookup"><span data-stu-id="e4ef8-176">**Figure 3**: The Data-Driven Application is Now Available On Production!</span></span> <span data-ttu-id="e4ef8-177">([전체 크기 이미지를 보려면 클릭](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="e4ef8-177">([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image9.jpg))</span></span>


### <a name="storing-connection-strings-in-a-separate-configuration-file"></a><span data-ttu-id="e4ef8-178">별도 구성 파일에서 연결 문자열을 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-178">Storing Connection Strings in a Separate Configuration File</span></span>

<span data-ttu-id="e4ef8-179">개발 및 프로덕션 환경에 별도 구성 정보를 유지 하기 위한 일반적인 방법의 두 가지 버전은 `Web.config`: 개발 환경 및 프로덕션 환경에 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-179">A common technique for maintaining separate configuration information on the development and production environments is to have two versions of the `Web.config`: one for the development environment and one for production.</span></span> <span data-ttu-id="e4ef8-180">배포 시간 적절 한 `Web.config` 버전을 프로덕션 환경에 복사할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-180">At deploy-time the appropriate `Web.config` version can be copied to the production environment.</span></span> <span data-ttu-id="e4ef8-181">이상적으로 배포 워크플로의 일부분으로이 프로세스를 자동화 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-181">Ideally, this process would be automated as part of the deployment workflow.</span></span>

<span data-ttu-id="e4ef8-182">두 개의 별도 유지 하는 대신 `Web.config` 필요에 따라 수 파일 보다 세부적인 차이 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-182">Instead of maintaining two separate `Web.config` files you can, optionally, provide more granular differences.</span></span> <span data-ttu-id="e4ef8-183">구성 하는 요소는 `Web.config` 파일에서 다음 참조 되는 외부 구성 파일에서 정의할 수 있습니다는 `Web.config` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-183">The elements that make up the `Web.config` file can be defined in an external configuration files that are then referenced in the `Web.config` file.</span></span> <span data-ttu-id="e4ef8-184">간단히 말해 개 사용할 수 있습니다 `Web.config` 두 환경 모두에서 databaseConnectionStrings.config 파일을 연결 문자열에는 참조 하는 응용 프로그램에서 사용 하 고 각 환경에 대 한 고유는 대 한 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-184">In a nutshell you can have one `Web.config` file for both environments that references a databaseConnectionStrings.config file, which would contain the connection strings used by the application and would be unique for each environment.</span></span> <span data-ttu-id="e4ef8-185">필자는 서로 다른 구성 정보를 개별 파일로 구분 하는 좀 더 깔끔하게에서 제공 하는 기능을 원하는 `Web.config` 파일 등 명확 하 게 개발 및 프로덕션 환경 간의 구성 차이 구분 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-185">I find that separating the differing configuration information into separate files provides a tidier and simpler `Web.config` file and more clearly outlines the configuration differences between the development and production environments.</span></span>

<span data-ttu-id="e4ef8-186">이 기법을 사용 하려면 라는 웹 응용 프로그램에서 새 폴더를 만들어 시작 `ConfigSections`합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-186">To use this technique, start by creating a new folder in the web application named `ConfigSections`.</span></span> <span data-ttu-id="e4ef8-187">다음으로 databaseConnectionStrings.dev.config 및 databaseConnectionStrings.production.config 라는이 새 폴더에 두 개의 파일을 추가 합니다. 다음으로 복사는 `<connectionStrings>` 요소 `Web.config` databaseConnectionStrings.dev.config 및 databaseConnectionStrings.production.config 파일에 다음의 연결 문자열을 수정 하 고는 databaseConnectionStrings.production.config은 프로덕션 데이터베이스 연결 문자열을 지정할 수 있도록 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-187">Next, add two files to this new folder named databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config. Next, copy the `<connectionStrings>` element from `Web.config` into the databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config files, and then modify the connection string in the databaseConnectionStrings.production.config file so that it specifies the production database connection string.</span></span> <span data-ttu-id="e4ef8-188">예를 들어 databaseConnectionStrings.dev.config 파일에 있어야 테이블만 `<connectionStrings>` 개발 데이터베이스를 참조 하는 연결 문자열을 사용 하는 요소:</span><span class="sxs-lookup"><span data-stu-id="e4ef8-188">For example, the databaseConnectionStrings.dev.config file should contain just the `<connectionStrings>` element with a connection string that references the development database:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-cs/samples/sample3.xml)]

<span data-ttu-id="e4ef8-189">마찬가지로, databaseConnectionStrings.production.config 파일만 포함 되어야 합니다는 `<connectionStrings>` 요소를 사용할 수 있지만 프로덕션 데이터베이스 연결 문자열이 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-189">Similarly, the databaseConnectionStrings.production.config file should contain just a `<connectionStrings>` element, but one that has the production database connection string.</span></span>

<span data-ttu-id="e4ef8-190">DatabaseConnectionStrings.dev.config 파일의 복사본을 만들고 databaseConnectionStrings.config 라는 이름을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-190">Make a copy of the databaseConnectionStrings.dev.config file and name it databaseConnectionStrings.config.</span></span>

> [!NOTE]
> <span data-ttu-id="e4ef8-191">이름을 지정할 수 있습니다는 구성 파일 이외의 노드 databaseConnectionStrings.config, d 원한다 면와 같은 `connectionStrings.config` 또는 `dbInfo.config`합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-191">You can name the configuration file something other than databaseConnectionStrings.config, if you d like, such as `connectionStrings.config` or `dbInfo.config`.</span></span> <span data-ttu-id="e4ef8-192">하지만 사용 하 여 파일 이름을 지정 해야 한 `.config` 확장으로 `.config` 파일, 기본적으로 제공 되지 않습니다. ASP.NET 엔진에서.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-192">However, be sure to name the file with a `.config` extension as `.config` files are, by default, not served by the ASP.NET engine.</span></span> <span data-ttu-id="e4ef8-193">다음과 같은 경우 파일을 다른 작업 이름을 `connectionStrings.txt`, 사용자가 브라우저를 가리킬 수 [www.yoursite.com/ConfigSettings/connectionStrings.txt](http://www.yoursite.com/ConfigSettings/connectionStrings.txt) 파일의 내용을 볼!</span><span class="sxs-lookup"><span data-stu-id="e4ef8-193">If you name the file something else, like `connectionStrings.txt`, a user could point their browser to [www.yoursite.com/ConfigSettings/connectionStrings.txt](http://www.yoursite.com/ConfigSettings/connectionStrings.txt) and view the contents of the file!</span></span>


<span data-ttu-id="e4ef8-194">이 시점에서 `ConfigSections` 폴더 (그림 4 참조) 3 개의 파일을 포함 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-194">At this point the `ConfigSections` folder should contain three files (see Figure 4).</span></span> <span data-ttu-id="e4ef8-195">DatabaseConnectionStrings.dev.config 및 databaseConnectionStrings.production.config 파일 각각 개발 및 프로덕션 환경에 대 한 연결 문자열을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-195">The databaseConnectionStrings.dev.config and databaseConnectionStrings.production.config files contain the connection strings for the development and production environments, respectively.</span></span> <span data-ttu-id="e4ef8-196">DatabaseConnectionStrings.config 파일 런타임 시 웹 응용 프로그램에서 사용할 연결 문자열 정보를 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-196">The databaseConnectionStrings.config file contains the connection string information that will be used by the web application at runtime.</span></span> <span data-ttu-id="e4ef8-197">따라서 databaseConnectionStrings.config 파일 동일 해야 databaseConnectionStrings.dev.config 파일 개발 환경에서 프로덕션에 databaseConnectionStrings.config 파일 동일 해야 하는 반면 databaseConnectionStrings.production.config 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-197">Consequently, the databaseConnectionStrings.config file should be identical to the databaseConnectionStrings.dev.config file in the development environment, whereas on production the databaseConnectionStrings.config file should be identical to databaseConnectionStrings.production.config.</span></span>


<span data-ttu-id="e4ef8-198">[![ConfigSections](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image11.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image10.jpg)</span><span class="sxs-lookup"><span data-stu-id="e4ef8-198">[![ConfigSections](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image11.jpg)](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image10.jpg)</span></span> 

<span data-ttu-id="e4ef8-199">**그림 4**: ConfigSections ([전체 크기 이미지를 보려면 클릭](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image12.jpg))</span><span class="sxs-lookup"><span data-stu-id="e4ef8-199">**Figure 4**: ConfigSections ([Click to view full-size image](configuring-the-production-web-application-to-use-the-production-database-cs/_static/image12.jpg))</span></span>


<span data-ttu-id="e4ef8-200">이제 하도록 지시 해야 `Web.config` 해당 연결 문자열 저장소에 대 한 databaseConnectionStrings.config 파일을 사용 하도록 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-200">We now need to instruct `Web.config` to use the databaseConnectionStrings.config file for its connection string store.</span></span> <span data-ttu-id="e4ef8-201">`Web.config`을 열고 기존 `<connectionStrings>` 요소를 다음과 같이 바꿉니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-201">Open `Web.config` and replace the existing `<connectionStrings>` element with the following:</span></span>

[!code-xml[Main](configuring-the-production-web-application-to-use-the-production-database-cs/samples/sample4.xml)]

<span data-ttu-id="e4ef8-202">`configSource` 특성 지정 기준으로 실제 경로 `Web.config` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-202">The `configSource` attribute specifies a physical path relative to the `Web.config` file.</span></span> <span data-ttu-id="e4ef8-203">하는 경우 외부 `.config` 파일이 동일한 디렉터리에 `Web.config` 다음의 파일 이름으로이 특성을 설정는 `.config` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-203">If the external `.config` file is in the same directory as `Web.config` then set this attribute to the file name of the `.config` file.</span></span> <span data-ttu-id="e4ef8-204">경우이 하위 디렉터리에 s 경우 databaseConnectionStrings.config와 마찬가지로 지정 ConfigSections\databaseConnectionStrings.config와 같은 폴더 및 파일 이름을 구분 하는 백슬래시를 사용 하 여 하위 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-204">If it s in a subdirectory, as is the case with databaseConnectionStrings.config, specify the subfolder using a backslash to delimit the folder and file names, like ConfigSections\databaseConnectionStrings.config.</span></span>

<span data-ttu-id="e4ef8-205">이렇게 수정 개발 및 프로덕션 환경에 포함 동일한 `Web.config` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-205">With this modification, the development and production environments contain the same `Web.config` file.</span></span> <span data-ttu-id="e4ef8-206">이제 점만 databaseConnectionStrings.config 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-206">Now the only difference is the databaseConnectionStrings.config file.</span></span> <span data-ttu-id="e4ef8-207">프로덕션 환경에 databaseConnectionStrings.production.config 파일을 복사 하 고 databaseConnectionStrings.config로 이름을 바꿉니다. 나중에 프로덕션 데이터베이스 연결 문자열에는 변경 된 경우 해야 합니다 databaseConnectionStrings.production.config 파일에 더 하 고 다음 프로덕션 환경에 해당 파일을 업로드 databaseConnectionStrings.config 이름을 변경할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-207">Copy the databaseConnectionStrings.production.config file to production and rename it to databaseConnectionStrings.config. If, in the future, there are changes to the production database connection string you will need to make them to the databaseConnectionStrings.production.config file and then upload that file to production, renaming it databaseConnectionStrings.config.</span></span>

> [!NOTE]
> <span data-ttu-id="e4ef8-208">에 대 한 정보를 지정할 수 `Web.config` 별도 파일을 사용 하 여 요소는 `configSource` 내에서 해당 파일을 참조 하는 특성 `Web.config`합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-208">You may specify the information for any `Web.config` element in a separate file and use the `configSource` attribute to reference that file from within `Web.config`.</span></span>


## <a name="summary"></a><span data-ttu-id="e4ef8-209">요약</span><span class="sxs-lookup"><span data-stu-id="e4ef8-209">Summary</span></span>

<span data-ttu-id="e4ef8-210">일반적으로 데이터 기반 응용 프로그램 개발 및 프로덕션 환경에서 서로 다른 데이터베이스를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-210">Data-driven applications usually use different databases in the development and production environments.</span></span> <span data-ttu-id="e4ef8-211">따라서 웹 응용 프로그램의 구성에 저장 된 데이터베이스 연결 문자열 환경당 고유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-211">Consequently, the database connection strings stored in the web application s configuration must be unique per environment.</span></span> <span data-ttu-id="e4ef8-212">이 자습서에서는 프로덕션 데이터베이스 연결 문자열 및 두 환경에서 고유 연결 문자열 정보를 유지 관리 하는 방법을 결정 하는 방법을 찾았습니다.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-212">In this tutorial we looked at how to determine the production database connection string and ways to maintain unique connection string information in the two environments.</span></span>

<span data-ttu-id="e4ef8-213">만족도 매우 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="e4ef8-213">Happy Programming!</span></span>

#### <a name="further-reading"></a><span data-ttu-id="e4ef8-214">추가 정보</span><span class="sxs-lookup"><span data-stu-id="e4ef8-214">Further Reading</span></span>

<span data-ttu-id="e4ef8-215">이 자습서에 설명 된 항목에 대 한 자세한 내용은 다음 리소스를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="e4ef8-215">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="e4ef8-216">연결 문자열 및 구성 파일</span><span class="sxs-lookup"><span data-stu-id="e4ef8-216">Connection Strings and Configuration Files</span></span>](https://msdn.microsoft.com/library/ms254494.aspx)
- [<span data-ttu-id="e4ef8-217">데이터베이스 구성 정보 @ ConnectionStrings.com 문자열</span><span class="sxs-lookup"><span data-stu-id="e4ef8-217">Database Configuration Strings Information @ ConnectionStrings.com</span></span>](http://www.connectionstrings.com/)
- [<span data-ttu-id="e4ef8-218">Web.config 파일에서 설정 이동</span><span class="sxs-lookup"><span data-stu-id="e4ef8-218">Move Settings Out of the Web.config File</span></span>](http://www.asp101.com/tips/index.asp?id=154)
- [<span data-ttu-id="e4ef8-219">에 대 한 기술 문서는 &lt;connectionStrings&gt; 요소</span><span class="sxs-lookup"><span data-stu-id="e4ef8-219">Technical Documentation for the &lt;connectionStrings&gt; Element</span></span>](https://msdn.microsoft.com/library/bf7sd233.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="e4ef8-220">[이전](deploying-a-database-cs.md)
> [다음](configuring-a-website-that-uses-application-services-cs.md)</span><span class="sxs-lookup"><span data-stu-id="e4ef8-220">[Previous](deploying-a-database-cs.md)
[Next](configuring-a-website-that-uses-application-services-cs.md)</span></span>
