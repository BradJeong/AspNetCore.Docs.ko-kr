---
uid: web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
title: "SQL Server (VB)에서 멤버 자격 스키마 만들기 | Microsoft Docs"
author: rick-anderson
description: "이 자습서는 SqlMembershipProvider 사용 하려면 데이터베이스에 필요한 스키마를 추가 하기 위한 기술을 검사 하 여 시작 합니다. 그런 다음, 우리 wi..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 01/18/2008
ms.topic: article
ms.assetid: 112a674d-716f-41a6-99b8-4074d65a54c0
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-vb
msc.type: authoredcontent
ms.openlocfilehash: 2dadf091c6ae77fdfaf76f4e1bda92fd3e949678
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 01/24/2018
---
<a name="creating-the-membership-schema-in-sql-server-vb"></a><span data-ttu-id="ccd00-104">SQL Server (VB)에서 멤버 자격 스키마 만들기</span><span class="sxs-lookup"><span data-stu-id="ccd00-104">Creating the Membership Schema in SQL Server (VB)</span></span>
====================
<span data-ttu-id="ccd00-105">으로 [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="ccd00-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="ccd00-106">[코드를 다운로드](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) 또는 [PDF 다운로드](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="ccd00-106">[Download Code](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_VB.zip) or [Download PDF](http://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_vb.pdf)</span></span>

> <span data-ttu-id="ccd00-107">이 자습서는 SqlMembershipProvider 사용 하려면 데이터베이스에 필요한 스키마를 추가 하기 위한 기술을 검사 하 여 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-107">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the SqlMembershipProvider.</span></span> <span data-ttu-id="ccd00-108">그런 다음, 스키마에는 키 테이블을 확인 하 고 목적 및 중요도 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-108">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="ccd00-109">이 자습서를 살펴보면 ASP.NET 응용 프로그램 구성원 프레임 워크를 사용 해야 하는 공급자를 구별 하는 방법으로 끝납니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-109">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>


## <a name="introduction"></a><span data-ttu-id="ccd00-110">소개</span><span class="sxs-lookup"><span data-stu-id="ccd00-110">Introduction</span></span>

<span data-ttu-id="ccd00-111">폼 인증을 사용 하 여 웹 사이트 방문자를 식별 하려면 검사 이전 두 자습서입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-111">The previous two tutorials examined using forms authentication to identify website visitors.</span></span> <span data-ttu-id="ccd00-112">폼 인증 프레임 워크를 통해 개발자가 인증 티켓을 사용 하 여 페이지 방문할 때마다 기억 하 고 사용자 웹 사이트에 로그인 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-112">The forms authentication framework makes it easy for developers to log a user into a website and to remember them across page visits through the use of authentication tickets.</span></span> <span data-ttu-id="ccd00-113">`FormsAuthentication` 클래스 방문자의 쿠키를 추가 하 고 티켓 생성 메서드가 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-113">The `FormsAuthentication` class includes methods for generating the ticket and adding it to the visitor's cookies.</span></span> <span data-ttu-id="ccd00-114">`FormsAuthenticationModule` 들어오는 모든 요청을 검사 하 고, 사용자에 게 유효한 인증 티켓을 만들고와 연결 된 `GenericPrincipal` 및 `FormsIdentity` 개체를 현재 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-114">The `FormsAuthenticationModule` examines all incoming requests and, for those with a valid authentication ticket, creates and associates a `GenericPrincipal` and a `FormsIdentity` object with the current request.</span></span> <span data-ttu-id="ccd00-115">폼 인증은 단순히에 및 사용자의 id를 확인 하려면 해당 티켓을 구문 분석 하는 후속 요청에서 로그인 할 때 방문자에 인증 티켓을 부여 하기 위한 메커니즘입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-115">Forms authentication is merely a mechanism for granting an authentication ticket to a visitor when logging in and, on subsequent requests, parsing that ticket to determine the user's identity.</span></span> <span data-ttu-id="ccd00-116">여전히 사용자 계정을 지원 하도록 웹 응용 프로그램에 대 한 하는 사용자 저장소를 구현 하 고 자격 증명 유효성 검사, 새 사용자 및 다른 사용자 계정 관련 작업의 방대한 등록 기능을 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-116">For a web application to support user accounts, we still need to implement a user store and add functionality to validate credentials, register new users, and the myriad of other user account-related tasks.</span></span>

<span data-ttu-id="ccd00-117">ASP.NET 2.0 이전 개발자가 이러한 사용자 계정 관련 작업을 모두 구현 하는 데 필요한 후크에 있었습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-117">Prior to ASP.NET 2.0, developers were on the hook for implementing all of these user account-related tasks.</span></span> <span data-ttu-id="ccd00-118">다행히 ASP.NET 팀이 이러한 단점을 인식 하 고 ASP.NET 2.0과 함께 구성원 프레임 워크가 추가 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-118">Fortunately the ASP.NET team recognized this shortcoming and introduced the Membership framework with ASP.NET 2.0.</span></span> <span data-ttu-id="ccd00-119">멤버 자격 프레임 워크는.NET Framework의 핵심 사용자 계정 관련 작업을 수행 하기 위한 프로그래밍 인터페이스를 제공 하는 클래스의 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-119">The Membership framework is a set of classes in the .NET Framework that provide a programmatic interface for accomplishing core user account-related tasks.</span></span> <span data-ttu-id="ccd00-120">이 프레임 워크 위에 빌드된는 [공급자 모델](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), 개발자가 사용자 지정된 된 구현 하는 표준화 된 API에 연결할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-120">This framework is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which allows developers to plug a customized implementation into a standardized API.</span></span>

<span data-ttu-id="ccd00-121">에 설명 된 대로 <a id="Tutorial1"> </a> [ *보안 기본 사항 및 ASP.NET 지원* ](../introduction/security-basics-and-asp-net-support-vb.md) 자습서에서는 두 명의 기본 제공 멤버 자격 공급자와 함께 제공 되는.NET Framework: [ `ActiveDirectoryMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) 및 [ `SqlMembershipProvider` ](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-121">As discussed in the <a id="Tutorial1"></a>[*Security Basics and ASP.NET Support*](../introduction/security-basics-and-asp-net-support-vb.md) tutorial, the .NET Framework ships with two built-in Membership providers: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) and [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span></span> <span data-ttu-id="ccd00-122">이름에서 알 수 있듯이 `SqlMembershipProvider` 사용자 저장소로 Microsoft SQL Server 데이터베이스를 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-122">As its name implies, the `SqlMembershipProvider` uses a Microsoft SQL Server database as the user store.</span></span> <span data-ttu-id="ccd00-123">응용 프로그램에서이 공급자를 사용 하려면 공급자를 저장소로 사용 하도록 데이터베이스를 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-123">In order to use this provider in an application, we need to tell the provider what database to use as the store.</span></span> <span data-ttu-id="ccd00-124">짐작할 수는 `SqlMembershipProvider` 사용자 저장소 데이터베이스의 특정 데이터베이스 테이블, 뷰 및 저장된 프로시저를 예상 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-124">As you might imagine, the `SqlMembershipProvider` expects the user store database to have certain database tables, views, and stored procedures.</span></span> <span data-ttu-id="ccd00-125">선택한 데이터베이스에이 필요한 스키마를 추가 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-125">We need to add this expected schema to the selected database.</span></span>

<span data-ttu-id="ccd00-126">이 자습서를 사용 하려면 데이터베이스에 필요한 스키마를 추가 하기 위한 기술을 검사 하 여 시작 된 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-126">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the `SqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-127">그런 다음, 스키마에는 키 테이블을 확인 하 고 목적 및 중요도 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-127">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="ccd00-128">이 자습서를 살펴보면 ASP.NET 응용 프로그램 구성원 프레임 워크를 사용 해야 하는 공급자를 구별 하는 방법으로 끝납니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-128">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

<span data-ttu-id="ccd00-129">이제 시작 하겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-129">Let's get started!</span></span>

## <a name="step-1-deciding-where-to-place-the-user-store"></a><span data-ttu-id="ccd00-130">1 단계: 사용자 저장소의 배치 위치 결정</span><span class="sxs-lookup"><span data-stu-id="ccd00-130">Step 1: Deciding Where to Place the User Store</span></span>

<span data-ttu-id="ccd00-131">ASP.NET 응용 프로그램의 데이터는 일반적으로 다양 한 데이터베이스의 테이블에에서 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-131">An ASP.NET application's data is commonly stored in a number of tables in a database.</span></span> <span data-ttu-id="ccd00-132">구현 하는 경우는 `SqlMembershipProvider` 데이터베이스 스키마에는 응용 프로그램 데이터와 동일한 데이터베이스 또는 대체 데이터베이스에서 멤버 자격 스키마를 배치할지 여부를 결정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-132">When implementing the `SqlMembershipProvider` database schema we must decide whether to place the Membership schema in the same database as the application data or in an alternate database.</span></span>

<span data-ttu-id="ccd00-133">다음과 같은 이유로 응용 프로그램 데이터와 동일한 데이터베이스에서 멤버 자격 스키마를 찾는 것이 좋습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-133">I recommend locating the Membership schema in the same database as the application data for the following reasons:</span></span>

- <span data-ttu-id="ccd00-134">**유지 관리 용이성** 하나의 데이터베이스에 데이터가 있는 캡슐화 된 응용 프로그램을 보다 쉽게 이해 하 고 유지 관리 보다는 두 개의 별도 데이터베이스 응용 프로그램을 배포할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-134">**Maintainability** � an application whose data is encapsulated in one database is easier to understand, maintain, and deploy than an application that has two separate databases.</span></span>
- <span data-ttu-id="ccd00-135">**관계 무결성** 응용 프로그램 테이블 것으로 동일한 데이터베이스에 멤버 자격 관련 테이블을 배치 하 여 설정할 수는 [foreign key 제약 조건을](http://en.wikipedia.org/wiki/Foreign_key) 의 기본 키 간에 멤버 자격 관련 테이블 및 관련된 응용 프로그램 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-135">**Relational Integrity** � by locating the Membership-related tables in the same database as the application tables it is possible to establish [foreign key constraints](http://en.wikipedia.org/wiki/Foreign_key) between the primary keys in the Membership-related tables and related application tables.</span></span>

<span data-ttu-id="ccd00-136">개별 데이터베이스에 사용자 저장소 및 응용 프로그램 데이터를 분리 하면 여기 여러 응용 프로그램을 별도 데이터베이스를 사용 하 여 각 하지만 일반 사용자 저장소를 공유 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-136">Decoupling the user store and application data into separate databases only makes sense if you have multiple applications that each use separate databases, but need to share a common user store.</span></span>

### <a name="creating-a-database"></a><span data-ttu-id="ccd00-137">데이터베이스 만들기</span><span class="sxs-lookup"><span data-stu-id="ccd00-137">Creating a Database</span></span>

<span data-ttu-id="ccd00-138">두 번째 자습서 이후 구축한에서는 응용 프로그램에 데이터베이스를 아직 필요 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-138">The application we have been building since the second tutorial has not yet needed a database.</span></span> <span data-ttu-id="ccd00-139">하지만 필요 하나 이제 사용자 저장소에 대 한 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-139">We need one now, however, for the user store.</span></span> <span data-ttu-id="ccd00-140">보겠습니다 만들고 하 여 추가 된 후에 필요한 스키마는 `SqlMembershipProvider` 공급자 (2 단계 참조).</span><span class="sxs-lookup"><span data-stu-id="ccd00-140">Let's create one and then add to it the schema required by the `SqlMembershipProvider` provider (see Step 2).</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-141">이 자습서 시리즈를 사용 합니다는 [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) 를 응용 프로그램 테이블을 저장할 데이터베이스 및 `SqlMembershipProvider` 스키마입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-141">Throughout this tutorial series we will be using a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database to store our application tables and the `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="ccd00-142">두 가지 이유로이 결정 했지만: 먼저-비용으로 인해 무료 Express Edition은 가장 때 액세스할 수 있는 버전의 SQL Server 2005; 둘째, SQL Server 2005 Express Edition 데이터베이스 안에 있을 수 직접 웹 응용 프로그램의 `App_Data` 패키지는 데이터베이스와 웹 응용 프로그램 시작 함께 하나의 ZIP 파일에 하 고 별도 설치 지침 없이 다시 배포 하려면을 쉽게 만드는 폴더 또는 구성 옵션을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-142">This decision was made for two reasons: first, due to its cost - free - the Express Edition is the most readably accessible version of SQL Server 2005; second, SQL Server 2005 Express Edition databases can be placed directly in the web application's `App_Data` folder, making it a cinch to package the database and web application together in one ZIP file and to redeploy it without any special setup instructions or configuration options.</span></span> <span data-ttu-id="ccd00-143">비-Express Edition 버전의 SQL Server를 사용 하 여 수행 하려는 경우 자유롭게 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-143">If you'd prefer to follow along using a non-Express Edition version of SQL Server, feel free.</span></span> <span data-ttu-id="ccd00-144">단계는 거의 동일 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-144">The steps are virtually identical.</span></span> <span data-ttu-id="ccd00-145">`SqlMembershipProvider` 스키마는 모든 버전의 Microsoft SQL Server 2000 사용 및 최대 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-145">The `SqlMembershipProvider` schema will work with any version of Microsoft SQL Server 2000 and up.</span></span>

<span data-ttu-id="ccd00-146">솔루션 탐색기에서 마우스 오른쪽 단추로 클릭는 `App_Data` 폴더를 새 항목 추가를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-146">From the Solution Explorer, right-click on the `App_Data` folder and choose to Add New Item.</span></span> <span data-ttu-id="ccd00-147">(표시 되지 않으면는 `App_Data` 폴더를 프로젝트 솔루션 탐색기에서 프로젝트를 마우스 오른쪽 단추로 클릭 ASP.NET 폴더 추가 선택 하 고 선택 `App_Data`.) 새 항목 추가 대화 상자에서 명명 된 새 SQL 데이터베이스를 추가 하도록 선택 `SecurityTutorials.mdf`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-147">(If you do not see an `App_Data` folder in your project, right-click on the project in Solution Explorer, select Add ASP.NET Folder, and pick `App_Data`.) From the Add New Item dialog box, choose to add a new SQL Database named `SecurityTutorials.mdf`.</span></span> <span data-ttu-id="ccd00-148">추가 될이 자습서는 `SqlMembershipProvider` 추가 만듭니다 후속 자습서;이 데이터베이스에 스키마를 응용 프로그램 데이터를 캡처하는 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-148">In this tutorial we will add the `SqlMembershipProvider` schema to this database; in subsequent tutorials we will create additional tables to capture our application data.</span></span>


<span data-ttu-id="ccd00-149">[![App_Data 폴더에 SecurityTutorials.mdf 데이터베이스 라는 새 SQL 데이터베이스를 추가 합니다.](creating-the-membership-schema-in-sql-server-vb/_static/image2.png)](creating-the-membership-schema-in-sql-server-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-149">[![Add a New SQL Database Named SecurityTutorials.mdf Database to the App_Data Folder](creating-the-membership-schema-in-sql-server-vb/_static/image2.png)](creating-the-membership-schema-in-sql-server-vb/_static/image1.png)</span></span>

<span data-ttu-id="ccd00-150">**그림 1**: 새 SQL 데이터베이스 라는 추가 `SecurityTutorials.mdf` 데이터베이스는 `App_Data` 폴더 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-150">**Figure 1**: Add a New SQL Database Named `SecurityTutorials.mdf` Database to the `App_Data` Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image3.png))</span></span>


<span data-ttu-id="ccd00-151">에 데이터베이스에 추가 `App_Data` 폴더 데이터베이스 탐색기 보기에서 포함 자동으로 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-151">Adding a database to the `App_Data` folder automatically includes it in the Database Explorer view.</span></span> <span data-ttu-id="ccd00-152">(비-Express Edition 버전의 Visual Studio에서 데이터베이스 탐색기 라고 서버 탐색기.) 데이터베이스 탐색기로 이동 하 고는 방금 추가 된 확장 `SecurityTutorials` 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-152">(In the non-Express Edition version of Visual Studio, the Database Explorer is called the Server Explorer.) Go to the Database Explorer and expand the just-added `SecurityTutorials` database.</span></span> <span data-ttu-id="ccd00-153">화면에 데이터베이스 탐색기를 표시 되지 않으면 보기 메뉴로 이동 하 고 데이터베이스 탐색기를 선택 하거나 Ctrl + Alt + S를 적중 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-153">If you do not see the Database Explorer on screen, go to the View menu and choose Database Explorer, or hit Ctrl+Alt+S.</span></span> <span data-ttu-id="ccd00-154">그림 2에서 볼 수 있듯이 `SecurityTutorials` 데이터베이스가 비어-는 테이블이, 보기가 없습니다 및 저장된 프로시저가 없습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-154">As Figure 2 shows, the `SecurityTutorials` database is empty - it contains no tables, no views, and no stored procedures.</span></span>


<span data-ttu-id="ccd00-155">[![현재 SecurityTutorials 데이터베이스가 비어 있습니다.](creating-the-membership-schema-in-sql-server-vb/_static/image5.png)](creating-the-membership-schema-in-sql-server-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-155">[![The SecurityTutorials Database is Currently Empty](creating-the-membership-schema-in-sql-server-vb/_static/image5.png)](creating-the-membership-schema-in-sql-server-vb/_static/image4.png)</span></span>

<span data-ttu-id="ccd00-156">**그림 2**:는 `SecurityTutorials` 데이터베이스 현재 비어 있습니다 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-156">**Figure 2**: The `SecurityTutorials` Database is Currently Empty ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image6.png))</span></span>


## <a name="step-2-adding-thesqlmembershipproviderschema-to-the-database"></a><span data-ttu-id="ccd00-157">2 단계: 추가 된`SqlMembershipProvider`데이터베이스에 대 한 스키마</span><span class="sxs-lookup"><span data-stu-id="ccd00-157">Step 2: Adding the`SqlMembershipProvider`Schema to the Database</span></span>

<span data-ttu-id="ccd00-158">`SqlMembershipProvider` 테이블, 뷰 및 저장된 프로시저는 사용자 저장소 데이터베이스에 설치 되어야 하는 특정 집합이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-158">The `SqlMembershipProvider` requires a particular set of tables, views, and stored procedures to be installed in the user store database.</span></span> <span data-ttu-id="ccd00-159">사용 하 여 이러한 필요한 데이터베이스 개체를 추가할 수는 [ `aspnet_regsql.exe` 도구](https://msdn.microsoft.com/library/ms229862.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-159">These requisite database objects can be added using the [`aspnet_regsql.exe` tool](https://msdn.microsoft.com/library/ms229862.aspx).</span></span> <span data-ttu-id="ccd00-160">이 파일은 `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-160">This file is located in the `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-161">`aspnet_regsql.exe` 명령줄 기능과 그래픽 사용자 인터페이스 도구를 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-161">The `aspnet_regsql.exe` tool offers both command line functionality and a graphical user interface.</span></span> <span data-ttu-id="ccd00-162">그래픽 인터페이스 더 많은 사용자에 게 친숙 며이 자습서에 맞게 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-162">The graphical interface is more user friendly and is what we will examine in this tutorial.</span></span> <span data-ttu-id="ccd00-163">명령줄 인터페이스는 유용 추가 `SqlMembershipProvider` 자동화 해야 하는 스키마, 스크립트 또는 테스트 시나리오를 자동화 된 빌드와 같이 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-163">The command line interface is useful when the addition of the `SqlMembershipProvider` schema needs to be automated, such as in build scripts or automated testing scenarios.</span></span>

<span data-ttu-id="ccd00-164">`aspnet_regsql.exe` 도구 추가 또는 제거 하는 데 사용 됩니다 *ASP.NET 응용 프로그램 서비스* 지정 된 SQL Server 데이터베이스에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-164">The `aspnet_regsql.exe` tool is used to add or remove *ASP.NET application services* to a specified SQL Server database.</span></span> <span data-ttu-id="ccd00-165">에 대 한 스키마를 포함 하는 ASP.NET 응용 프로그램 서비스는 `SqlMembershipProvider` 및 `SqlRoleProvider`, 다른 ASP.NET 2.0 프레임 워크에 대 한 SQL 기반 공급자에 대 한 스키마와 함께 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-165">The ASP.NET application services encompass the schemas for the `SqlMembershipProvider` and `SqlRoleProvider`, along with the schemas for the SQL-based providers for other ASP.NET 2.0 frameworks.</span></span> <span data-ttu-id="ccd00-166">두 비트에 정보를 제공 해야는 `aspnet_regsql.exe` 도구:</span><span class="sxs-lookup"><span data-stu-id="ccd00-166">We need to provide two bits of information to the `aspnet_regsql.exe` tool:</span></span>

- <span data-ttu-id="ccd00-167">응용 프로그램 서비스를 추가 또는 제거할 원하는 여부 및</span><span class="sxs-lookup"><span data-stu-id="ccd00-167">Whether we want to add or remove application services, and</span></span>
- <span data-ttu-id="ccd00-168">데이터베이스를 추가 하거나 응용 프로그램 서비스 스키마를 제거 하려면</span><span class="sxs-lookup"><span data-stu-id="ccd00-168">The database from which to add or remove the application services schema</span></span>

<span data-ttu-id="ccd00-169">을 사용 하려면 데이터베이스에 대 한 메시지를 표시에 `aspnet_regsql.exe` 도구는 데이터베이스에 연결 하기 위한 보안 자격 증명에는 데이터베이스가 있는 서버 이름과 데이터베이스 이름을 제공 하 라는 메시지가 나타납니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-169">In prompting for the database to use, the `aspnet_regsql.exe` tool asks us to provide the name of the server the database resides on, the security credentials for connecting to the database, and the database name.</span></span> <span data-ttu-id="ccd00-170">비-Express Edition의 SQL Server를 사용 하는 동일한 정보를 ASP.NET 웹 페이지를 통해 데이터베이스 작업을 수행 하는 경우 연결 문자열을 통해 제공 해야 하는 대로 이미이 정보를을 알고 있어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-170">If you are using the non-Express Edition of SQL Server, you should already know this information, as it is the same information you must provide through a connection string when working with the database through an ASP.NET web page.</span></span> <span data-ttu-id="ccd00-171">하지만 SQL Server 2005 Express Edition 데이터베이스를 사용 하는 경우 서버 및 데이터베이스 이름을 확인 하 고 `App_Data` 폴더 약간 더 개입 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-171">Determining the server and database name when using a SQL Server 2005 Express Edition database in the `App_Data` folder, however, is a bit more involved.</span></span>

<span data-ttu-id="ccd00-172">다음 섹션에서는 SQL Server 2005 Express Edition 데이터베이스에 대 한 서버 및 데이터베이스 이름을 지정 하는 간단한 방법의 검사는 `App_Data` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-172">The following section examines a straightforward way for specifying the server and database name for a SQL Server 2005 Express Edition database in the `App_Data` folder.</span></span> <span data-ttu-id="ccd00-173">SQL Server 2005 Express Edition 자유롭게 설치를 사용 하지 않는 경우 응용 프로그램 서비스 섹션.</span><span class="sxs-lookup"><span data-stu-id="ccd00-173">If you are not using SQL Server 2005 Express Edition feel free to skip ahead to the Installing the Application Services section.</span></span>

### <a name="determining-the-server-and-database-name-for-a-sql-server-2005-express-edition-database-in-theappdatafolder"></a><span data-ttu-id="ccd00-174">서버 및 SQL Server 2005 Express Edition 데이터베이스에 대 한 데이터베이스 이름을 확인 하 고`App_Data`폴더</span><span class="sxs-lookup"><span data-stu-id="ccd00-174">Determining the Server and Database Name for a SQL Server 2005 Express Edition Database in the`App_Data`Folder</span></span>

<span data-ttu-id="ccd00-175">사용 하려면는 `aspnet_regsql.exe` 서버 및 데이터베이스 이름을 알아야 하는 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-175">In order to use the `aspnet_regsql.exe` tool we need to know the server and database names.</span></span> <span data-ttu-id="ccd00-176">서버 이름은 `localhost\InstanceName`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-176">The server name is `localhost\InstanceName`.</span></span> <span data-ttu-id="ccd00-177">가장 가능성이 높은 *InstanceName* 은 `SQLExpress`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-177">Most likely, the *InstanceName* is `SQLExpress`.</span></span> <span data-ttu-id="ccd00-178">그러나 수동으로 SQL Server 2005 Express Edition을 설치 하는 경우 (즉, 설치 하지 않은 것 자동으로 Visual Studio를 설치 하는 동안), 다른 인스턴스 이름을 선택 하는 것일 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-178">However, if you installed SQL Server 2005 Express Edition manually (that is, you did not install it automatically while installing Visual Studio), then it is possible that you selected a different instance name.</span></span>

<span data-ttu-id="ccd00-179">데이터베이스 이름이 결정 하는 조금 더 복잡 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-179">The database name is a bit trickier to determine.</span></span> <span data-ttu-id="ccd00-180">데이터베이스에 `App_Data` 폴더에는 일반적으로 포함 하는 데이터베이스 이름을 가질는 [전역 고유 식별자](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) 데이터베이스 파일의 경로 함께 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-180">Databases in the `App_Data` folder typically have a database name that includes a [globally unique identifier](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) along with the path to the database file.</span></span> <span data-ttu-id="ccd00-181">통해 응용 프로그램 서비스 스키마를 추가 하려면이 데이터베이스 이름을 확인 해야 `aspnet_regsql.exe`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-181">We need to determine this database name in order to add the application services schema through `aspnet_regsql.exe`.</span></span>

<span data-ttu-id="ccd00-182">데이터베이스 이름을 확인 하는 가장 쉬운 방법은 SQL Server Management Studio를 통해 검사할 수는 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-182">The easiest way to ascertain the database name is to examine it through SQL Server Management Studio.</span></span> <span data-ttu-id="ccd00-183">SQL Server Management Studio는 SQL Server 2005 데이터베이스를 관리 하기 위한 그래픽 인터페이스를 제공 하지만 Express 버전의 SQL Server 2005 함께 제공 되지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-183">SQL Server Management Studio provides a graphical interface for managing SQL Server 2005 databases, but it does not ship with the Express Edition of SQL Server 2005.</span></span> <span data-ttu-id="ccd00-184">다행 스럽게도 [다운로드할 수 있습니다](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) 무료 Express 버전의 SQL Server Management Studio 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-184">The good news is that [you can download](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) the free Express Edition of SQL Server Management Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-185">비-Express Edition 버전 바탕 화면에 설치 된 SQL Server 2005의 경우 Management Studio의 전체 버전 가능성이 설치 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-185">If you also have a non-Express Edition version of SQL Server 2005 installed on your desktop then the full version of Management Studio is likely installed.</span></span> <span data-ttu-id="ccd00-186">Express Edition에 대 한 아래 설명 된 대로 동일한 단계에 따라 데이터베이스 이름으로 확인 하려면 정식 버전을 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-186">You can use the full version to determine the database name, following the same steps as outlined below for the Express Edition.</span></span>

<span data-ttu-id="ccd00-187">데이터베이스 파일에 Visual Studio에 의해 적용 된 모든 잠금을 닫혔는지 확인 하는 Visual Studio를 닫고 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-187">Start by closing Visual Studio to ensure that any locks imposed by Visual Studio on the database file are closed.</span></span> <span data-ttu-id="ccd00-188">다음으로, SQL Server Management Studio를 시작 하 고 연결할는 `localhost\InstanceName` SQL Server 2005 Express Edition에 대 한 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-188">Next, launch SQL Server Management Studio and connect to the `localhost\InstanceName` database for SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="ccd00-189">앞에서 설명한 대로 될 확률이 인스턴스 이름이 `SQLExpress`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-189">As noted earlier, chances are the instance name is `SQLExpress`.</span></span> <span data-ttu-id="ccd00-190">인증 옵션에 대 한 Windows 인증을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-190">For the Authentication option, select Windows Authentication.</span></span>


<span data-ttu-id="ccd00-191">[![SQL Server 2005 Express Edition 인스턴스는에 연결](creating-the-membership-schema-in-sql-server-vb/_static/image8.png)](creating-the-membership-schema-in-sql-server-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-191">[![Connect to the SQL Server 2005 Express Edition Instance](creating-the-membership-schema-in-sql-server-vb/_static/image8.png)](creating-the-membership-schema-in-sql-server-vb/_static/image7.png)</span></span>

<span data-ttu-id="ccd00-192">**그림 3**: SQL Server 2005 Express Edition 인스턴스는에 연결 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-192">**Figure 3**: Connect to the SQL Server 2005 Express Edition Instance ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image9.png))</span></span>


<span data-ttu-id="ccd00-193">에 SQL Server 2005 Express Edition 인스턴스를 연결한 후 Management Studio는 데이터베이스, 보안 설정, 서버 개체 등에 대 한 폴더를 표시 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-193">After connecting to the SQL Server 2005 Express Edition instance, Management Studio displays folders for the Databases, the Security settings, the Server Objects, and so on.</span></span> <span data-ttu-id="ccd00-194">데이터베이스 탭을 확장 하는 경우 확인 하 게는 `SecurityTutorials.mdf` 데이터베이스가 *하지* 먼저 데이터베이스를 연결 해야 데이터베이스 인스턴스-에 등록 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-194">If you expand the Databases tab you will see that the `SecurityTutorials.mdf` database is *not* registered in the database instance - we need to attach the database first.</span></span>

<span data-ttu-id="ccd00-195">데이터베이스 폴더 단추로 클릭 하 고 상황에 맞는 메뉴에서 연결을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-195">Right-click on the Databases folder and choose Attach from the context menu.</span></span> <span data-ttu-id="ccd00-196">이 데이터베이스 연결 대화 상자를 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-196">This will display the Attach Databases dialog box.</span></span> <span data-ttu-id="ccd00-197">여기에서 추가 단추를 찾은 `SecurityTutorials.mdf` 데이터베이스, 확인을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-197">From here, click the Add button, browse to the `SecurityTutorials.mdf` database, and click OK.</span></span> <span data-ttu-id="ccd00-198">그림 4 후 데이터베이스 연결 대화 상자를 보여 줍니다.는 `SecurityTutorials.mdf` 데이터베이스를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-198">Figure 4 shows the Attach Databases dialog box after the `SecurityTutorials.mdf` database has been selected.</span></span> <span data-ttu-id="ccd00-199">그림 5 데이터베이스가 성공적으로 연결 된 후 Management Studio 개체 탐색기를 보여줍니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-199">Figure 5 shows Management Studio's Object Explorer after the database has been successfully attached.</span></span>


<span data-ttu-id="ccd00-200">[![SecurityTutorials.mdf 데이터베이스에 연결](creating-the-membership-schema-in-sql-server-vb/_static/image11.png)](creating-the-membership-schema-in-sql-server-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-200">[![Attach the SecurityTutorials.mdf Database](creating-the-membership-schema-in-sql-server-vb/_static/image11.png)](creating-the-membership-schema-in-sql-server-vb/_static/image10.png)</span></span>

<span data-ttu-id="ccd00-201">**그림 4**: 연결에서 `SecurityTutorials.mdf` 데이터베이스 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-201">**Figure 4**: Attach the `SecurityTutorials.mdf` Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image12.png))</span></span>


<span data-ttu-id="ccd00-202">[![데이터베이스 폴더에 SecurityTutorials.mdf 데이터베이스가 표시](creating-the-membership-schema-in-sql-server-vb/_static/image14.png)](creating-the-membership-schema-in-sql-server-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-202">[![The SecurityTutorials.mdf Database Appears in the Databases Folder](creating-the-membership-schema-in-sql-server-vb/_static/image14.png)](creating-the-membership-schema-in-sql-server-vb/_static/image13.png)</span></span>

<span data-ttu-id="ccd00-203">**그림 5**:는 `SecurityTutorials.mdf` 데이터베이스가 데이터베이스 폴더에 나타납니다 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-203">**Figure 5**: The `SecurityTutorials.mdf` Database Appears in the Databases Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image15.png))</span></span>


<span data-ttu-id="ccd00-204">그림 5에서 볼 수 있듯이 `SecurityTutorials.mdf` 데이터베이스 이름이 아니라 abstruse 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-204">As Figure 5 shows, the `SecurityTutorials.mdf` database has a rather abstruse name.</span></span> <span data-ttu-id="ccd00-205">(및 입력 하기 쉽게)를 보다 기억 하기 쉬운 바꿔보겠습니다 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-205">Let's change it to a more memorable (and easier to type) name.</span></span> <span data-ttu-id="ccd00-206">데이터베이스를 마우스 오른쪽 단추로 클릭 이름 바꾸기 상황에 맞는 메뉴에서 선택한 이름을 바꾸거나 `SecurityTutorialsDatabase`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-206">Right-click on the database, choose Rename from the context menu, and rename it `SecurityTutorialsDatabase`.</span></span> <span data-ttu-id="ccd00-207">이 파일 이름은 변경 되지 않습니다, 그리고 데이터베이스 이름만 사용 하 여 SQL Server에 자체를 식별 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-207">This does not change the filename, just the name the database uses to identify itself to SQL Server.</span></span>


<span data-ttu-id="ccd00-208">[![SecurityTutorialsDatabase에 데이터베이스 이름을 바꾸려면](creating-the-membership-schema-in-sql-server-vb/_static/image17.png)](creating-the-membership-schema-in-sql-server-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-208">[![Rename the Database to SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-vb/_static/image17.png)](creating-the-membership-schema-in-sql-server-vb/_static/image16.png)</span></span>

<span data-ttu-id="ccd00-209">**그림 6**: 데이터베이스 이름 바꾸기 `SecurityTutorialsDatabase`([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-209">**Figure 6**: Rename the Database to `SecurityTutorialsDatabase`([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image18.png))</span></span>


<span data-ttu-id="ccd00-210">이 시점에 대 한 서버 및 데이터베이스 이름을 알고는 `SecurityTutorials.mdf` 데이터베이스 파일: `localhost\InstanceName` 및 `SecurityTutorialsDatabase`각각.</span><span class="sxs-lookup"><span data-stu-id="ccd00-210">At this point we know the server and database names for the `SecurityTutorials.mdf` database file: `localhost\InstanceName` and `SecurityTutorialsDatabase`, respectively.</span></span> <span data-ttu-id="ccd00-211">통해 응용 프로그램 서비스를 설치할 준비가 됩니다.는 `aspnet_regsql.exe` 도구입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-211">We are now ready to install the application services through the `aspnet_regsql.exe` tool.</span></span>

### <a name="installing-the-application-services"></a><span data-ttu-id="ccd00-212">응용 프로그램 서비스를 설치합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-212">Installing the Application Services</span></span>

<span data-ttu-id="ccd00-213">시작 하는 `aspnet_regsql.exe` 도구 시작 메뉴에 이동 하 고 실행을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-213">To launch the `aspnet_regsql.exe` tool, go to the start menu and choose Run.</span></span> <span data-ttu-id="ccd00-214">입력 `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` textbox에 확인을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-214">Enter `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` into the textbox and click OK.</span></span> <span data-ttu-id="ccd00-215">또는 드릴 다운 적절 한 폴더를 두 번 클릭을 Windows 탐색기를 사용할 수는 `aspnet_regsql.exe` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-215">Alternatively, you can use Windows Explorer to drill down to the appropriate folder and double-click the `aspnet_regsql.exe` file.</span></span> <span data-ttu-id="ccd00-216">어느 방법이 든 동일한 결과 되지 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-216">Either approach will net the same results.</span></span>

<span data-ttu-id="ccd00-217">실행 된 `aspnet_regsql.exe` 명령줄 인수 없이 도구 ASP.NET SQL Server 설치 마법사 그래픽 사용자 인터페이스를 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-217">Running the `aspnet_regsql.exe` tool without any command line arguments launches the ASP.NET SQL Server Setup Wizard graphical user interface.</span></span> <span data-ttu-id="ccd00-218">마법사를 사용을 쉽게 추가 하거나 지정된 된 데이터베이스에는 ASP.NET 응용 프로그램 서비스를 제거 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-218">The wizard makes it easy to add or remove the ASP.NET application services on a specified database.</span></span> <span data-ttu-id="ccd00-219">그림 7에 표시 된 마법사의 첫 번째 화면 도구의 용도 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-219">The first screen of the wizard, shown in Figure 7, describes the purpose of the tool.</span></span>


<span data-ttu-id="ccd00-220">[![ASP.NET SQL Server 설치 마법사는 사용 하 여 멤버 스키마를 추가 하려면](creating-the-membership-schema-in-sql-server-vb/_static/image20.png)](creating-the-membership-schema-in-sql-server-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-220">[![Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema](creating-the-membership-schema-in-sql-server-vb/_static/image20.png)](creating-the-membership-schema-in-sql-server-vb/_static/image19.png)</span></span>

<span data-ttu-id="ccd00-221">**그림 7**:에서 ASP.NET SQL Server 설치 마법사를 사용 하면 멤버 자격 스키마 추가를 사용 하 여 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-221">**Figure 7**: Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image21.png))</span></span>


<span data-ttu-id="ccd00-222">마법사의 두 번째 단계는 응용 프로그램 서비스를 추가 하거나 제거 하려는 여부 us를 요청 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-222">The second step in the wizard asks us whether we want to add the application services or remove them.</span></span> <span data-ttu-id="ccd00-223">테이블, 뷰 및 저장된 프로시저에 필요한 추가 하는 데는 `SqlMembershipProvider`, 응용 프로그램 서비스 옵션에 대 한 SQL Server 구성를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-223">Since we want to add the tables, views, and stored procedures necessary for the `SqlMembershipProvider`, choose the Configure SQL Server for application services option.</span></span> <span data-ttu-id="ccd00-224">나중이 스키마를 데이터베이스에서 제거 하려는 경우이 마법사를 다시 실행 하지만 대신 기존 데이터베이스 옵션에서 응용 프로그램 서비스 정보 제거를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-224">Later, if you want to remove this schema from your database, re-run this wizard, but instead choose the Remove application services information from an existing database option.</span></span>


<span data-ttu-id="ccd00-225">[![선택 된 응용 프로그램 서비스 옵션에 대 한 SQL Server 구성](creating-the-membership-schema-in-sql-server-vb/_static/image23.png)](creating-the-membership-schema-in-sql-server-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-225">[![Choose the Configure SQL Server for Application Services Option](creating-the-membership-schema-in-sql-server-vb/_static/image23.png)](creating-the-membership-schema-in-sql-server-vb/_static/image22.png)</span></span>

<span data-ttu-id="ccd00-226">**그림 8**: 응용 프로그램 서비스 옵션에 대 한 SQL Server 구성 선택 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-226">**Figure 8**: Choose the Configure SQL Server for Application Services Option ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image24.png))</span></span>


<span data-ttu-id="ccd00-227">데이터베이스 정보를 묻는 세 번째 단계: 서버 이름, 인증 정보 및 데이터베이스 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-227">The third step prompts for the database information: the server name, authentication information, and the database name.</span></span> <span data-ttu-id="ccd00-228">이 자습서를 함께 수행 하 고 추가한 경우는 `SecurityTutorials.mdf` 데이터베이스를 `App_Data`에 연결 된 `localhost\InstanceName`, 되 게 하므로 이름을 바꿀 `SecurityTutorialsDatabase`, 다음 값을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-228">If you have been following along with this tutorial and have added the `SecurityTutorials.mdf` database to `App_Data`, attached it to `localhost\InstanceName`, and renamed it to `SecurityTutorialsDatabase`, then use the following values:</span></span>

- <span data-ttu-id="ccd00-229">서버:`localhost\InstanceName`</span><span class="sxs-lookup"><span data-stu-id="ccd00-229">Server: `localhost\InstanceName`</span></span>
- <span data-ttu-id="ccd00-230">Windows 인증</span><span class="sxs-lookup"><span data-stu-id="ccd00-230">Windows authentication</span></span>
- <span data-ttu-id="ccd00-231">데이터베이스:`SecurityTutorialsDatabase`</span><span class="sxs-lookup"><span data-stu-id="ccd00-231">Database: `SecurityTutorialsDatabase`</span></span>


<span data-ttu-id="ccd00-232">[![데이터베이스 정보를 입력 합니다.](creating-the-membership-schema-in-sql-server-vb/_static/image26.png)](creating-the-membership-schema-in-sql-server-vb/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-232">[![Enter the Database Information](creating-the-membership-schema-in-sql-server-vb/_static/image26.png)](creating-the-membership-schema-in-sql-server-vb/_static/image25.png)</span></span>

<span data-ttu-id="ccd00-233">**그림 9**: 데이터베이스 정보를 입력 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-233">**Figure 9**: Enter the Database Information ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image27.png))</span></span>


<span data-ttu-id="ccd00-234">데이터베이스 정보를 입력 한 후 다음을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-234">After entering the database information, click Next.</span></span> <span data-ttu-id="ccd00-235">마지막 단계는 수행 될 하는 단계를 요약 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-235">The final step summarizes the steps that will be taken.</span></span> <span data-ttu-id="ccd00-236">응용 프로그램 서비스를 설치 하 고 마법사를 완료 하려면 다음 완료 하려면 다음을 클릭 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-236">Click Next to install the application services and then Finish to complete the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-237">Management Studio를 사용 하는 데이터베이스 연결 및 데이터베이스 파일의 이름을 바꿀 경우 해야 데이터베이스를 분리 하 고 Visual Studio를 닫은 후 하기 전에 Management Studio를 닫습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-237">If you used Management Studio to attach the database and rename the database file, be sure to detach the database and close Management Studio before reopening Visual Studio.</span></span> <span data-ttu-id="ccd00-238">분리 하는 `SecurityTutorialsDatabase` 데이터베이스, 데이터베이스 이름을 마우스 오른쪽 단추로 클릭 하 고, 작업 메뉴에서 분리를 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-238">To detach the `SecurityTutorialsDatabase` database, right-click on the database name and, from the Tasks menu, choose Detach.</span></span>

<span data-ttu-id="ccd00-239">마법사를 완료 하면 Visual Studio로 되돌아가려면를 데이터베이스 탐색기로 이동 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-239">Upon completion of the wizard, return to Visual Studio and navigate to the Database Explorer.</span></span> <span data-ttu-id="ccd00-240">테이블 폴더를 확장 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-240">Expand the Tables folder.</span></span> <span data-ttu-id="ccd00-241">일련의 테이블 이름이 접두사로 시작 표시 되어야 `aspnet_`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-241">You should see a series of tables whose names start with the prefix `aspnet_`.</span></span> <span data-ttu-id="ccd00-242">마찬가지로, 뷰 및 저장 프로시저 폴더 아래에서 다양 한 뷰 및 저장된 프로시저를 찾을 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-242">Likewise, a variety of views and stored procedures can be found under the Views and Stored Procedures folders.</span></span> <span data-ttu-id="ccd00-243">이러한 데이터베이스 개체 응용 프로그램 서비스 스키마를 구성 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-243">These database objects make up the application services schema.</span></span> <span data-ttu-id="ccd00-244">3 단계에서에서 멤버 자격 및 역할 관련 데이터베이스 개체를 검사 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-244">We will examine the membership- and role-specific database objects in Step 3.</span></span>


<span data-ttu-id="ccd00-245">[![데이터베이스에 추가 된 다양 한 테이블, 뷰 및 저장된 프로시저](creating-the-membership-schema-in-sql-server-vb/_static/image29.png)](creating-the-membership-schema-in-sql-server-vb/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-245">[![A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database](creating-the-membership-schema-in-sql-server-vb/_static/image29.png)](creating-the-membership-schema-in-sql-server-vb/_static/image28.png)</span></span>

<span data-ttu-id="ccd00-246">**그림 10**: A 다양 한의 테이블, 뷰 및 저장 프로시저에 추가 된 데이터베이스 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-246">**Figure 10**: A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="ccd00-247">`aspnet_regsql.exe` 도구의 그래픽 사용자 인터페이스는 전체 응용 프로그램 서비스 스키마를 설치 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-247">The `aspnet_regsql.exe` tool's graphical user interface installs the entire application services schema.</span></span> <span data-ttu-id="ccd00-248">실행할 때 하지만 `aspnet_regsql.exe` 명령줄에서 지정할 수 있습니다 할 특정 응용 프로그램 서비스 구성 요소를 설치 (또는 제거).</span><span class="sxs-lookup"><span data-stu-id="ccd00-248">But when executing `aspnet_regsql.exe` from the command-line you can specify what particular application services components to install (or remove).</span></span> <span data-ttu-id="ccd00-249">따라서 방금 테이블을 추가 하려는 경우 뷰, 저장 프로시저에 필요한는 `SqlMembershipProvider` 및 `SqlRoleProvider` 공급자, 실행 `aspnet_regsql.exe` 명령줄에서.</span><span class="sxs-lookup"><span data-stu-id="ccd00-249">Therefore, if you want to add just the tables, views, and stored procedures necessary for the `SqlMembershipProvider` and `SqlRoleProvider` providers, run `aspnet_regsql.exe` from the command-line.</span></span> <span data-ttu-id="ccd00-250">또는 수동으로 실행할 수 있습니다는 적절 한 T-SQL의 하위 집합에서 사용 하는 스크립트를 만들 `aspnet_regsql.exe`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-250">Alternatively, you can manually run the appropriate subset of T-SQL create scripts used by `aspnet_regsql.exe`.</span></span> <span data-ttu-id="ccd00-251">이러한 스크립트에는 `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` 폴더와 같은 이름의 `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`등입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-251">These scripts are located in the `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder with names like `InstallCommon.sql`, `InstallMembership.sql`, `InstallRoles.sql`, `InstallProfile.sql`, `InstallSqlState.sql`, and so on.</span></span>

<span data-ttu-id="ccd00-252">이 시점에서 필요한 데이터베이스 개체를 만들었습니다는 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-252">At this point we have created the database objects needed by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-253">그러나 여전히 필요를 사용 하도록 멤버 자격 프레임 워크에 지시 하는 `SqlMembershipProvider` (versus, 예를 들어, `ActiveDirectoryMembershipProvider`) 하 고는 `SqlMembershipProvider` 사용할지는 `SecurityTutorials` 데이터베이스.</span><span class="sxs-lookup"><span data-stu-id="ccd00-253">However, we still need to instruct the Membership framework that it should use the `SqlMembershipProvider` (versus, say, the `ActiveDirectoryMembershipProvider`) and that the `SqlMembershipProvider` should use the `SecurityTutorials` database.</span></span> <span data-ttu-id="ccd00-254">어떤 사용할 공급자를 지정 하는 방법 및 4 단계에서에서 선택한 공급자의 설정을 사용자 지정 하는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-254">We'll look at how to specify what provider to use and how to customize the selected provider's settings in Step 4.</span></span> <span data-ttu-id="ccd00-255">그러나 먼저 방금 생성 된 데이터베이스 개체에서 자세히 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-255">But first, let's take a deeper look at the database objects that were just created.</span></span>

## <a name="step-3-a-look-at-the-schemas-core-tables"></a><span data-ttu-id="ccd00-256">스키마의 핵심 테이블 살펴보고 3 단계:</span><span class="sxs-lookup"><span data-stu-id="ccd00-256">Step 3: A Look at the Schema's Core Tables</span></span>

<span data-ttu-id="ccd00-257">ASP.NET 응용 프로그램에서 멤버 자격 및 역할 프레임 워크를 사용할 때 구현 세부 정보는 공급자에 의해 캡슐화 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-257">When working with the Membership and Roles frameworks in an ASP.NET application, the implementation details are encapsulated by the provider.</span></span> <span data-ttu-id="ccd00-258">.NET Framework를 통해 이러한 프레임 워크와 상호 자습서 이후 `Membership` 및 `Roles` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-258">In future tutorials we will interface with these frameworks via the .NET Framework's `Membership` and `Roles` classes.</span></span> <span data-ttu-id="ccd00-259">높은 수준의 이러한 Api를 사용 하는 경우 하지 필요가 하는 쿼리를 실행 또는 테이블의 정의와에 의해 수정와 같은 하위 수준 세부 정보는 `SqlMembershipProvider` 및 `SqlRoleProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-259">When using these high-level APIs we do not need to concern ourselves with the low-level details, like what queries are executed or what tables are modified by the `SqlMembershipProvider` and `SqlRoleProvider`.</span></span>

<span data-ttu-id="ccd00-260">이 점을 고려는 2 단계에서에서 만든 데이터베이스 스키마를 탐색 필요 없이 멤버 자격 및 역할 프레임 워크를 자신 있게 사용할 수 없습니다 했습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-260">Given this, we could confidently use the Membership and Roles frameworks without having explored the database schema created in Step 2.</span></span> <span data-ttu-id="ccd00-261">그러나 응용 프로그램 데이터를 저장할 테이블을 만들 때 사용자 또는 역할에 관련 된 엔터티를 만드는 할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-261">However, when creating the tables to store application data we may need to create entities that relate to users or roles.</span></span> <span data-ttu-id="ccd00-262">에 대 한 지식이 있어야 하는 데 도움이 됩니다는 `SqlMembershipProvider` 및 `SqlRoleProvider` 스키마 외래 설정할 때 응용 프로그램 데이터 테이블 및 2 단계에서에서 만든 테이블 간에 제약 조건을 입력 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-262">It helps to have a familiarity with the `SqlMembershipProvider` and `SqlRoleProvider` schemas when establishing foreign key constraints between the application data tables and those tables created in Step 2.</span></span> <span data-ttu-id="ccd00-263">또한 드물게 특정 사용자와 상호 작용할 할 수도 있습니다 하 고 데이터베이스 수준에서 직접 역할 저장 (통해 대신는 `Membership` 또는 `Roles` 클래스).</span><span class="sxs-lookup"><span data-stu-id="ccd00-263">Moreover, in certain rare circumstances we may need to interface with the user and role stores directly at the database level (instead of through the `Membership` or `Roles` classes).</span></span>

### <a name="partitioning-the-user-store-into-applications"></a><span data-ttu-id="ccd00-264">응용 프로그램에 사용자 저장소 분</span><span class="sxs-lookup"><span data-stu-id="ccd00-264">Partitioning the User Store Into Applications</span></span>

<span data-ttu-id="ccd00-265">멤버 자격 및 역할 프레임 워크는 단일 사용자 및 역할 저장소 다양 한 응용 프로그램 간에 공유할 수 있도록 설계 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-265">The Membership and Roles frameworks are designed such that a single user and role store can be shared among many different applications.</span></span> <span data-ttu-id="ccd00-266">멤버 자격 또는 역할 프레임 워크를 사용 하는 ASP.NET 응용 프로그램에 사용 하기 위해 어떤 응용 프로그램 파티션을 지정 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-266">An ASP.NET application that uses the Membership or Roles frameworks must specify what application partition to use.</span></span> <span data-ttu-id="ccd00-267">즉, 여러 웹 응용 프로그램 같은 사용자 및 역할 저장소를 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-267">In short, multiple web applications can use the same user and role stores.</span></span> <span data-ttu-id="ccd00-268">그림 11 보여주고 세 개의 응용 프로그램으로 분할 하는 사용자 및 역할 저장소: HRSite, CustomerSite, 및 SalesSite 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-268">Figure 11 depicts user and role stores that are partitioned into three applications: HRSite, CustomerSite, and SalesSite.</span></span> <span data-ttu-id="ccd00-269">이러한 세 가지 웹 응용 프로그램 각가 자신의 고유 사용자와 역할을 아직 모두 물리적으로 해당 사용자 계정과 역할 정보를 같은 데이터베이스 테이블에 저장 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-269">These three web applications each have their own unique users and roles, yet they all physically store their user account and role information in the same database tables.</span></span>


<span data-ttu-id="ccd00-270">[![여러 응용 프로그램 사용자 계정에 분할 될 수 있습니다.](creating-the-membership-schema-in-sql-server-vb/_static/image32.png)](creating-the-membership-schema-in-sql-server-vb/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="ccd00-270">[![User Accounts May Be Partitioned Across Multiple Applications](creating-the-membership-schema-in-sql-server-vb/_static/image32.png)](creating-the-membership-schema-in-sql-server-vb/_static/image31.png)</span></span>

<span data-ttu-id="ccd00-271">**그림 11**: 사용자 계정 수 수 분할에서 여러 응용 프로그램 ([전체 크기 이미지를 보려면 클릭](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="ccd00-271">**Figure 11**: User Accounts May Be Partitioned Across Multiple Applications ([Click to view full-size image](creating-the-membership-schema-in-sql-server-vb/_static/image33.png))</span></span>


<span data-ttu-id="ccd00-272">`aspnet_Applications` 테이블이 이러한 파티션을 정의 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-272">The `aspnet_Applications` table is what defines these partitions.</span></span> <span data-ttu-id="ccd00-273">데이터베이스를 사용 하 여 사용자 계정 정보를 저장 하는 각 응용 프로그램은이 테이블의 행으로 표시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-273">Each application that uses the database to store user account information is represented by a row in this table.</span></span> <span data-ttu-id="ccd00-274">`aspnet_Applications` 테이블에 4 개의 열이: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, 및 `Description`합니다.`ApplicationId`</span><span class="sxs-lookup"><span data-stu-id="ccd00-274">The `aspnet_Applications` table has four columns: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, and `Description`.`ApplicationId`</span></span> <span data-ttu-id="ccd00-275">형식의 [ `uniqueidentifier` ](https://msdn.microsoft.com/library/ms187942.aspx) 테이블의 기본 키 이며 `ApplicationName` 각 응용 프로그램에 대 한 고유 사용자에 게 친숙 한 이름을 제공 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-275">is of type [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) and is the table's primary key; `ApplicationName` provides a unique human-friendly name for each application.</span></span>

<span data-ttu-id="ccd00-276">다른 멤버 자격 및 역할 관련 테이블에 다시 연결 된 `ApplicationId` 필드에 `aspnet_Applications`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-276">The other Membership- and Role-related tables link back to the `ApplicationId` field in `aspnet_Applications`.</span></span> <span data-ttu-id="ccd00-277">예를 들어는 `aspnet_Users` , 각 사용자 계정에 대 한 레코드를 포함 하는 테이블에는 `ApplicationId` 외래 키 필드;에 대 한 ditto는 `aspnet_Roles` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-277">For example, the `aspnet_Users` table, which contains a record for each user account, has an `ApplicationId` foreign key field; ditto for the `aspnet_Roles` table.</span></span> <span data-ttu-id="ccd00-278">`ApplicationId` 속한 역할 또는 이러한 테이블의 필드에에서 사용자 계정을 응용 프로그램 파티션을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-278">The `ApplicationId` field in these tables specifies the application partition the user account or role belongs to.</span></span>

### <a name="storing-user-account-information"></a><span data-ttu-id="ccd00-279">사용자 계정 정보를 저장합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-279">Storing User Account Information</span></span>

<span data-ttu-id="ccd00-280">사용자 계정 정보는 두 테이블에 들어: `aspnet_Users` 및 `aspnet_Membership`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-280">User account information is housed in two tables: `aspnet_Users` and `aspnet_Membership`.</span></span> <span data-ttu-id="ccd00-281">`aspnet_Users` 필수 사용자 계정 정보를 포함 하는 필드가 테이블에 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-281">The `aspnet_Users` table contains fields that hold the essential user account information.</span></span> <span data-ttu-id="ccd00-282">세 가지 가장 관련성이 큰 열이 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-282">The three most pertinent columns are:</span></span>

- `UserId`
- `UserName`
- `ApplicationId`

<span data-ttu-id="ccd00-283">`UserId`기본 키 (유형의 `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="ccd00-283">`UserId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="ccd00-284">`UserName`형식이 `nvarchar(256)` 및 암호와 함께 사용자의 자격 증명을 만듭니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-284">`UserName` is of type `nvarchar(256)` and, along with the password, makes up the user's credentials.</span></span> <span data-ttu-id="ccd00-285">(사용자의 암호에 저장 됩니다는 `aspnet_Membership` 테이블입니다.) `ApplicationId` 에서 특정 응용 프로그램에 사용자 계정을 연결 `aspnet_Applications`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-285">(A user's password is stored in the `aspnet_Membership` table.) `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="ccd00-286">복합 [ `UNIQUE` 제약 조건](https://msdn.microsoft.com/library/ms191166.aspx) 에 `UserName` 및 `ApplicationId` 열입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-286">There is a composite [`UNIQUE` constraint](https://msdn.microsoft.com/library/ms191166.aspx) on the `UserName` and `ApplicationId` columns.</span></span> <span data-ttu-id="ccd00-287">이렇게 하면 각 사용자 지정된 된 응용 프로그램에 고유 이름이 아직 동일한 고려한 `UserName` 서로 다른 응용 프로그램에서 사용할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-287">This ensures that in a given application each UserName is unique, yet it allows for the same `UserName` to be used in different applications.</span></span>

<span data-ttu-id="ccd00-288">`aspnet_Membership` 사용자의 암호, 전자 메일 주소는 마지막 로그인 날짜 및 시간 및 등과 같은 추가 사용자 계정 정보가 포함 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-288">The `aspnet_Membership` table includes additional user account information, like the user's password, email address, the last login date and time, and so forth.</span></span> <span data-ttu-id="ccd00-289">레코드 간에 일대일 대응이 `aspnet_Users` 및 `aspnet_Membership` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-289">There is a one-to-one correspondence between records in the `aspnet_Users` and `aspnet_Membership` tables.</span></span> <span data-ttu-id="ccd00-290">이 관계에 의해 보장 되는 `UserId` 필드에 `aspnet_Membership`, 테이블의 기본 키로 제공 되 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-290">This relationship is ensured by the `UserId` field in `aspnet_Membership`, which serves as the table's primary key.</span></span> <span data-ttu-id="ccd00-291">마찬가지로 `aspnet_Users` 테이블 `aspnet_Membership` 포함는 `ApplicationId` 이 정보는 특정 응용 프로그램 파티션에 연결 하는 필드입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-291">Like the `aspnet_Users` table, `aspnet_Membership` includes an `ApplicationId` field that ties this information to a particular application partition.</span></span>

### <a name="securing-passwords"></a><span data-ttu-id="ccd00-292">암호를 보호</span><span class="sxs-lookup"><span data-stu-id="ccd00-292">Securing Passwords</span></span>

<span data-ttu-id="ccd00-293">암호 정보에 저장 되는 `aspnet_Membership` 테이블입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-293">Password information is stored in the `aspnet_Membership` table.</span></span> <span data-ttu-id="ccd00-294">`SqlMembershipProvider` 암호는 다음 세 가지 기술 중 하나를 사용 하 여 데이터베이스에 저장 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-294">The `SqlMembershipProvider` allows for passwords to be stored in the database using one of the following three techniques:</span></span>

- <span data-ttu-id="ccd00-295">**지우기** -암호가 일반 텍스트로 데이터베이스에 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-295">**Clear** - the password is stored in the database as plain-text.</span></span> <span data-ttu-id="ccd00-296">I 하지 않는 것이 옵션을 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-296">I strongly discourage using this option.</span></span> <span data-ttu-id="ccd00-297">데이터베이스가 손상-해커 백도어 또는 데이터베이스 권한이 직원이 불만된을 발견 하 게 될 경우 모든 단일 사용자의 자격 증명 하는 데는 기록 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-297">If the database is compromised - be it by a hacker who finds a back door or a disgruntled employee who has database access - every single user's credentials are there for the taking.</span></span>
- <span data-ttu-id="ccd00-298">**해시** -암호는 단방향 해시 알고리즘 및 임의로 생성 된 솔트 값을 사용 하 여 해시 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-298">**Hashed** - passwords are hashed using a one-way hash algorithm and a randomly generated salt value.</span></span> <span data-ttu-id="ccd00-299">이 해시 된 값 (함께 솔트) 데이터베이스에 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-299">This hashed value (along with the salt) is stored in the database.</span></span>
- <span data-ttu-id="ccd00-300">**암호화** -암호의 암호화 된 버전의 데이터베이스에 저장 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-300">**Encrypted** - an encrypted version of the password is stored in the database.</span></span>

<span data-ttu-id="ccd00-301">사용 되는 암호 저장소 기술에 따라 달라 집니다는 `SqlMembershipProvider` 에 지정 된 설정을 `Web.config`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-301">The password storage technique used depends on the `SqlMembershipProvider` settings specified in `Web.config`.</span></span> <span data-ttu-id="ccd00-302">사용자 지정 방법에 대해서는 `SqlMembershipProvider` 4 단계에서에서 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-302">We will look at customizing the `SqlMembershipProvider` settings in Step 4.</span></span> <span data-ttu-id="ccd00-303">기본 동작은 암호의 해시를 저장 하는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-303">The default behavior is to store the hash of the password.</span></span>

<span data-ttu-id="ccd00-304">암호를 저장 하는 일을 담당 하는 열 `Password`, `PasswordFormat`, 및 `PasswordSalt`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-304">The columns responsible for storing the password are `Password`, `PasswordFormat`, and `PasswordSalt`.</span></span> <span data-ttu-id="ccd00-305">`PasswordFormat`형식의 필드는 `int` 암호를 저장 하는 데 사용 되는 기술은 나타내는 값: 0 지우기에 대 한; Hashed에 대 한 1; 암호화에 대 한 2입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-305">`PasswordFormat` is a field of type `int` whose value indicates the technique used for storing the password: 0 for Clear; 1 for Hashed; 2 for Encrypted.</span></span> <span data-ttu-id="ccd00-306">`PasswordSalt`사용 하는 암호 저장 방법에 관계 없이 임의로 생성 된 문자열을 할당 값 `PasswordSalt` 암호의 해시를 계산할 때만 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-306">`PasswordSalt` is assigned a randomly generated string regardless of the password storage technique used; the value of `PasswordSalt` is only used when computing the hash of the password.</span></span> <span data-ttu-id="ccd00-307">마지막으로 `Password` 일반 텍스트 암호의 암호화 된 암호 또는 암호를 해시 수를 실제 암호 데이터를 포함 하는 열입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-307">Finally, the `Password` column contains the actual password data, be it the plain-text password, the hash of the password, or the encrypted password.</span></span>

<span data-ttu-id="ccd00-308">표 1이 3 열의 수 모양을 보여줍니다 다양 한 저장소 기술에 대 한 MySecret 암호를 저장할 때!</span><span class="sxs-lookup"><span data-stu-id="ccd00-308">Table 1 illustrates what these three columns might look like for the various storage techniques when storing the password MySecret!</span></span> <span data-ttu-id="ccd00-309">이어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-309">.</span></span>

| <span data-ttu-id="ccd00-310">**저장소 기술&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="ccd00-310">**Storage Technique&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="ccd00-311">**암호&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="ccd00-311">**Password&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="ccd00-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="ccd00-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="ccd00-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="ccd00-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="ccd00-314">지우기</span><span class="sxs-lookup"><span data-stu-id="ccd00-314">Clear</span></span> | <span data-ttu-id="ccd00-315">MySecret!</span><span class="sxs-lookup"><span data-stu-id="ccd00-315">MySecret!</span></span> | <span data-ttu-id="ccd00-316">0</span><span class="sxs-lookup"><span data-stu-id="ccd00-316">0</span></span> | <span data-ttu-id="ccd00-317">tTnkPlesqissc2y2SMEygA==</span><span class="sxs-lookup"><span data-stu-id="ccd00-317">tTnkPlesqissc2y2SMEygA==</span></span> |
| <span data-ttu-id="ccd00-318">해시</span><span class="sxs-lookup"><span data-stu-id="ccd00-318">Hashed</span></span> | <span data-ttu-id="ccd00-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span><span class="sxs-lookup"><span data-stu-id="ccd00-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span></span> | <span data-ttu-id="ccd00-320">1</span><span class="sxs-lookup"><span data-stu-id="ccd00-320">1</span></span> | <span data-ttu-id="ccd00-321">wFgjUfhdUFOCKQiI61vtiQ==</span><span class="sxs-lookup"><span data-stu-id="ccd00-321">wFgjUfhdUFOCKQiI61vtiQ==</span></span> |
| <span data-ttu-id="ccd00-322">암호화</span><span class="sxs-lookup"><span data-stu-id="ccd00-322">Encrypted</span></span> | <span data-ttu-id="ccd00-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span><span class="sxs-lookup"><span data-stu-id="ccd00-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span></span> | <span data-ttu-id="ccd00-324">2</span><span class="sxs-lookup"><span data-stu-id="ccd00-324">2</span></span> | <span data-ttu-id="ccd00-325">LSRzhGS/aa/oqAXGLHJNBw==</span><span class="sxs-lookup"><span data-stu-id="ccd00-325">LSRzhGS/aa/oqAXGLHJNBw==</span></span> |

<span data-ttu-id="ccd00-326">**표 1**: 암호 MySecret 저장할 때 암호 관련 필드에 대 한 예제 값!</span><span class="sxs-lookup"><span data-stu-id="ccd00-326">**Table 1**: Example Values for the Password-Related Fields When Storing the Password MySecret!</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-327">특정 암호화 또는에서 사용 하는 해시 알고리즘의 `SqlMembershipProvider` 설정에 따라 결정 되는 `<machineKey>` 요소.</span><span class="sxs-lookup"><span data-stu-id="ccd00-327">The particular encryption or hashing algorithm used by the `SqlMembershipProvider` is determined by the settings in the `<machineKey>` element.</span></span> <span data-ttu-id="ccd00-328">3 단계에서에서이 구성 요소에서 설명한는 <a id="Tutorial3"> </a> [ *폼 인증 구성 및 고급 항목* ](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) 자습서입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-328">We discussed this configuration element in Step 3 of the <a id="Tutorial3"></a>[*Forms Authentication Configuration and Advanced Topics*](../introduction/forms-authentication-configuration-and-advanced-topics-vb.md) tutorial.</span></span>

### <a name="storing-roles-and-role-associations"></a><span data-ttu-id="ccd00-329">역할 및 역할 연결 저장</span><span class="sxs-lookup"><span data-stu-id="ccd00-329">Storing Roles and Role Associations</span></span>

<span data-ttu-id="ccd00-330">역할 프레임 워크에는 개발자를 역할 집합을 정의 하 고 어떤 사용자가 역할에 속한를 지정할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-330">The Roles framework allows developers to define a set of roles and specify what users belong to what roles.</span></span> <span data-ttu-id="ccd00-331">두 테이블을 통해 데이터베이스에서이 정보는 캡처됩니다: `aspnet_Roles` 및 `aspnet_UsersInRoles`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-331">This information is captured in the database through two tables: `aspnet_Roles` and `aspnet_UsersInRoles`.</span></span> <span data-ttu-id="ccd00-332">각 레코드는 `aspnet_Roles` 테이블은 특정 응용 프로그램에 대 한 역할을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-332">Each record in the `aspnet_Roles` table represents a role for a particular application.</span></span> <span data-ttu-id="ccd00-333">과 거의 동일한는 `aspnet_Users` 테이블은 `aspnet_Roles` 테이블에 세 개의 열이 설명에 관련:</span><span class="sxs-lookup"><span data-stu-id="ccd00-333">Much like the `aspnet_Users` table, the `aspnet_Roles` table has three columns pertinent to our discussion:</span></span>

- `RoleId`
- `RoleName`
- `ApplicationId`

<span data-ttu-id="ccd00-334">`RoleId`기본 키 (유형의 `uniqueidentifier`).</span><span class="sxs-lookup"><span data-stu-id="ccd00-334">`RoleId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="ccd00-335">`RoleName`는 `nvarchar(256)` 형식입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-335">`RoleName` is of type `nvarchar(256)`.</span></span> <span data-ttu-id="ccd00-336">및 `ApplicationId` 에서 특정 응용 프로그램에 사용자 계정을 연결 `aspnet_Applications`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-336">And `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="ccd00-337">복합 `UNIQUE` 제약 조건에는 `RoleName` 및 `ApplicationId` 열을 지정된 된 응용 프로그램에서 각 역할 이름이 고유한 지 확인 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-337">There is a composite `UNIQUE` constraint on the `RoleName` and `ApplicationId` columns, ensuring that in a given application each role name is unique.</span></span>

<span data-ttu-id="ccd00-338">`aspnet_UsersInRoles` 테이블 사용자 및 역할 간의 매핑을로 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-338">The `aspnet_UsersInRoles` table serves as a mapping between users and roles.</span></span> <span data-ttu-id="ccd00-339">두 개의 열이- `UserId` 및 `RoleId` -함께 복합 기본 키를 구성 하 고 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-339">There are only two columns - `UserId` and `RoleId` - and together they make up a composite primary key.</span></span>

## <a name="step-4-specifying-the-provider-and-customizing-its-settings"></a><span data-ttu-id="ccd00-340">공급자를 지정 하 고 해당 설정을 사용자 지정 하는 4 단계:</span><span class="sxs-lookup"><span data-stu-id="ccd00-340">Step 4: Specifying the Provider and Customizing Its Settings</span></span>

<span data-ttu-id="ccd00-341">멤버 자격 및 역할 프레임 워크--같은 공급자 모델을 지 원하는 프레임 워크의 모든 자체 구현 세부 사항을 없고 대신 공급자 클래스에 해당 역할을 위임 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-341">All of the frameworks that support the provider model - such as the Membership and Roles frameworks - lack implementation details themselves and instead delegate that responsibility to a provider class.</span></span> <span data-ttu-id="ccd00-342">멤버 자격 프레임 워크의 경우는 `Membership` 클래스는 사용자 계정을 관리 하기 위한 API를 정의 하지만 모든 사용자 저장소와 직접 상호 작용 하지 않습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-342">In the case of the Membership framework, the `Membership` class defines the API for managing user accounts, but it does not interact directly with any user store.</span></span> <span data-ttu-id="ccd00-343">대신,는 `Membership` 클래스의 메서드에 전달 요청에 구성 된 공급자-를 사용 합니다는 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-343">Rather, the `Membership` class's methods hand off the request to the configured provider - we will be using the `SqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-344">메서드 중 하나를 호출 우리는 경우는 `Membership` 클래스는 구성원 프레임 워크 확인 방법에 대 한 호출을 위임 하는 `SqlMembershipProvider`?</span><span class="sxs-lookup"><span data-stu-id="ccd00-344">When we invoke one of the methods in the `Membership` class, how does the Membership framework know to delegate the call to the `SqlMembershipProvider`?</span></span>

<span data-ttu-id="ccd00-345">`Membership` 클래스에는 [ `Providers` 속성](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) 구성원 프레임 워크에서 사용 하기 위해 사용할 수 있는 등록 된 공급자 클래스는 모두에 대 한 참조를 포함 하 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-345">The `Membership` class has a [`Providers` property](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) that contains a reference to all of the registered provider classes available for use by the Membership framework.</span></span> <span data-ttu-id="ccd00-346">등록 된 각 공급자에 연결 된 이름 및 유형.</span><span class="sxs-lookup"><span data-stu-id="ccd00-346">Each registered provider has an associated name and type.</span></span> <span data-ttu-id="ccd00-347">이름에 특정 공급자를 참조 하는 사용자에 게 친숙 한 방법을 제공는 `Providers` 형식 공급자 클래스를 식별 하는 동안 컬렉션입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-347">The name offers a human-friendly way to reference a particular provider in the `Providers` collection, while the type identifies the provider class.</span></span> <span data-ttu-id="ccd00-348">또한 등록 된 각 공급자는 구성 설정을 포함 될 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-348">Moreover, each registered provider may include configuration settings.</span></span> <span data-ttu-id="ccd00-349">멤버 자격 프레임 워크에 대 한 구성 설정을 포함 `PasswordFormat` 및 `requiresUniqueEmail`, 다양 한 기타.</span><span class="sxs-lookup"><span data-stu-id="ccd00-349">Configuration settings for the Membership framework include `PasswordFormat` and `requiresUniqueEmail`, among many others.</span></span> <span data-ttu-id="ccd00-350">표 2에서 사용 하는 구성 설정의 전체 목록에 대 한 참조는 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-350">See Table 2 for a complete list of configuration settings used by the `SqlMembershipProvider`.</span></span>

<span data-ttu-id="ccd00-351">`Providers` 속성의 내용을 웹 응용 프로그램의 구성 설정을 통해 지정 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-351">The `Providers` property's contents are specified through the web application's configuration settings.</span></span> <span data-ttu-id="ccd00-352">기본적으로 모든 웹 응용 프로그램 적용 라는 공급자 `AspNetSqlMembershipProvider` 형식의 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-352">By default, all web applications have a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-353">이 기본 멤버 자격 공급자에 등록 되어 `machine.config` (에 있는 `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span><span class="sxs-lookup"><span data-stu-id="ccd00-353">This default Membership provider is registered in `machine.config` (located at `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG`):</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample1.xml)]

<span data-ttu-id="ccd00-354">위의 태그로 [ `<membership>` 요소](https://msdn.microsoft.com/library/1b9hw62f.aspx) 하는 동안 멤버 자격 프레임 워크에 대 한 구성 설정을 정의 [ `<providers>` 자식 요소가](https://msdn.microsoft.com/library/6d4936ht.aspx) 지정는 등록 된 공급자입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-354">As the markup above shows, the [`<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) defines the configuration settings for the Membership framework while the [`<providers>` child element](https://msdn.microsoft.com/library/6d4936ht.aspx) specifies the registered providers.</span></span> <span data-ttu-id="ccd00-355">공급자 추가 될 수 있습니다 또는 사용 하 여 제거는 [ `<add>` ](https://msdn.microsoft.com/library/whae3t94.aspx) 또는 [ `<remove>` ](https://msdn.microsoft.com/library/aykw9a6d.aspx) 사용; 요소는 [ `<clear>` ](https://msdn.microsoft.com/library/t062y6yc.aspx) 현재 모두 제거 하는 요소 등록 된 공급자입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-355">Providers may be added or removed using the [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) or [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) elements; use the [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) element to remove all currently registered providers.</span></span> <span data-ttu-id="ccd00-356">위의 태그로 `machine.config` 라는 공급자 추가 `AspNetSqlMembershipProvider` 형식의 `SqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-356">As the markup above shows, `machine.config` adds a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span>

<span data-ttu-id="ccd00-357">외에 `name` 및 `type` 특성의 `<add>` 요소 다양 한 설정 구성에 대 한 값을 정의 하는 특성을 포함 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-357">In addition to the `name` and `type` attributes, the `<add>` element contains attributes that define the values for various configuring settings.</span></span> <span data-ttu-id="ccd00-358">표 2는 사용할 수 있는 목록 `SqlMembershipProvider`-특정 구성 설정과 각각에 대해 설명 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-358">Table 2 lists the available `SqlMembershipProvider`-specific configuration settings, along with a description of each.</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-359">표 2에 명시 된 기본값에 정의 된 기본값 참조는 `SqlMembershipProvider` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-359">Any default values noted in Table 2 refer to the default values defined in the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="ccd00-360">것은 아닙니다의 구성 설정의 모든 `AspNetSqlMembershipProvider` 의 기본 값에 해당 하는 `SqlMembershipProvider` 클래스입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-360">Note that not all of the configuration settings in `AspNetSqlMembershipProvider` correspond to the default values of the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="ccd00-361">예를 들어, 멤버 자격 공급자에 지정 되지 않은 경우는 `requiresUniqueEmail` 기본값을 true로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-361">For example, if not specified in a Membership provider, the `requiresUniqueEmail` setting defaults to true.</span></span> <span data-ttu-id="ccd00-362">그러나는 `AspNetSqlMembershipProvider` 명시적으로 값을 지정 하 여이 기본값을 재정의 `false`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-362">However, the `AspNetSqlMembershipProvider` overrides this default value by explicitly specifying a value of `false`.</span></span>

| <span data-ttu-id="ccd00-363">**설정&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="ccd00-363">**Setting&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="ccd00-364">**설명&lt;\_o3a\_p /&gt;**</span><span class="sxs-lookup"><span data-stu-id="ccd00-364">**Description&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- |
| `ApplicationName` | <span data-ttu-id="ccd00-365">여러 응용 프로그램에 분할할 수를 단일 사용자 저장소에 대 한 멤버 자격 프레임 워크에서는 없다는 것을 기억 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-365">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="ccd00-366">이 설정은 응용 프로그램 파티션 멤버 자격 공급자에서 사용 하는 이름을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-366">This setting indicates the name of the application partition used by the Membership provider.</span></span> <span data-ttu-id="ccd00-367">경우이 값은 명시적으로 지정 하지, 런타임에 응용 프로그램의 가상 루트 경로 값으로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-367">If this value is not explicitly specified, it is set, at runtime, to the value of the application's virtual root path.</span></span> |
| `commandTimeout` | <span data-ttu-id="ccd00-368">SQL 명령 시간 제한 값 (초)을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-368">Specifies the SQL command timeout value (in seconds).</span></span> <span data-ttu-id="ccd00-369">기본값은 30입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-369">The default value is 30.</span></span> |
| `connectionStringName` | <span data-ttu-id="ccd00-370">연결 문자열의 이름에서 `<connectionStrings>` 사용자 저장소 데이터베이스에 연결 하는 데 사용 하는 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-370">The name of the connection string in the `<connectionStrings>` element to use to connect to the user store database.</span></span> <span data-ttu-id="ccd00-371">이 값이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-371">This value is required.</span></span> |
| `description` | <span data-ttu-id="ccd00-372">등록 된 공급자의 사용자에 게 친숙 한 설명을 제공합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-372">Provides a human-friendly description of the registered provider.</span></span> |
| `enablePasswordRetrieval` | <span data-ttu-id="ccd00-373">사용자가 잊어버린된 암호를 검색할 수 있는지 여부를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-373">Specifies whether users may retrieve their forgotten password.</span></span> <span data-ttu-id="ccd00-374">기본값은 `false`입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-374">The default value is `false`.</span></span> |
| `enablePasswordReset` | <span data-ttu-id="ccd00-375">사용자가 자신의 암호를 재설정할 수 있는지 여부를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-375">Indicates whether users are allowed to reset their password.</span></span> <span data-ttu-id="ccd00-376">기본값은 `true`입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-376">Defaults to `true`.</span></span> |
| `maxInvalidPasswordAttempts` | <span data-ttu-id="ccd00-377">지정된 된 사용자에 대 한 지정 된 하는 동안 발생할 수 있는 실패 한 로그인 시도의 최대 수 `passwordAttemptWindow` 사용자를 잠그기 전에 합니다. 기본값은 5입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-377">The maximum number of unsuccessful login attempts that may occur for a given user during the specified `passwordAttemptWindow` before the user is locked out. The default value is 5.</span></span> |
| `minRequiredNonalphanumericCharacters` | <span data-ttu-id="ccd00-378">최소 사용자의 암호에 표시 되어야 하는 영숫자가 아닌 문자 수입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-378">The minimum number of non-alphanumeric characters that must appear in a user's password.</span></span> <span data-ttu-id="ccd00-379">이 값은 0에서 128; 사이 여야 합니다. 기본값은 1입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-379">This value must be between 0 and 128; the default is 1.</span></span> |
| `minRequiredPasswordLength` | <span data-ttu-id="ccd00-380">최소 암호에 필요한 문자 수입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-380">The minimum number of characters required in a password.</span></span> <span data-ttu-id="ccd00-381">이 값은 0에서 128; 사이 여야 합니다. 기본값은 7입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-381">This value must be between 0 and 128; the default is 7.</span></span> |
| `name` | <span data-ttu-id="ccd00-382">등록 된 공급자의 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-382">The name of the registered provider.</span></span> <span data-ttu-id="ccd00-383">이 값이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-383">This value is required.</span></span> |
| `passwordAttemptWindow` | <span data-ttu-id="ccd00-384">시간을 분 단위로가 못했습니다 로그인 시도가 추적 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-384">The number of minutes during which failed login attempts are tracked.</span></span> <span data-ttu-id="ccd00-385">사용자는 잘못 된 로그인 자격 증명을 제공 하는 경우 `maxInvalidPasswordAttempts` 시간이 내의 지정 창는 잠깁니다. 기본값은 10입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-385">If a user supplies invalid login credentials `maxInvalidPasswordAttempts` times within this specified window, they are locked out. The default value is 10.</span></span> |
| `PasswordFormat` | <span data-ttu-id="ccd00-386">암호 저장 형식: `Clear`, `Hashed`, 또는 `Encrypted`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-386">The password storage format: `Clear`, `Hashed`, or `Encrypted`.</span></span> <span data-ttu-id="ccd00-387">기본값은 `Hashed`입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-387">The default is `Hashed`.</span></span> |
| `passwordStrengthRegularExpression` | <span data-ttu-id="ccd00-388">제공 된 정규식이 암호를 변경할 때 또는 새 계정을 만들 때 사용자의 선택 된 암호의 강도 평가 하 ´ ù.</span><span class="sxs-lookup"><span data-stu-id="ccd00-388">If provided, this regular expression is used to evaluate the strength of the user's selected password when creating a new account or when changing their password.</span></span> <span data-ttu-id="ccd00-389">기본값은 빈 문자열입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-389">The default value is an empty string.</span></span> |
| `requiresQuestionAndAnswer` | <span data-ttu-id="ccd00-390">사용자가 암호 다시 설정 하거나 검색할 때 그의 보안 질문에 대답 해야 하는지 여부를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-390">Specifies whether a user must answer his security question when retrieving or resetting his password.</span></span> <span data-ttu-id="ccd00-391">기본값은 `true`입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-391">The default value is `true`.</span></span> |
| `requiresUniqueEmail` | <span data-ttu-id="ccd00-392">지정 된 응용 프로그램 파티션에 있는 모든 사용자 계정에 고유한 전자 메일 주소가 있어야 하는지 여부를 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-392">Indicates whether all user accounts in a given application partition must have a unique email address.</span></span> <span data-ttu-id="ccd00-393">기본값은 `true`입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-393">The default value is `true`.</span></span> |
| `type` | <span data-ttu-id="ccd00-394">공급자의 유형을 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-394">Specifies the type of the provider.</span></span> <span data-ttu-id="ccd00-395">이 값이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-395">This value is required.</span></span> |

<span data-ttu-id="ccd00-396">**표 2**: 멤버 자격 및 `SqlMembershipProvider` 구성 설정</span><span class="sxs-lookup"><span data-stu-id="ccd00-396">**Table 2**: Membership and `SqlMembershipProvider` Configuration Settings</span></span>

<span data-ttu-id="ccd00-397">외에 `AspNetSqlMembershipProvider`, 유사한 태그를 추가 하 여 응용 프로그램에서 응용 프로그램 별로 다른 멤버 자격 공급자를 등록할 수 있습니다는 `Web.config` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-397">In addition to `AspNetSqlMembershipProvider`, other Membership providers may be registered on an application-by-application basis by adding similar markup to the `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-398">역할 프레임 워크 동일한 방식으로 거의:에 기본 등록 된 역할 공급자가 `machine.config` 에서 응용 프로그램에서 응용 프로그램으로 등록 된 공급자를 사용자 지정할 수 있습니다 및 `Web.config`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-398">The Roles framework works in much the same way: there is a default registered role provider in `machine.config` and the registered providers may be customized on an application-by-application basis in `Web.config`.</span></span> <span data-ttu-id="ccd00-399">역할 프레임 워크 및 세부 정보에서 해당 구성 태그는 이후 자습서 검토할 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-399">We will examine the Roles framework and its configuration markup in detail in a future tutorial.</span></span>

### <a name="customizing-thesqlmembershipprovidersettings"></a><span data-ttu-id="ccd00-400">사용자 지정의`SqlMembershipProvider`설정</span><span class="sxs-lookup"><span data-stu-id="ccd00-400">Customizing the`SqlMembershipProvider`Settings</span></span>

<span data-ttu-id="ccd00-401">기본 `SqlMembershipProvider` (`AspNetSqlMembershipProvider`)가 해당 `connectionStringName` 특성이로 설정 `LocalSqlServer`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-401">The default `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) has its `connectionStringName` attribute set to `LocalSqlServer`.</span></span> <span data-ttu-id="ccd00-402">마찬가지로 `AspNetSqlMembershipProvider` 공급자, 연결 문자열 이름 `LocalSqlServer` 에 정의 된 `machine.config`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-402">Like the `AspNetSqlMembershipProvider` provider, the connection string name `LocalSqlServer` is defined in `machine.config`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample2.xml)]

<span data-ttu-id="ccd00-403">이 연결 문자열 정의에 있는 데이터베이스는 SQL 2005 Express Edition 볼 수 있듯이 | DataDirectory|aspnetdb.mdf 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-403">As you can see, this connection string defines a SQL 2005 Express Edition database located at |DataDirectory|aspnetdb.mdf.</span></span> <span data-ttu-id="ccd00-404">문자열 | DataDirectory | 가리키도록 런타임에 변환에서 `~/App_Data/` 디렉터리 하므로 데이터베이스 경로 | 로 변환 DataDirectory|aspnetdb.mdf `~/App_Data` / `aspnet.mdf`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-404">The string |DataDirectory| is translated at runtime to point to the `~/App_Data/` directory, so the database path |DataDirectory|aspnetdb.mdf translates to `~/App_Data`/`aspnet.mdf`.</span></span>

<span data-ttu-id="ccd00-405">이 응용 프로그램에서 한 멤버 자격 공급자 정보를 지정 하지 않았기 경우 `Web.config` 파일, 응용 프로그램에 등록 된 기본 멤버 자격 공급자를 사용 하 여 `AspNetSqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-405">If we did not specify any Membership provider information in our application's `Web.config` file, the application uses the default registered Membership provider, `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-406">경우는 `~/App_Data/aspnet.mdf` 데이터베이스가 존재 하지 않습니다, ASP.NET 런타임이 자동으로 만들고 응용 프로그램 서비스 스키마를 추가 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-406">If the `~/App_Data/aspnet.mdf` database does not exist, the ASP.NET runtime will automatically create it and add the application services schema.</span></span> <span data-ttu-id="ccd00-407">그러나에서는 사용 하지 않음은 `aspnet.mdf` 데이터베이스; 대신 사용 하려는 `SecurityTutorials.mdf` 2 단계에서에서 만든 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-407">However, we don't want to use the `aspnet.mdf` database; rather, we want to use the `SecurityTutorials.mdf` database we created in Step 2.</span></span> <span data-ttu-id="ccd00-408">두 가지 방법 중 하나에서이 수정 작업을 수행할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-408">This modification can be accomplished in one of two ways:</span></span>

- <span data-ttu-id="ccd00-409">**에 대 한 값을 지정 된 * * *`LocalSqlServer`* * * 연결 문자열 이름에 * * *`Web.config`* * *입니다.**</span><span class="sxs-lookup"><span data-stu-id="ccd00-409">**Specify a value for the****`LocalSqlServer`****connection string name in****`Web.config`****.**</span></span> <span data-ttu-id="ccd00-410">덮어쓰는 방법으로 `LocalSqlServer` 연결 문자열 이름 값의 `Web.config`, 등록 된 기본 멤버 자격 공급자를 사용할 수 있습니다 (`AspNetSqlMembershipProvider`)와 올바르게 사용할는 `SecurityTutorials.mdf` 데이터베이스입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-410">By overwriting the `LocalSqlServer` connection string name value in `Web.config`, we can use the default registered Membership provider (`AspNetSqlMembershipProvider`) and have it correctly work with the `SecurityTutorials.mdf` database.</span></span> <span data-ttu-id="ccd00-411">이 방법은 지정 된 구성 설정으로 콘텐츠는 괜 찮으 `AspNetSqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-411">This approach is fine if you are content with the configuration settings specified by `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-412">이 방법에 대 한 자세한 내용은 참조 하십시오. [Scott Guthrie](https://weblogs.asp.net/scottgu/)의 블로그 게시물 [구성 ASP.NET 2.0 응용 프로그램 서비스를 사용 하 여 SQL Server 2000 또는 SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-412">For more information on this technique, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span></span>
- <span data-ttu-id="ccd00-413">**형식 * * *의 새 등록 된 공급자를 추가`SqlMembershipProvider`* * * 구성 및 해당 * * *`connectionStringName`* * *를 가리키도록 설정에서 * * *`SecurityTutorials.mdf`* * * 데이터베이스입니다.**</span><span class="sxs-lookup"><span data-stu-id="ccd00-413">**Add a new registered provider of type****`SqlMembershipProvider`****and configure its****`connectionStringName`****setting to point to the****`SecurityTutorials.mdf`****database.**</span></span> <span data-ttu-id="ccd00-414">이 방법은 데이터베이스 연결 문자열 뿐 아니라 구성 속성을 다른 사용자 지정 하려는 시나리오에서 유용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-414">This approach is useful in scenarios where you want to customize other configuration properties in addition to the database connection string.</span></span> <span data-ttu-id="ccd00-415">나만의 프로젝트에서 항상 사용이 방법을 사용의 유연성과 가독성 때문에 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-415">In my own projects I always use this approach because of its flexibility and readability.</span></span>

<span data-ttu-id="ccd00-416">참조 하는 새 등록 된 공급자를 추가 하기 전에 `SecurityTutorials.mdf` 데이터베이스에 먼저 추가 해야 한다고를 적절 한 연결 문자열 값에는 `<connectionStrings>` 섹션 `Web.config`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-416">Before we can add a new registered provider that references the `SecurityTutorials.mdf` database, we first need to add an appropriate connection string value in the `<connectionStrings>` section in `Web.config`.</span></span> <span data-ttu-id="ccd00-417">라는 새 연결 문자열을 추가 하는 다음 태그 `SecurityTutorialsConnectionString` SQL Server 2005 Express Edition을 참조 하는 `SecurityTutorials.mdf` 여기에 데이터베이스는 `App_Data` 폴더입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-417">The following markup adds a new connection string named `SecurityTutorialsConnectionString` that references the SQL Server 2005 Express Edition `SecurityTutorials.mdf` database in the `App_Data` folder.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="ccd00-418">대체 데이터베이스 파일을 사용 하는 경우 필요에 따라 연결 문자열을 업데이트 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-418">If you are using an alternate database file, update the connection string as needed.</span></span> <span data-ttu-id="ccd00-419">올바른 연결 문자열을 형성에 자세한 내용은를 참조 [ConnectionStrings.com](http://www.connectionstrings.com/)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-419">For more information on forming the correct connection string, refer to [ConnectionStrings.com](http://www.connectionstrings.com/).</span></span>

<span data-ttu-id="ccd00-420">다음에 다음 구성원 구성 태그를를 추가 `Web.config` 파일입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-420">Next, add the following Membership configuration markup to the `Web.config` file.</span></span> <span data-ttu-id="ccd00-421">라는 새 공급자를 등록 하는이 태그 `SecurityTutorialsSqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-421">This markup registers a new provider named `SecurityTutorialsSqlMembershipProvider`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-vb/samples/sample4.xml)]

<span data-ttu-id="ccd00-422">등록할 뿐만 아니라는 `SecurityTutorialsSqlMembershipProvider` 공급자, 위의 태그는 정의 `SecurityTutorialsSqlMembershipProvider` 기본 공급자로 (통해는 `defaultProvider` 특성에 `<membership>` 요소).</span><span class="sxs-lookup"><span data-stu-id="ccd00-422">In addition to registering the `SecurityTutorialsSqlMembershipProvider` provider, the above markup defines the `SecurityTutorialsSqlMembershipProvider` as the default provider (via the `defaultProvider` attribute in the `<membership>` element).</span></span> <span data-ttu-id="ccd00-423">멤버 자격 프레임 워크 여러 개 등록 된 공급자를 가질 수 있다는 점에 유의 하세요.</span><span class="sxs-lookup"><span data-stu-id="ccd00-423">Recall that the Membership framework can have multiple registered providers.</span></span> <span data-ttu-id="ccd00-424">이후 `AspNetSqlMembershipProvider` 에서 첫 번째 공급자로 등록 `machine.config`, 여기서 명시 하지 않는 한 기본 공급자로 사용 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-424">Since `AspNetSqlMembershipProvider` is registered as the first provider in `machine.config`, it serves as the default provider unless we indicate otherwise.</span></span>

<span data-ttu-id="ccd00-425">현재 응용 프로그램에 두 명의 등록 된 공급자: `AspNetSqlMembershipProvider` 및 `SecurityTutorialsSqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-425">Currently, our application has two registered providers: `AspNetSqlMembershipProvider` and `SecurityTutorialsSqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-426">그러나 등록 하기 전에는 `SecurityTutorialsSqlMembershipProvider` 우리 수 선택을 취소 한 모든 이전에 공급자를 추가 하 여 공급자를 등록 한 [ `<clear />` 요소](https://msdn.microsoft.com/library/t062y6yc.aspx) 바로 앞 우리의 `<add>` 요소입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-426">However, before registering the `SecurityTutorialsSqlMembershipProvider` provider we could have cleared out all previously registered providers by adding a [`<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) immediately before our `<add>` element.</span></span> <span data-ttu-id="ccd00-427">지울 것이 고 `AspNetSqlMembershipProvider` 의미 하는 등록 된 공급자 목록에서는 `SecurityTutorialsSqlMembershipProvider` 유일한 등록 된 멤버 자격 공급자는 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-427">This would clear out the `AspNetSqlMembershipProvider` from the list of registered providers, meaning that the `SecurityTutorialsSqlMembershipProvider` would be the only registered Membership provider.</span></span> <span data-ttu-id="ccd00-428">이 방법을 사용한 경우 표시 해야 하지는 `SecurityTutorialsSqlMembershipProvider` 기본 공급자로 이후에 것이 유일한 등록 된 멤버 자격 공급자입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-428">If we used this approach, then we would not need to mark the `SecurityTutorialsSqlMembershipProvider` as the default provider, since it would be the only registered Membership provider.</span></span> <span data-ttu-id="ccd00-429">사용 하 여 대 한 자세한 내용은 `<clear />`, 참조 [Using `<clear />` 공급자도 추가](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-429">For more information on using `<clear />`, see [Using `<clear />` When Adding providers](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span></span>

<span data-ttu-id="ccd00-430">`SecurityTutorialsSqlMembershipProvider`의 `connectionStringName` 는 방금 추가 된 참조를 설정 `SecurityTutorialsConnectionString` 있고 연결 문자열 이름, 해당 `applicationName` SecurityTutorials의 값으로 설정 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-430">Note that the `SecurityTutorialsSqlMembershipProvider`'s `connectionStringName` setting references the just-added `SecurityTutorialsConnectionString` connection string name, and that its `applicationName` setting has been set to a value of SecurityTutorials.</span></span> <span data-ttu-id="ccd00-431">또한는 `requiresUniqueEmail` 설정으로 설정 된 `true`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-431">Additionally, the `requiresUniqueEmail` setting has been set to `true`.</span></span> <span data-ttu-id="ccd00-432">다른 모든 구성 옵션의 값에 동일 `AspNetSqlMembershipProvider`합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-432">All other configuration options are identical to the values in `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="ccd00-433">자유롭게 여기에서 구성 수정 하려는 경우.</span><span class="sxs-lookup"><span data-stu-id="ccd00-433">Feel free to make any configuration modifications here, if you wish.</span></span> <span data-ttu-id="ccd00-434">예를 들어 대신 하나, 두 개의 영숫자 이외의 문자를 요구 하거나를 8 자로 7 대신 암호 길이 늘려 암호 강도 강화할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-434">For example, you could tighten the password strength by requiring two non-alphanumeric characters instead of one, or by increasing the password length to eight characters instead of seven.</span></span>

> [!NOTE]
> <span data-ttu-id="ccd00-435">여러 응용 프로그램에 분할할 수를 단일 사용자 저장소에 대 한 멤버 자격 프레임 워크에서는 없다는 것을 기억 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-435">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="ccd00-436">멤버 자격 공급자 `applicationName` 설정 공급자가 사용자 저장소와 함께 작업할 때 사용 하는 응용 프로그램을 나타냅니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-436">The Membership provider's `applicationName` setting indicates what application the provider uses when working with the user store.</span></span> <span data-ttu-id="ccd00-437">것이 중요에 대 한 값을 명시적으로 설정 하는 `applicationName` 때문에 구성 설정의 경우는 `applicationName` 명시적으로 설정 하지 않으면 런타임 시 웹 응용 프로그램의 가상 루트 경로에 할당 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-437">It is important that you explicitly set a value for the `applicationName` configuration setting because if the `applicationName` is not explicitly set, it is assigned to the web application's virtual root path at runtime.</span></span> <span data-ttu-id="ccd00-438">이 기능이 제대로 작동 하지만 응용 프로그램을 다른 경로로 이동 하는 경우 응용 프로그램의 가상 루트 경로 변경 하지 않는 상태로 `applicationName` 설정도 변경 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-438">This works fine as long as the application's virtual root path doesn't change, but if you move the application to a different path, the `applicationName` setting will change too.</span></span> <span data-ttu-id="ccd00-439">이런 경우 멤버 자격 공급자는 이전에 사용한 것 다른 응용 프로그램 파티션이 포함 된 작업을 시작 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-439">When this happens, the Membership provider will start working with a different application partition than was previously used.</span></span> <span data-ttu-id="ccd00-440">이동 하기 전에 만들어진 사용자 계정은 다른 응용 프로그램 파티션에 있으며 해당 사용자가 더 이상 사이트에 로그인 할 수 없게 됩니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-440">User accounts created prior to the move will reside in a different application partition and those users will no longer be able to log into the site.</span></span> <span data-ttu-id="ccd00-441">이 문제에 대 한 심도 있는 논의 알려면 [항상 설정 된 `applicationName` 속성 때 구성 ASP.NET 2.0 멤버 자격 및 기타 공급자](https://weblogs.asp.net/scottgu/443634)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-441">For a more in-depth discussion on this matter, see [Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers](https://weblogs.asp.net/scottgu/443634).</span></span>

## <a name="summary"></a><span data-ttu-id="ccd00-442">요약</span><span class="sxs-lookup"><span data-stu-id="ccd00-442">Summary</span></span>

<span data-ttu-id="ccd00-443">구성 된 응용 프로그램 서비스를 사용 하 여 데이터베이스 했으므로 시점에서 (`SecurityTutorials.mdf`) 및에 멤버 자격 프레임 워크를 사용 하도록 웹 응용 프로그램의 구성에서 `SecurityTutorialsSqlMembershipProvider` 공급자 방금 등록 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-443">At this point we have a database with the configured application services (`SecurityTutorials.mdf`) and have configured our web application so that the Membership framework uses the `SecurityTutorialsSqlMembershipProvider` provider we just registered.</span></span> <span data-ttu-id="ccd00-444">이 등록 된 공급자는 형식의 `SqlMembershipProvider` 되었으며 해당 `connectionStringName` 적절 한 연결 문자열을 설정 (`SecurityTutorialsConnectionString`) 및 해당 `applicationName` 값 명시적으로 설정 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-444">This registered provider is of type `SqlMembershipProvider` and has its `connectionStringName` set to the appropriate connection string (`SecurityTutorialsConnectionString`) and its `applicationName` value explicitly set.</span></span>

<span data-ttu-id="ccd00-445">이제 응용 프로그램에서 멤버 자격 프레임 워크를 사용할 준비가 되었습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-445">We are now ready to use the Membership framework from our application.</span></span> <span data-ttu-id="ccd00-446">다음 자습서를 새 사용자 계정을 만드는 방법을 살펴보겠습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-446">In the next tutorial we will examine how to create new user accounts.</span></span> <span data-ttu-id="ccd00-447">다음 사용자 인증, 사용자 기반 권한 부여를 수행 하 고 데이터베이스에 추가 사용자 관련 정보를 저장 합니다. 살펴볼 것입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-447">Following that we will explore authenticating users, performing user-based authorization, and storing additional user-related information in the database.</span></span>

<span data-ttu-id="ccd00-448">만족도 매우 프로그래밍!</span><span class="sxs-lookup"><span data-stu-id="ccd00-448">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="ccd00-449">추가 정보</span><span class="sxs-lookup"><span data-stu-id="ccd00-449">Further Reading</span></span>

<span data-ttu-id="ccd00-450">이 자습서에 설명 된 항목에 대 한 자세한 내용은 다음 리소스를 참조 하세요.</span><span class="sxs-lookup"><span data-stu-id="ccd00-450">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="ccd00-451">항상 설정 된 `applicationName` 속성 때 구성 ASP.NET 2.0 멤버 자격 및 기타 공급자</span><span class="sxs-lookup"><span data-stu-id="ccd00-451">Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other providers</span></span>](https://weblogs.asp.net/scottgu/443634)
- [<span data-ttu-id="ccd00-452">사용 하 여 SQL Server 2000 또는 SQL Server 2005 응용 프로그램 서비스 ASP.NET 2.0 구성</span><span class="sxs-lookup"><span data-stu-id="ccd00-452">Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005</span></span>](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)
- [<span data-ttu-id="ccd00-453">SQL Server Management Studio Express Edition 다운로드</span><span class="sxs-lookup"><span data-stu-id="ccd00-453">Download SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)
- [<span data-ttu-id="ccd00-454">ASP.NET 2.0 검사 s 멤버 자격, 역할 및 프로필</span><span class="sxs-lookup"><span data-stu-id="ccd00-454">Examining ASP.NET 2.0�s Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="ccd00-455">`<add>` 멤버 자격에 대 한 공급자에 대 한 요소</span><span class="sxs-lookup"><span data-stu-id="ccd00-455">The `<add>` Element for providers for Membership</span></span>](https://msdn.microsoft.com/library/whae3t94.aspx)
- [<span data-ttu-id="ccd00-456">`<membership>` 요소</span><span class="sxs-lookup"><span data-stu-id="ccd00-456">The `<membership>` Element</span></span>](https://msdn.microsoft.com/library/1b9hw62f.aspx)
- [<span data-ttu-id="ccd00-457">`<providers>` 멤버 자격에 대 한 요소</span><span class="sxs-lookup"><span data-stu-id="ccd00-457">The `<providers>` Element for Membership</span></span>](https://msdn.microsoft.com/library/6d4936ht.aspx)
- [<span data-ttu-id="ccd00-458">사용 하 여 `<clear />` 공급자 추가</span><span class="sxs-lookup"><span data-stu-id="ccd00-458">Using `<clear />` When Adding providers</span></span>](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)
- [<span data-ttu-id="ccd00-459">와 직접 작업 하는`SqlMembershipProvider`</span><span class="sxs-lookup"><span data-stu-id="ccd00-459">Working Directly with the `SqlMembershipProvider`</span></span>](http://aspnet.4guysfromrolla.com/articles/091207-1.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="ccd00-460">이 자습서에 포함 된 항목에 대 한 비디오 교육</span><span class="sxs-lookup"><span data-stu-id="ccd00-460">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="ccd00-461">ASP.NET 멤버 자격 이해</span><span class="sxs-lookup"><span data-stu-id="ccd00-461">Understanding ASP.NET Memberships</span></span>](../../../videos/authentication/understanding-aspnet-memberships.md)
- [<span data-ttu-id="ccd00-462">멤버 자격 스키마와 함께 작동하도록 SQL 구성</span><span class="sxs-lookup"><span data-stu-id="ccd00-462">Configuring SQL To Work with Membership Schemas</span></span>](../../../videos/authentication/configuring-sql-to-work-with-membership-schemas.md)
- [<span data-ttu-id="ccd00-463">기본 멤버 자격 스키마에서 멤버 자격 설정 변경</span><span class="sxs-lookup"><span data-stu-id="ccd00-463">Changing Membership Settings in the Default Membership Schema</span></span>](../../../videos/authentication/changing-membership-settings-in-the-default-membership-schema.md)

### <a name="about-the-author"></a><span data-ttu-id="ccd00-464">작성자 정보</span><span class="sxs-lookup"><span data-stu-id="ccd00-464">About the Author</span></span>

<span data-ttu-id="ccd00-465">여러 ASP/ASP.NET 책의 작성자 및 4GuysFromRolla.com의 창립자 Scott Mitchell의 근무 기간이 Microsoft 웹 기술을 1998 이후입니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-465">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="ccd00-466">Scott 독립 컨설턴트, 강사, 기술 및 작성기 작동합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-466">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="ccd00-467">그의 최신 서적은  *[Sam 업무량이 직접 ASP.NET 2.0 24 시간 동안에서](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-467">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="ccd00-468">Scott에 도달할 수 [ mitchell@4guysfromrolla.com ](mailto:mitchell@4guysfromrolla.com) 또는에서 그의 블로그 통해 [http://ScottOnWriting.NET](http://scottonwriting.net/)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-468">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="ccd00-469">특별히 감사</span><span class="sxs-lookup"><span data-stu-id="ccd00-469">Special Thanks To</span></span>

<span data-ttu-id="ccd00-470">이 자습서 시리즈 많은 유용한 검토자가 검토 합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-470">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="ccd00-471">이 자습서에 대 한 선행 검토자 Alicja Maziarz 했습니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-471">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="ccd00-472">향후 내 MSDN 문서를 검토에 관심이 있으십니까?</span><span class="sxs-lookup"><span data-stu-id="ccd00-472">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="ccd00-473">이 경우 drop me에 한 줄씩 [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com)합니다.</span><span class="sxs-lookup"><span data-stu-id="ccd00-473">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com).</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="ccd00-474">[이전](storing-additional-user-information-cs.md)
[다음](creating-user-accounts-vb.md)</span><span class="sxs-lookup"><span data-stu-id="ccd00-474">[Previous](storing-additional-user-information-cs.md)
[Next](creating-user-accounts-vb.md)</span></span>
